import{a6 as sh,a7 as X$,a8 as nm,a9 as rp,aa as q8,ab as F8,ac as V8,a as U8,M as H8,r as Ti,X as W8,e as R1,ad as K8,y as Z$,w as ip,g as rm,R as G8,o as Md,f as ek,D as cr,j as Or,N as tk,$ as hs,h as N1,a5 as J8,a0 as Q8}from"./index-C1aDNhoF.js";import{t as Y8,h as nk,i as X8,j as ah,k as Z8,l as e5,m as t5,n as n5,o as r5,p as i5,q as o5,r as s5,s as a5,u as l5,v as c5,w as u5,x as im,y as d5,z as f5,A as h5,B as Ct,C as tf,D as p5,E as rk,a as m5,b as g5,c as v5,d as y5,e as b5,f as x5,g as w5}from"./index-C2vceC4_.js";import{z as ik,A as j5,B as $5,y as om,g as ok,x as k5}from"./_plugin-vue_export-helper-9B8IkehE.js";import{F as C5,A as S5,U as O5,a as E5,D as A5}from"./mappingApi-7N3ABS8W.js";var D1=1/0,M5=17976931348623157e292;function Pd(n){if(!n)return n===0?n:0;if(n=Y8(n),n===D1||n===-D1){var e=n<0?-1:1;return e*M5}return n===n?n:0}function P5(n){var e=Pd(n),t=e%1;return e===e?t?e-t:e:0}function tr(){}function _5(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+e];return o}var T5=1,R5=4;function sm(n){return nk(n,T5|R5)}var N5=1,D5=4;function I5(n,e){return e=typeof e=="function"?e:void 0,nk(n,N5|D5,e)}function z5(n,e,t,r){for(var i=-1,o=n==null?0:n.length;++i<o;){var s=n[i];e(r,s,t(s),n)}return r}function L5(n,e,t,r){return X8(n,function(i,o,s){e(r,i,t(i),s)}),r}function sk(n,e){return function(t,r){var i=sh(t)?z5:L5,o=e?e():{};return i(t,n,ah(r),o)}}function kt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function ak(n){return typeof n=="function"?n:ik}function B5(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var q5=Z8(!0);function F5(n,e){return n&&q5(n,e,e5)}var V5=t5(F5,!0);function U5(n,e){var t=sh(n)?B5:V5;return t(n,ak(e))}function Lo(n){return n&&n.length?n[0]:void 0}var H5=Object.prototype,W5=H5.hasOwnProperty,K5=sk(function(n,e,t){W5.call(n,t)?n[t].push(e):X$(n,t,[e])});function _t(n){var e=n==null?0:n.length;return e?_5(n,0,-1):[]}var G5="[object Map]",J5="[object Set]",Q5=Object.prototype,Y5=Q5.hasOwnProperty;function Lt(n){if(n==null)return!0;if(n5(n)&&(sh(n)||typeof n=="string"||typeof n.splice=="function"||r5(n)||i5(n)||j5(n)))return!n.length;var e=o5(n);if(e==G5||e==J5)return!n.size;if(s5(n))return!a5(n).length;for(var t in n)if(Y5.call(n,t))return!1;return!0}function X5(n,e){return n<e}function Z5(n,e){var t={};return e=ah(e),l5(n,function(r,i,o){X$(t,i,e(r,i,o))}),t}function eO(n,e,t){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!nm(s):t(s,a)))var a=s,l=o}return l}function Tu(n,e){return n&&n.length?eO(n,ah(e),X5):void 0}function tO(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function nO(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,o=nm(n),s=e!==void 0,a=e===null,l=e===e,c=nm(e);if(!a&&!c&&!o&&n>e||o&&s&&l&&!a&&!c||r&&s&&l||!t&&l||!i)return 1;if(!r&&!o&&!c&&n<e||c&&t&&i&&!r&&!o||a&&t&&i||!s&&i||!l)return-1}return 0}function rO(n,e,t){for(var r=-1,i=n.criteria,o=e.criteria,s=i.length,a=t.length;++r<s;){var l=nO(i[r],o[r]);if(l){if(r>=a)return l;var c=t[r];return l*(c=="desc"?-1:1)}}return n.index-e.index}function iO(n,e,t){e.length?e=rp(e,function(o){return sh(o)?function(s){return q8(s,o.length===1?o[0]:o)}:o}):e=[ik];var r=-1;e=rp(e,c5(ah));var i=u5(n,function(o,s,a){var l=rp(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return tO(i,function(o,s){return rO(o,s,t)})}var oO=sk(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),sO=Math.ceil,aO=Math.max;function lO(n,e,t,r){for(var i=-1,o=aO(sO((e-n)/(t||1)),0),s=Array(o);o--;)s[++i]=n,n+=t;return s}function cO(n){return function(e,t,r){return r&&typeof r!="number"&&im(e,t,r)&&(t=r=void 0),e=Pd(e),t===void 0?(t=e,e=0):t=Pd(t),r=r===void 0?e<t?1:-1:Pd(r),lO(e,t,r)}}var lk=cO(),uO=d5(function(n,e){if(n==null)return[];var t=e.length;return t>1&&im(n,e[0],e[1])?e=[]:t>2&&im(e[0],e[1],e[2])&&(e=[e[0]]),iO(n,$5(e),[])}),dO=9007199254740991,op=4294967295,fO=Math.min;function hO(n,e){if(n=P5(n),n<1||n>dO)return[];var t=op,r=fO(n,op);e=ak(e),n-=op;for(var i=f5(r,e);++t<n;)e(t);return i}var pO=0;function gl(n){var e=++pO;return F8(n)+e}var I1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function mO(n,e){return!!(n===e||I1(n)&&I1(e))}function gO(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!mO(n[t],e[t]))return!1;return!0}function du(n,e){e===void 0&&(e=gO);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}function vn(n){return Array.isArray(n)}function An(n){return n!==null&&typeof n=="object"&&(n.constructor===void 0||n.constructor.name==="Object")}function ck(n){return n&&typeof n=="object"?n.op==="add":!1}function uk(n){return n&&typeof n=="object"?n.op==="remove":!1}function n0(n){return n&&typeof n=="object"?n.op==="replace":!1}function am(n){return n&&typeof n=="object"?n.op==="copy":!1}function tl(n){return n&&typeof n=="object"?n.op==="move":!1}function vO(n,e){return JSON.stringify(n)===JSON.stringify(e)}function yO(n,e){return n===e}function dk(n){return n.slice(0,n.length-1)}function bO(n){return n[n.length-1]}function xO(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yO;if(n.length<e.length)return!1;for(let r=0;r<e.length;r++)if(!t(n[r],e[r]))return!1;return!0}function fk(n){return typeof n=="object"&&n!==null}function r0(n){if(vn(n)){const e=n.slice();return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else if(An(n)){const e={...n};return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else return n}function i0(n,e,t){if(n[e]===t)return n;{const r=r0(n);return r[e]=t,r}}function De(n,e){let t=n,r=0;for(;r<e.length;)An(t)?t=t[e[r]]:vn(t)?t=t[parseInt(e[r])]:t=void 0,r++;return t}function Rr(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return t;const i=e[0],o=Rr(n?n[i]:void 0,e.slice(1),t,r);if(An(n)||vn(n))return i0(n,i,o);if(r){const s=wO.test(i)?[]:{};return s[i]=o,s}else throw new Error("Path does not exist")}const wO=/^\d+$/;function o0(n,e,t){if(e.length===0)return t(n);if(!fk(n))throw new Error("Path doesn't exist");const r=e[0],i=o0(n[r],e.slice(1),t);return i0(n,r,i)}function lh(n,e){if(e.length===0)return n;if(!fk(n))throw new Error("Path does not exist");if(e.length===1){const i=e[0];if(i in n){const o=r0(n);return vn(o)&&o.splice(parseInt(i),1),An(o)&&delete o[i],o}else return n}const t=e[0],r=lh(n[t],e.slice(1));return i0(n,t,r)}function s0(n,e,t){const r=e.slice(0,e.length-1),i=e[e.length-1];return o0(n,r,o=>{if(!Array.isArray(o))throw new TypeError("Array expected at path "+JSON.stringify(r));const s=r0(o);return s.splice(parseInt(i),0,t),s})}function hi(n,e){return n===void 0?!1:e.length===0?!0:n===null?!1:hi(n[e[0]],e.slice(1))}function bi(n){const e=n.split("/");return e.shift(),e.map(t=>t.replace(/~1/g,"/").replace(/~0/g,"~"))}function it(n){return n.map(hk).join("")}function hk(n){return"/"+String(n).replace(/~/g,"~0").replace(/\//g,"~1")}function lm(n,e){return n+hk(e)}function Ni(n,e,t){let r=n;for(let i=0;i<e.length;i++){AO(e[i]);let o=e[i];if(t&&t.before){const l=t.before(r,o);if(l!==void 0){if(l.document!==void 0&&(r=l.document),l.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');l.operation!==void 0&&(o=l.operation)}}const s=r,a=Di(r,o.path);if(o.op==="add")r=kO(r,a,o.value);else if(o.op==="remove")r=$O(r,a);else if(o.op==="replace")r=jO(r,a,o.value);else if(o.op==="copy")r=CO(r,a,cm(o.from));else if(o.op==="move")r=SO(r,a,cm(o.from));else if(o.op==="test")OO(r,a,o.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(o));if(t&&t.after){const l=t.after(r,o,s);l!==void 0&&(r=l)}}return r}function jO(n,e,t){return Rr(n,e,t)}function $O(n,e){return lh(n,e)}function kO(n,e,t){return fu(n,e)?s0(n,e,t):Rr(n,e,t)}function CO(n,e,t){const r=De(n,t);if(fu(n,e))return s0(n,e,r);{const i=De(n,t);return Rr(n,e,i)}}function SO(n,e,t){const r=De(n,t),i=lh(n,t);return fu(i,e)?s0(i,e,r):Rr(i,e,r)}function OO(n,e,t){if(t===void 0)throw new Error(`Test failed: no value provided (path: "${it(e)}")`);if(!hi(n,e))throw new Error(`Test failed: path not found (path: "${it(e)}")`);const r=De(n,e);if(!vO(r,t))throw new Error(`Test failed, value differs (path: "${it(e)}")`)}function fu(n,e){if(e.length===0)return!1;const t=De(n,dk(e));return Array.isArray(t)}function EO(n,e){if(bO(e)!=="-")return e;const t=dk(e),r=De(n,t);return t.concat(r.length)}function AO(n){if(!["add","remove","replace","copy","move","test"].includes(n.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(n.op));if(typeof n.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(n));if((n.op==="copy"||n.op==="move")&&typeof n.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(n))}function Di(n,e){return EO(n,bi(e))}function cm(n){return bi(n)}function pk(n,e,t){let r=[];return Ni(n,e,{before:(o,s)=>{let a;const l=Di(o,s.path);if(s.op==="add")a=vk(o,l);else if(s.op==="remove")a=gk(o,l);else if(s.op==="replace")a=mk(o,l);else if(s.op==="copy")a=MO(o,l);else if(s.op==="move")a=PO(o,l,cm(s.from));else if(s.op==="test")a=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(s));let c;if(t&&t.before){const u=t.before(o,s,a);if(u&&u.revertOperations&&(a=u.revertOperations),u&&u.document&&(c=u.document),u&&u.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(r=a.concat(r),c!==void 0)return{document:c}}}),r}function mk(n,e){return[{op:"replace",path:it(e),value:De(n,e)}]}function gk(n,e){return[{op:"add",path:it(e),value:De(n,e)}]}function vk(n,e){return fu(n,e)||!hi(n,e)?[{op:"remove",path:it(e)}]:mk(n,e)}function MO(n,e){return vk(n,e)}function PO(n,e,t){if(e.length<t.length&&xO(t,e))return[{op:"replace",path:it(e),value:n}];const r={op:"move",from:it(e),path:it(t)};return!fu(n,e)&&hi(n,e)?[r,...gk(n,e)]:[r]}var nf={},z1={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},_O=97;nf.parse=function(n,e,t){var r={},i=0,o=0,s=0,a=t&&t.bigint&&typeof BigInt<"u";return{data:l("",!0),pointers:r};function l(R,F){c();var Q;b(R,"value");var Z=g();switch(Z){case"t":p("rue"),Q=!0;break;case"f":p("alse"),Q=!1;break;case"n":p("ull"),Q=null;break;case'"':Q=u();break;case"[":Q=f(R);break;case"{":Q=h(R);break;default:v(),"-0123456789".indexOf(Z)>=0?Q=d():S()}return b(R,"valueEnd"),c(),F&&s<n.length&&S(),Q}function c(){e:for(;s<n.length;){switch(n[s]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:break e}s++}}function u(){for(var R="",F;F=g(),F!='"';)F=="\\"?(F=g(),F in z1?R+=z1[F]:F=="u"?R+=m():_()):R+=F;return R}function d(){var R="",F=!0;n[s]=="-"&&(R+=g()),R+=n[s]=="0"?g():y(),n[s]=="."&&(R+=g()+y(),F=!1),(n[s]=="e"||n[s]=="E")&&(R+=g(),(n[s]=="+"||n[s]=="-")&&(R+=g()),R+=y(),F=!1);var Q=+R;return a&&F&&(Q>Number.MAX_SAFE_INTEGER||Q<Number.MIN_SAFE_INTEGER)?BigInt(R):Q}function f(R){c();var F=[],Q=0;if(g()=="]")return F;for(v();;){var Z=R+"/"+Q;F.push(l(Z)),c();var J=g();if(J=="]")break;J!=","&&_(),c(),Q++}return F}function h(R){c();var F={};if(g()=="}")return F;for(v();;){var Q=x();g()!='"'&&_();var Z=u(),J=R+"/"+um(Z);j(J,"key",Q),b(J,"keyEnd"),c(),g()!=":"&&_(),c(),F[Z]=l(J),c();var U=g();if(U=="}")break;U!=","&&_(),c()}return F}function p(R){for(var F=0;F<R.length;F++)g()!==R[F]&&_()}function g(){B();var R=n[s];return s++,o++,R}function v(){s--,o--}function m(){for(var R=4,F=0;R--;){F<<=4;var Q=g().toLowerCase();Q>="a"&&Q<="f"?F+=Q.charCodeAt()-_O+10:Q>="0"&&Q<="9"?F+=+Q:_()}return String.fromCharCode(F)}function y(){for(var R="";n[s]>="0"&&n[s]<="9";)R+=g();if(R.length)return R;B(),S()}function b(R,F){j(R,F,x())}function j(R,F,Q){r[R]=r[R]||{},r[R][F]=Q}function x(){return{line:i,column:o,pos:s}}function S(){throw new SyntaxError("Unexpected token "+n[s]+" in JSON at position "+s)}function _(){v(),S()}function B(){if(s>=n.length)throw new SyntaxError("Unexpected end of JSON input")}};nf.stringify=function(n,e,t){if(!Ru(n))return;var r=0,i,o,s=typeof t=="object"?t.space:t;switch(typeof s){case"number":var a=s>10?10:s<0?0:Math.floor(s);s=a&&j(a," "),i=a,o=a;break;case"string":s=s.slice(0,10),i=0,o=0;for(var l=0;l<s.length;l++){var c=s[l];switch(c){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,r++;break;default:throw new Error("whitespace characters not allowed in JSON")}i++}break;default:s=void 0}var u="",d={},f=0,h=0,p=0,g=t&&t.es6&&typeof Map=="function";return v(n,0,""),{json:u,pointers:d};function v(x,S,_){switch(b(_,"value"),typeof x){case"number":case"bigint":case"boolean":m(""+x);break;case"string":m(Nu(x));break;case"object":x===null?m("null"):typeof x.toJSON=="function"?m(Nu(x.toJSON())):Array.isArray(x)?B():g?x.constructor.BYTES_PER_ELEMENT?B():x instanceof Map?F():x instanceof Set?F(!0):R():R()}b(_,"valueEnd");function B(){if(x.length){m("[");for(var Q=S+1,Z=0;Z<x.length;Z++){Z&&m(","),y(Q);var J=Ru(x[Z])?x[Z]:null,U=_+"/"+Z;v(J,Q,U)}y(S),m("]")}else m("[]")}function R(){var Q=Object.keys(x);if(Q.length){m("{");for(var Z=S+1,J=0;J<Q.length;J++){var U=Q[J],T=x[U];if(Ru(T)){J&&m(",");var re=_+"/"+um(U);y(Z),b(re,"key"),m(Nu(U)),b(re,"keyEnd"),m(":"),s&&m(" "),v(T,Z,re)}}y(S),m("}")}else m("{}")}function F(Q){if(x.size){m("{");for(var Z=S+1,J=!0,U=x.entries(),T=U.next();!T.done;){var re=T.value,ie=re[0],G=Q?!0:re[1];if(Ru(G)){J||m(","),J=!1;var L=_+"/"+um(ie);y(Z),b(L,"key"),m(Nu(ie)),b(L,"keyEnd"),m(":"),s&&m(" "),v(G,Z,L)}T=U.next()}y(S),m("}")}else m("{}")}}function m(x){h+=x.length,p+=x.length,u+=x}function y(x){if(s){for(u+=`
`+j(x,s),f++,h=0;x--;)r?(f+=r,h=o):h+=o,p+=i;p+=1}}function b(x,S){d[x]=d[x]||{},d[x][S]={line:f,column:h,pos:p}}function j(x,S){return Array(x+1).join(S)}};var TO=["number","bigint","boolean","string","object"];function Ru(n){return TO.indexOf(typeof n)>=0}var RO=/"|\\/g,NO=/[\b]/g,DO=/\f/g,IO=/\n/g,zO=/\r/g,LO=/\t/g;function Nu(n){return n=n.replace(RO,"\\$&").replace(DO,"\\f").replace(NO,"\\b").replace(IO,"\\n").replace(zO,"\\r").replace(LO,"\\t"),'"'+n+'"'}var BO=/~/g,qO=/\//g;function um(n){return n.replace(BO,"~0").replace(qO,"~1")}class _a extends Error{constructor(e,t){super("".concat(e," at position ").concat(t)),this.position=t}}const Du=92,sp=47,FO=42,L1=123,Iu=125,B1=91,zu=93,VO=40,UO=41,HO=32,a0=10,yk=9,bk=13,WO=8,KO=12,rf=34,q1=43,F1=45,xk=39,wk=48,jk=57,Js=44,Lu=46,GO=58,JO=59,QO=65,YO=97,XO=69,ZO=101,eE=70,tE=102,nE=160,rE=8192,iE=8202,oE=8239,sE=8287,aE=12288,lE=8220,cE=8221,uE=8216,dE=8217,fE=96,hE=180;function pE(n){return n>=wk&&n<=jk||n>=QO&&n<=eE||n>=YO&&n<=tE}function Qs(n){return n>=wk&&n<=jk}function mE(n){return n>=32&&n<=1114111}function La(n){return gE.test(n)}const gE=/^[,:[\]/{}()\n+]$/;function vE(n){return La(n)&&n!=="/"}function V1(n){return yE.test(n)||n&&_d(n.charCodeAt(0))}const yE=/^[[{\w-]$/;function bE(n){return n===a0||n===bk||n===yk||n===WO||n===KO}function Wa(n){return n===HO||n===a0||n===yk||n===bk}function xE(n){return n===nE||n>=rE&&n<=iE||n===oE||n===sE||n===aE}function _d(n){return $k(n)||dm(n)}function $k(n){return n===rf||n===lE||n===cE}function U1(n){return n===rf}function dm(n){return n===xk||n===uE||n===dE||n===fE||n===hE}function H1(n){return n===xk}function Ql(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=n.lastIndexOf(e);return r!==-1?n.substring(0,r)+(t?"":n.substring(r+1)):n}function Zi(n,e){let t=n.length;if(!Wa(n.charCodeAt(t-1)))return n+e;for(;Wa(n.charCodeAt(t-1));)t--;return n.substring(0,t)+e+n.substring(t)}function wE(n,e,t){return n.substring(0,e)+n.substring(e+t)}function jE(n){return/[,\n][ \t\r]*$/.test(n)}function $E(n){return/^\w+$/.test(n)}const kE={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},CE={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function mo(n){let e=0,t="";o()||Q();const i=c(Js);for(i&&s(),V1(n[e])&&jE(t)?(i||(t=Zi(t,",")),g()):i&&(t=Ql(t,","));n.charCodeAt(e)===Iu||n.charCodeAt(e)===zu;)e++,s();if(e>=n.length)return t;F();function o(){s();const T=h()||p()||v()||y()||b()||x();return s(),T}function s(){const T=e;let re=a();do re=l(),re&&(re=a());while(re);return e>T}function a(){let T="",re;for(;(re=Wa(n.charCodeAt(e)))||xE(n.charCodeAt(e));)re?T+=n[e]:T+=" ",e++;return T.length>0?(t+=T,!0):!1}function l(){if(n.charCodeAt(e)===sp&&n.charCodeAt(e+1)===FO){for(;e<n.length&&!SE(n,e);)e++;return e+=2,!0}if(n.charCodeAt(e)===sp&&n.charCodeAt(e+1)===sp){for(;e<n.length&&n.charCodeAt(e)!==a0;)e++;return!0}return!1}function c(T){return n.charCodeAt(e)===T?(t+=n[e],e++,!0):!1}function u(T){return n.charCodeAt(e)===T?(e++,!0):!1}function d(){return u(Du)}function f(){return s(),n.charCodeAt(e)===Lu&&n.charCodeAt(e+1)===Lu&&n.charCodeAt(e+2)===Lu?(e+=3,s(),u(Js),!0):!1}function h(){if(n.charCodeAt(e)===L1){t+="{",e++,s(),u(Js)&&s();let T=!0;for(;e<n.length&&n.charCodeAt(e)!==Iu;){let re;if(T?(re=!0,T=!1):(re=c(Js),re||(t=Zi(t,",")),s()),f(),!(v()||x())){n.charCodeAt(e)===Iu||n.charCodeAt(e)===L1||n.charCodeAt(e)===zu||n.charCodeAt(e)===B1||n[e]===void 0?t=Ql(t,","):Z();break}s();const G=c(GO),L=e>=n.length;G||(V1(n[e])||L?t=Zi(t,":"):J()),o()||(G||L?t+="null":J())}return n.charCodeAt(e)===Iu?(t+="}",e++):t=Zi(t,"}"),!0}return!1}function p(){if(n.charCodeAt(e)===B1){t+="[",e++,s(),u(Js)&&s();let T=!0;for(;e<n.length&&n.charCodeAt(e)!==zu;)if(T?T=!1:c(Js)||(t=Zi(t,",")),f(),!o()){t=Ql(t,",");break}return n.charCodeAt(e)===zu?(t+="]",e++):t=Zi(t,"]"),!0}return!1}function g(){let T=!0,re=!0;for(;re;)T?T=!1:c(Js)||(t=Zi(t,",")),re=o();re||(t=Ql(t,",")),t=`[
`.concat(t,`
]`)}function v(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,re=n.charCodeAt(e)===Du;if(re&&(e++,re=!0),_d(n.charCodeAt(e))){const ie=U1(n.charCodeAt(e))?U1:H1(n.charCodeAt(e))?H1:dm(n.charCodeAt(e))?dm:$k,G=e,L=t.length;let M='"';for(e++;;){if(e>=n.length){const E=S(e-1);return!T&&La(n.charAt(E))?(e=G,t=t.substring(0,L),v(!0)):(M=Zi(M,'"'),t+=M,!0)}else if(ie(n.charCodeAt(e))){const E=e,ee=M.length;if(M+='"',e++,t+=M,s(),T||e>=n.length||La(n.charAt(e))||_d(n.charCodeAt(e))||Qs(n.charCodeAt(e)))return m(),!0;if(La(n.charAt(S(E-1))))return e=G,t=t.substring(0,L),v(!0);t=t.substring(0,L),e=E+1,M="".concat(M.substring(0,ee),"\\").concat(M.substring(ee))}else{if(T&&La(n[e]))return M=Zi(M,'"'),t+=M,m(),!0;if(n.charCodeAt(e)===Du){const E=n.charAt(e+1);if(CE[E]!==void 0)M+=n.slice(e,e+2),e+=2;else if(E==="u"){let H=2;for(;H<6&&pE(n.charCodeAt(e+H));)H++;H===6?(M+=n.slice(e,e+6),e+=6):e+H>=n.length?e=n.length:U()}else M+=E,e+=2}else{const E=n.charAt(e),ee=n.charCodeAt(e);ee===rf&&n.charCodeAt(e-1)!==Du?(M+="\\".concat(E),e++):bE(ee)?(M+=kE[E],e++):(mE(ee)||R(E),M+=E,e++)}}re&&d()}}return!1}function m(){let T=!1;for(s();n.charCodeAt(e)===q1;){T=!0,e++,s(),t=Ql(t,'"',!0);const re=t.length;v()?t=wE(t,re,1):t=Zi(t,'"')}return T}function y(){const T=e;if(n.charCodeAt(e)===F1){if(e++,_())return B(T),!0;if(!Qs(n.charCodeAt(e)))return e=T,!1}for(;Qs(n.charCodeAt(e));)e++;if(n.charCodeAt(e)===Lu){if(e++,_())return B(T),!0;if(!Qs(n.charCodeAt(e)))return e=T,!1;for(;Qs(n.charCodeAt(e));)e++}if(n.charCodeAt(e)===ZO||n.charCodeAt(e)===XO){if(e++,(n.charCodeAt(e)===F1||n.charCodeAt(e)===q1)&&e++,_())return B(T),!0;if(!Qs(n.charCodeAt(e)))return e=T,!1;for(;Qs(n.charCodeAt(e));)e++}if(!_())return e=T,!1;if(e>T){const re=n.slice(T,e),ie=/^0\d/.test(re);return t+=ie?'"'.concat(re,'"'):re,!0}return!1}function b(){return j("true","true")||j("false","false")||j("null","null")||j("True","true")||j("False","false")||j("None","null")}function j(T,re){return n.slice(e,e+T.length)===T?(t+=re,e+=T.length,!0):!1}function x(){const T=e;for(;e<n.length&&!vE(n[e])&&!_d(n.charCodeAt(e));)e++;if(e>T){if(n.charCodeAt(e)===VO&&$E(n.slice(T,e).trim()))return e++,o(),n.charCodeAt(e)===UO&&(e++,n.charCodeAt(e)===JO&&e++),!0;{for(;Wa(n.charCodeAt(e-1))&&e>0;)e--;const re=n.slice(T,e);return t+=re==="undefined"?"null":JSON.stringify(re),n.charCodeAt(e)===rf&&e++,!0}}}function S(T){let re=T;for(;re>0&&Wa(n.charCodeAt(re));)re--;return re}function _(){return e>=n.length||La(n[e])||Wa(n.charCodeAt(e))}function B(T){t+="".concat(n.slice(T,e),"0")}function R(T){throw new _a("Invalid character ".concat(JSON.stringify(T)),e)}function F(){throw new _a("Unexpected character ".concat(JSON.stringify(n[e])),e)}function Q(){throw new _a("Unexpected end of json string",n.length)}function Z(){throw new _a("Object key expected",e)}function J(){throw new _a("Colon expected",e)}function U(){const T=n.slice(e,e+6);throw new _a('Invalid unicode character "'.concat(T,'"'),e)}}function SE(n,e){return n[e]==="*"&&n[e+1]==="/"}const l0=n=>Array.isArray(n),OE=n=>typeof n=="string";function er(n){return(...e)=>{const t=e.map(o=>Yr(o)),r=t[0],i=t[1];return t.length===1?o=>n(r(o)):t.length===2?o=>n(r(o),i(o)):o=>n(...t.map(s=>s(o)))}}const Ka={pipe:(...n)=>{const e=n.map(t=>Yr(t));return t=>e.reduce((r,i)=>i(r),t)},object:n=>{const e=Object.keys(n).map(t=>[t,Yr(n[t])]);return t=>{const r={};for(const[i,o]of e)r[i]=o(t);return r}},array:(...n)=>{const e=n.map(t=>Yr(t));return t=>e.map(r=>r(t))},get:(...n)=>{if(n.length===0)return e=>e;if(n.length===1){const e=n[0];return t=>t==null?void 0:t[e]}return e=>{let t=e;for(const r of n)t=t==null?void 0:t[r];return t}},map:n=>{const e=Yr(n);return t=>t.map(e)},filter:n=>{const e=Yr(n);return t=>t.filter(e)},sort:(n=["get"],e)=>{const t=Yr(n),r=e==="desc"?-1:1;function i(o,s){const a=t(o),l=t(s);return a>l?r:a<l?-r:0}return o=>o.slice().sort(i)},pick:(...n)=>{const e=n.map(([r,...i])=>[i[i.length-1],Ka.get(...i)]),t=(r,i)=>{const o={};for(const[s,a]of i)o[s]=a(r);return o};return r=>l0(r)?r.map(i=>t(i,e)):t(r,e)},groupBy:n=>{const e=Yr(n);return t=>{const r={};for(const i of t){const o=e(i);r[o]?r[o].push(i):r[o]=[i]}return r}},keyBy:n=>{const e=Yr(n);return t=>{const r={};for(const i of t){const o=e(i);r[o]=r[o]??i}return r}},flatten:()=>n=>n.flat(),uniq:()=>n=>[...new Set(n)],uniqBy:n=>e=>Object.values(Ka.groupBy(n)(e)).map(t=>t[0]),limit:n=>e=>e.slice(0,n),size:()=>n=>n.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>n=>n.reduce((e,t)=>e*t),sum:()=>n=>n.reduce((e,t)=>e+t),average:()=>n=>Ka.sum()(n)/n.length,min:()=>n=>Math.min(...n),max:()=>n=>Math.max(...n),in:(n,e)=>{const t=Yr(n),r=Yr(e);return i=>r(i).includes(t(i))},"not in":(n,e)=>{const t=Ka.in(n,e);return r=>!t(r)},regex:(n,e,t)=>{const r=new RegExp(e,t),i=Yr(n);return o=>r.test(i(o))},and:er((n,e)=>n&&e),or:er((n,e)=>n||e),not:er(n=>!n),exists:er(n=>n!==void 0),eq:er((n,e)=>n===e),gt:er((n,e)=>n>e),gte:er((n,e)=>n>=e),lt:er((n,e)=>n<e),lte:er((n,e)=>n<=e),ne:er((n,e)=>n!==e),add:er((n,e)=>n+e),subtract:er((n,e)=>n-e),multiply:er((n,e)=>n*e),divide:er((n,e)=>n/e),pow:er((n,e)=>n**e),mod:er((n,e)=>n%e),abs:er(Math.abs),round:er((n,e=0)=>+`${Math.round(+`${n}e${e}`)}e${-e}`)},Bu=[];function Yr(n,e){Bu.unshift({...Ka,...Bu[0]});try{const t=l0(n)?EE(n,Bu[0]):()=>n;return r=>{try{return t(r)}catch(i){throw i.jsonquery=[{data:r,query:n},...i.jsonquery??[]],i}}}finally{Bu.shift()}}function EE(n,e){const[t,...r]=n,i=e[t];if(!i)throw new Error(`Unknown function '${t}'`);return i(...r)}const kk={and:"and",or:"or",eq:"==",gt:">",gte:">=",lt:"<",lte:"<=",ne:"!=",add:"+",subtract:"-",multiply:"*",divide:"/",pow:"^",mod:"%",in:"in","not in":"not in"},AE=/^[a-zA-Z_$][a-zA-Z\d_$]*$/,ME=/^[a-zA-Z_$][a-zA-Z\d_$]*/,PE=/^"(?:[^"\\]|\\.)*"/,_E=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/,TE=/^(0|[1-9][0-9]*)/,RE=/^(true|false|null)/,NE=/^[ \n\t\r]+/;function Ck(n,e){const t=()=>{v();const x=r();if(v(),n[b]==="|"){const S=[x];for(;n[b]==="|";)b++,v(),S.push(r());return["pipe",...S]}return x},r=()=>{const x={...kk},S=i();v();for(const _ of Object.keys(x).sort((B,R)=>R.length-B.length)){const B=x[_];if(n.substring(b,b+B.length)===B){b+=B.length,v();const R=i();return[_,S,R]}}return S},i=()=>{if(n[b]==="("){b++;const x=t();return m(")"),x}return o()},o=()=>{const x=[];if(n[b]==="."){for(;n[b]===".";)b++,x.push(c()??u()??f()??y("Property expected"));return["get",...x]}return s()},s=()=>{const x=b,S=u();if(v(),!S||n[b]!=="(")return b=x,a();b++,!Ka[S]&&y(`Unknown function '${S}'`),v();const _=n[b]!==")"?[t()]:[];for(;b<n.length&&n[b]!==")";)v(),m(","),_.push(t());return m(")"),[S,..._]},a=()=>{if(n[b]==="{"){b++,v();const x={};let S=!0;for(;b<n.length&&n[b]!=="}";){S?S=!1:(m(","),v());const _=c()??u()??f()??y("Key expected");v(),m(":"),x[_]=t()}return m("}"),["object",x]}return l()},l=()=>{if(n[b]==="["){b++,v();const x=[];let S=!0;for(;b<n.length&&n[b]!=="]";)S?S=!1:(m(","),v()),x.push(t());return m("]"),["array",...x]}return c()??d()??h()},c=()=>g(PE,JSON.parse),u=()=>g(ME,x=>x),d=()=>g(_E,JSON.parse),f=()=>g(TE,JSON.parse),h=()=>{const x=g(RE,JSON.parse);if(x!==void 0)return x;y("Value expected")},p=()=>{v(),b<n.length&&y(`Unexpected part '${n.substring(b)}'`)},g=(x,S)=>{const _=n.substring(b).match(x);if(_)return b+=_[0].length,S(_[0])},v=()=>g(NE,x=>x),m=x=>{n[b]!==x&&y(`Character '${x}' expected`),b++},y=(x,S=b)=>{throw new SyntaxError(`${x} (pos: ${S})`)};let b=0;const j=t();return p(),j}const DE=40,IE="  ",zE=(n,e)=>{const t=IE,r=(c,u)=>l0(c)?i(c,u):JSON.stringify(c),i=(c,u)=>{var d;const[f,...h]=c;if(f==="get"&&h.length>0)return s(h);if(f==="pipe"){const m=h.map(y=>r(y,u+t));return l(m,[""," | ",""],["",`
${u+t}| `,""])}if(f==="object")return o(h[0],u);if(f==="array"){const m=h.map(y=>r(y,u));return l(m,["[",", ","]"],[`[
${u+t}`,`,
${u+t}`,`
${u}]`])}const p=((d=void 0)==null?void 0:d[f])??kk[f];if(p&&h.length===2){const[m,y]=h,b=r(m,u),j=r(y,u);return`(${b} ${p} ${j})`}const g=h.length===1?u:u+t,v=h.map(m=>r(m,g));return h.length===1&&v[0][0]==="("?`${f}${v}`:l(v,[`${f}(`,", ",")"],h.length===1?[`${f}(`,`,
${u}`,")"]:[`${f}(
${g}`,`,
${g}`,`
${u})`])},o=(c,u)=>{const d=u+t,f=Object.entries(c).map(([h,p])=>`${a(h)}: ${r(p,d)}`);return l(f,["{ ",", "," }"],[`{
${d}`,`,
${d}`,`
${u}}`])},s=c=>c.map(u=>`.${a(u)}`).join(""),a=c=>AE.test(c)?c:JSON.stringify(c),l=(c,[u,d,f],[h,p,g])=>u.length+c.reduce((v,m)=>v+m.length+d.length,0)-d.length+f.length<=DE?u+c.join(d)+f:h+c.join(p)+g;return r(n,"")};function LE(n,e,t){return Yr(OE(e)?Ck(e):e)(n)}const BE={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7c0 0 0 0 0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5L109 384c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8c0 0 0 0 0 0s0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4c0 0 0 0 0 0s0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5l-48.6 0c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80l0-16 160 0 0 16c0 44.2-35.8 80-80 80z"]},qE={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},fm=qE,hm={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},FE={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},pm={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},W1={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},gs={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},Sk={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},VE={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},UE={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},nl=UE,HE={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},WE=HE,KE={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},GE={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Ok=GE,JE={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},K1=JE,QE={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},Ek={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},YE={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},XE=YE,G1={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},Ak={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},ch={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Ps={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},uh={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},ZE={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},rl={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},eA={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},c0=eA,tA={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},u0=tA,nA={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z"]},rA=nA,iA={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},oA=iA,pi={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},sA={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},Mk=sA,qu={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},aA={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},dh=aA,lA={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},cA={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},uA={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},fh=uA,dA={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},ks={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},Ga={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Pk={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},J1=Pk,Rc=Pk,fA={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},Q1={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},_k={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"]},Nc={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},hA={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},ka=hA;var Tk={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var Y1=function(n,e){var t,r,i=1,o=0,s=0,a=String.alphabet;function l(c,u,d){if(d){for(t=u;d=l(c,t),d<76&&d>65;)++t;return+c.slice(u-1,t)}return d=a&&a.indexOf(c.charAt(u)),d>-1?d+76:(d=c.charCodeAt(u)||0,d<45||d>127?d:d<46?65:d<48?d-1:d<58?d+18:d<65?d-11:d<91?d+11:d<97?d-37:d<123?d+5:d-63)}if((n+="")!=(e+="")){for(;i;)if(r=l(n,o++),i=l(e,s++),r<76&&i<76&&r>66&&i>66&&(r=l(n,o,o),i=l(e,s,o=t),s=t),r!=i)return r<i?-1:1}return 0};try{Tk.exports=Y1}catch{String.naturalCompare=Y1}var pA=Tk.exports;const mA=h5(pA);class Qt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=vl(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),oo.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=vl(this,e,t);let r=[];return this.decompose(e,t,r,0),oo.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new xc(this),o=new xc(e);for(let s=t,a=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new xc(this,e)}iterRange(e,t=this.length){return new Rk(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Nk(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Qt.empty:e.length<=32?new In(e):oo.from(In.split(e,[]))}}class In extends Qt{constructor(e,t=gA(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((t?r:a)>=e)return new vA(i,a,r,s);i=a+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new In(X1(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=Td(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new In(a,s.length+o.length));else{let l=a.length>>1;r.push(new In(a.slice(0,l)),new In(a.slice(l)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof In))return super.replace(e,t,r);[e,t]=vl(this,e,t);let i=Td(this.text,Td(r.text,X1(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new In(i,o):oo.from(In.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=vl(this,e,t);let i="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.slice(Math.max(0,e-o),t-o)),o=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new In(r,i)),r=[],i=-1);return i>-1&&t.push(new In(r,i)),t}}class oo extends Qt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((t?l:a)>=e)return s.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&t>=s){let c=i&((s<=e?1:0)|(l>=t?2:0));s>=e&&l<=t&&!c?r.push(a):a.decompose(e-s,t-s,r,c)}s=l+1}}replace(e,t,r){if([e,t]=vl(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&t<=a){let l=s.replace(e-o,t-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new oo(u,this.length-(t-e)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=vl(this,e,t);let i="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.sliceString(e-s,t-s,r)),s=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof oo))return 0;let r=0,[i,o,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==a)return r;let l=this.children[i],c=e.children[o];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let p of e)p.flatten(h);return new In(h,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function d(h){let p;if(h.lines>o&&h instanceof oo)for(let g of h.children)d(g);else h.lines>s&&(l>s||!l)?(f(),a.push(h)):h instanceof In&&l&&(p=u[u.length-1])instanceof In&&h.lines+p.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new In(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&f(),l+=h.lines,c+=h.length+1,u.push(h))}function f(){l!=0&&(a.push(u.length==1?u[0]:oo.from(u,c)),c=-1,l=u.length=0)}for(let h of e)d(h);return f(),a.length==1?a[0]:new oo(a,t)}}Qt.empty=new In([""],0);function gA(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Td(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let a=n[o],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function X1(n,e,t){return Td(n,[""],e,t)}class xc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof In?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof In?i.text.length:i.children.length;if(s==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof In){let l=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof In?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Rk{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new xc(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Nk{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Qt.prototype[Symbol.iterator]=function(){return this.iter()},xc.prototype[Symbol.iterator]=Rk.prototype[Symbol.iterator]=Nk.prototype[Symbol.iterator]=function(){return this});class vA{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function vl(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}let il="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<il.length;n++)il[n]+=il[n-1];function yA(n){for(let e=1;e<il.length;e+=2)if(il[e]>n)return il[e-1]<=n;return!1}function Z1(n){return n>=127462&&n<=127487}const ey=8205;function mr(n,e,t=!0,r=!0){return(t?Dk:bA)(n,e,r)}function Dk(n,e,t){if(e==n.length)return e;e&&Ik(n.charCodeAt(e))&&zk(n.charCodeAt(e-1))&&e--;let r=dr(n,e);for(e+=di(r);e<n.length;){let i=dr(n,e);if(r==ey||i==ey||t&&yA(i))e+=di(i),r=i;else if(Z1(i)){let o=0,s=e-2;for(;s>=0&&Z1(dr(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function bA(n,e,t){for(;e>0;){let r=Dk(n,e-2,t);if(r<e)return r;e--}return 0}function Ik(n){return n>=56320&&n<57344}function zk(n){return n>=55296&&n<56320}function dr(n,e){let t=n.charCodeAt(e);if(!zk(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Ik(r)?(t-55296<<10)+(r-56320)+65536:t}function d0(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function di(n){return n<65536?1:2}const mm=/\r\n?|\n/;var Er=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Er||(Er={}));class go{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){gm(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new go(e)}composeDesc(e){return this.empty?e:e.empty?this:Lk(this,e)}mapDesc(e,t=!1){return e.empty?this:vm(this,e,t)}mapPos(e,t=-1,r=Er.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>e)return o+(e-i);o+=a}else{if(r!=Er.Simple&&c>=e&&(r==Er.TrackDel&&i<e&&c>e||r==Er.TrackBefore&&i<e||r==Er.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==i||t<0?o:o+l;o+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new go(e)}static create(e){return new go(e)}}class Kn extends go{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return gm(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return vm(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(Qt.empty);r.push(s?e.slice(o,o+s):Qt.empty)}o+=s}return new Kn(t,r)}compose(e){return this.empty?e:e.empty?this:Lk(this,e,!0)}map(e,t=!1){return e.empty?this:vm(this,e,t,!0)}iterChanges(e,t=!1){gm(this,e,t)}get desc(){return go.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new Dc(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);vr(i,u,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;vr(t,u,d),d>0&&vs(r,t,o.text),o.forward(u),a+=u}let c=e[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);vr(t,u,-1),vr(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new Kn(t,r),filtered:go.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<t&&vr(i,t-s,-1);let d=new Kn(i,o);a=a?a.compose(d.map(a)):d,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Kn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:f=d,insert:h}=u;if(d>f||d<0||f>t)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${t})`);let p=h?typeof h=="string"?Qt.of(h.split(r||mm)):h:Qt.empty,g=p.length;if(d==f&&g==0)return;d<s&&l(),d>s&&vr(i,d-s,-1),vr(i,f-d,g),vs(o,i,p),s=f}}return c(e),l(!a),a}static empty(e){return new Kn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(Qt.empty);r[i]=Qt.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Kn(t,r)}static createSet(e,t){return new Kn(e,t)}}function vr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function vs(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Qt.empty);n.push(t)}}function gm(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],l=n.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,d=Qt.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],l=n.sections[s++];e(i,c,o,u,d),i=c,o=u}}}function vm(n,e,t,r=!1){let i=[],o=r?[]:null,s=new Dc(n),a=new Dc(e);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);vr(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!t))){let c=a.len;for(vr(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(vr(i,0,s.ins),o&&vs(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;vr(i,c,l<s.i?s.ins:0),o&&l<s.i&&vs(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?Kn.createSet(i,o):go.create(i);throw new Error("Mismatched change set lengths")}}function Lk(n,e,t=!1){let r=[],i=t?[]:null,o=new Dc(n),s=new Dc(e);for(let a=!1;;){if(o.done&&s.done)return i?Kn.createSet(r,i):go.create(r);if(o.ins==0)vr(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)vr(r,0,s.ins,a),i&&vs(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;vr(r,l,u,a),i&&u&&vs(i,r,s.text)}else s.ins==-1?(vr(r,o.off?0:o.len,l,a),i&&vs(i,r,o.textBit(l))):(vr(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&vs(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}}}}class Dc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Qt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Qt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class oa{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new oa(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return je.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return je.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return je.range(e.anchor,e.head)}static create(e,t,r){return new oa(e,t,r)}}class je{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:je.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new je([this.main],0)}addRange(e,t=!0){return je.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,je.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new je(e.ranges.map(t=>oa.fromJSON(t)),e.main)}static single(e,t=e){return new je([je.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return je.normalized(e.slice(),t);r=o.to}return new je(e,t)}static cursor(e,t=0,r,i){return oa.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?oa.create(t,e,48|o):oa.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?je.range(l,a):je.range(a,l))}}return new je(e,t)}}function Bk(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let f0=0;class qe{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=f0++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new qe(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:h0),!!e.static,e.enables)}of(e){return new Rd([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Rd(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Rd(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function h0(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Rd{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=f0++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||u.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||ym(d,u)){let h=r(d);if(a?!ty(h,d.values[s],i):!i(h,d.values[s]))return d.values[s]=h,1}return 0},reconfigure:(d,f)=>{let h,p=f.config.address[o];if(p!=null){let g=sf(f,p);if(this.dependencies.every(v=>v instanceof qe?f.facet(v)===d.facet(v):v instanceof Xn?f.field(v,!1)==d.field(v,!1):!0)||(a?ty(h=r(d),g,i):i(h=r(d),g)))return d.values[s]=g,0}else h=r(d);return d.values[s]=h,1}}}}function ty(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function ym(n,e){let t=!1;for(let r of e)wc(n,r)&1&&(t=!0);return t}function xA(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),o=r.filter(l=>!(l&1)),s=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=sf(l,r[u]);if(i[u]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)wc(l,c);return l.values[s]=a(l),1},update(l,c){if(!ym(l,o))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=ym(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!u&&h0(t,d))return l.values[s]=f,0;let h=a(l);return e.compare(h,f)?(l.values[s]=f,0):(l.values[s]=h,1)}}}const ny=qe.define({static:!0});class Xn{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new Xn(f0++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(ny).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,ny.of({field:this,create:e})]}get extension(){return this}}const Zs={lowest:4,low:3,default:2,high:1,highest:0};function Yl(n){return e=>new qk(e,n)}const Ca={highest:Yl(Zs.highest),high:Yl(Zs.high),default:Yl(Zs.default),low:Yl(Zs.low),lowest:Yl(Zs.lowest)};class qk{constructor(e,t){this.inner=e,this.prec=t}}class Ro{of(e){return new bm(this,e)}reconfigure(e){return Ro.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class bm{constructor(e,t){this.compartment=e,this.inner=t}}class of{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let f of wA(e,t,s))f instanceof Xn?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(h=>f.slot(h));let u=r==null?void 0:r.config.facets;for(let f in o){let h=o[f],p=h[0].facet,g=u&&u[f]||[];if(h.every(v=>v.type==0))if(a[p.id]=l.length<<1|1,h0(g,h))l.push(r.facet(p));else{let v=p.combine(h.map(m=>m.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of h)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(m=>v.dynamicSlot(m)));a[p.id]=c.length<<1,c.push(v=>xA(v,p,h))}}let d=c.map(f=>f(a));return new of(e,s,d,a,l,o)}}function wA(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof bm&&t.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof bm){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;t.set(s.compartment,c),o(c,a)}else if(s instanceof qk)o(s.inner,s.prec);else if(s instanceof Xn)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Rd)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Zs.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(n,Zs.default),r.reduce((s,a)=>s.concat(a))}function wc(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function sf(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Fk=qe.define(),xm=qe.define({combine:n=>n.some(e=>e),static:!0}),Vk=qe.define({combine:n=>n.length?n[0]:void 0,static:!0}),Uk=qe.define(),Hk=qe.define(),Wk=qe.define(),Kk=qe.define({combine:n=>n.length?n[0]:!1});class es{constructor(e,t){this.type=e,this.value=t}static define(){return new jA}}class jA{of(e){return new es(this,e)}}class $A{constructor(e){this.map=e}of(e){return new St(this,e)}}class St{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new St(this.type,t)}is(e){return this.type==e}static define(e={}){return new $A(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}St.reconfigure=St.define();St.appendConfig=St.define();class Jn{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&Bk(r,t.newLength),o.some(a=>a.type==Jn.time)||(this.annotations=o.concat(Jn.time.of(Date.now())))}static create(e,t,r,i,o,s){return new Jn(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Jn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Jn.time=es.define();Jn.userEvent=es.define();Jn.addToHistory=es.define();Jn.remote=es.define();function kA(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else if(i<e.length)o=e[i++],s=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function Gk(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=Kn.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:St.mapEffects(n.effects,i).concat(St.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function wm(n,e,t){let r=e.selection,i=ol(e.annotations);return e.userEvent&&(i=i.concat(Jn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Kn?e.changes:Kn.of(e.changes||[],t,n.facet(Vk)),selection:r&&(r instanceof je?r:je.single(r.anchor,r.head)),effects:ol(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Jk(n,e,t){let r=wm(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=Gk(r,wm(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=Jn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return SA(t?CA(i):i)}function CA(n){let e=n.startState,t=!0;for(let i of e.facet(Uk)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:kA(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=Kn.empty(e.doc.length);else{let s=n.changes.filter(t);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=Jn.create(e,i,n.selection&&n.selection.map(o),St.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(Hk);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof Jn?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Jn?n=o[0]:n=Jk(e,ol(o),!1)}return n}function SA(n){let e=n.startState,t=e.facet(Wk),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=Gk(r,wm(e,o,n.changes.newLength),!0))}return r==n?n:Jn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const OA=[];function ol(n){return n==null?OA:Array.isArray(n)?n:[n]}var Sn=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Sn||(Sn={}));const EA=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let jm;try{jm=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function AA(n){if(jm)return jm.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||EA.test(t)))return!0}return!1}function MA(n){return e=>{if(!/\S/.test(e))return Sn.Space;if(AA(e))return Sn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Sn.Word;return Sn.Other}}class zt{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)wc(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return wc(this,r),sf(this,r)}update(...e){return Jk(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(Ro.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,c)=>i.set(c,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(St.reconfigure)?(t=null,r=a.value):a.is(St.appendConfig)&&(t=null,r=ol(r).concat(a.value));let o;t?o=e.startState.values.slice():(t=of.resolve(r,i,this),o=new zt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(xm)?e.newSelection:e.newSelection.asSingle();new zt(t,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:je.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=ol(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)o[f]=o[f].map(u);let d=i.mapDesc(c,!0);o.push(l.range.map(d)),i=i.compose(u),s=St.mapEffects(s,u).concat(St.mapEffects(ol(l.effects),d))}return{changes:i,selection:je.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Kn?e:Kn.of(e,this.doc.length,this.facet(zt.lineSeparator))}toText(e){return Qt.of(e.split(this.facet(zt.lineSeparator)||mm))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(wc(this,t),sf(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Xn&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return zt.create({doc:e.doc,selection:je.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=of.resolve(e.extensions||[],new Map),r=e.doc instanceof Qt?e.doc:Qt.of((e.doc||"").split(t.staticFacet(zt.lineSeparator)||mm)),i=e.selection?e.selection instanceof je?e.selection:je.single(e.selection.anchor,e.selection.head):je.single(0);return Bk(i,r.length),t.staticFacet(xm)||(i=i.asSingle()),new zt(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(zt.tabSize)}get lineBreak(){return this.facet(zt.lineSeparator)||`
`}get readOnly(){return this.facet(Kk)}phrase(e,...t){for(let r of this.facet(zt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(Fk))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return MA(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=mr(t,s,!1);if(o(t.slice(l,s))!=Sn.Word)break;s=l}for(;a<i;){let l=mr(t,a);if(o(t.slice(a,l))!=Sn.Word)break;a=l}return s==a?null:je.range(s+r,a+r)}}zt.allowMultipleSelections=xm;zt.tabSize=qe.define({combine:n=>n.length?n[0]:4});zt.lineSeparator=Vk;zt.readOnly=Kk;zt.phrases=qe.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});zt.languageData=Fk;zt.changeFilter=Uk;zt.transactionFilter=Hk;zt.transactionExtender=Wk;Ro.reconfigure=St.define();function $i(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ha{eq(e){return this==e}range(e,t=e){return $m.create(e,t,this)}}ha.prototype.startSide=ha.prototype.endSide=0;ha.prototype.point=!1;ha.prototype.mapMode=Er.TrackDel;let $m=class Qk{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Qk(e,t,r)}};function km(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class p0{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,f,h;if(u==d){let p=t.mapPos(u,c.startSide,c.mapMode);if(p==null||(f=h=p,c.startSide!=c.endSide&&(h=t.mapPos(u,c.endSide),h<f)))continue}else if(f=t.mapPos(u,c.startSide),h=t.mapPos(d,c.endSide),f>h||f==h&&c.startSide>0&&c.endSide<=0)continue;(h-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(a=Math.max(a,h-f)),r.push(c),i.push(f-s),o.push(h-s))}return{mapped:r.length?new p0(i,o,r,a):null,pos:s}}}class Vt{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Vt(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(km)),this.isEmpty)return t.length?Vt.of(t):this;let a=new Yk(this,null,-1).goto(0),l=0,c=[],u=new vo;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let d=t[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push($m.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Vt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),r.push(d))}}let o=this.nextLayer.map(e);return t.length==0?o:new Vt(r,t,o||Vt.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Ic.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ic.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),l=ry(s,a,r),c=new Xl(s,l,o),u=new Xl(a,l,o);r.iterGaps((d,f,h)=>iy(c,d,u,f,h,i)),r.empty&&r.length==0&&iy(c,0,u,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),s=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=ry(o,s),l=new Xl(o,a,0).goto(r),c=new Xl(s,a,0).goto(r);for(;;){if(l.to!=c.to||!Cm(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,r,i,o=-1){let s=new Xl(e,null,o).goto(t),a=t,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),d=s.pointFrom<t?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,s.point,u,d,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,t=!1){let r=new vo;for(let i of e instanceof $m?[e]:t?PA(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Vt.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Vt.empty;i=i.nextLayer)t=new Vt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Vt.empty=new Vt([],[],null,-1);function PA(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(km(e,r)>0)return n.slice().sort(km);e=r}return n}Vt.empty.nextLayer=Vt.empty;class vo{finishChunk(e){this.chunks.push(new p0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new vo)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Vt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Vt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function ry(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(t?t.mapPos(a):a)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class Yk{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ic{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new Yk(s,t,r,o));return i.length==1?i[0]:new Ic(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)ap(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)ap(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ap(this.heap,0)}}}function ap(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Xl{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ic.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Fu(this.active,e),Fu(this.activeTo,e),Fu(this.activeRank,e),this.minActive=oy(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Vu(this.active,t,r),Vu(this.activeTo,t,i),Vu(this.activeRank,t,o),e&&Vu(e,t,this.cursor.from),this.minActive=oy(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Fu(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function iy(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,a=r,l=r-e;for(;;){let c=n.to+l-t.to||n.endSide-t.endSide,u=c<0?n.to+l:t.to,d=Math.min(u,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Cm(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(a,d,n.point,t.point):d>a&&!Cm(n.active,t.active)&&o.compareRange(a,d,n.active,t.active),u>s)break;a=u,c<=0&&n.next(),c>=0&&t.next()}}function Cm(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Fu(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Vu(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function oy(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Il(n,e,t=n.length){let r=0;for(let i=0;i<t;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=mr(n,i));return r}function Sm(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=mr(n,i)}return r===!0?-1:n.length}const Om="ͼ",sy=typeof Symbol>"u"?"__"+Om:Symbol.for(Om),Em=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class _s{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],d=/^@(\w+)\b/.exec(s[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(s[0]+";");for(let h in a){let p=a[h];if(/&/.test(h))o(h.split(/,\s*/).map(g=>s.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),p,l);else if(p&&typeof p=="object"){if(!d)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,u,f)}else p!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(u.length||f)&&l.push((r&&!d&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=ay[sy]||1;return ay[sy]=e+1,Om+e.toString(36)}static mount(e,t,r){let i=e[Em],o=r&&r.nonce;i?o&&i.setNonce(o):i=new _A(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let ly=new Map;class _A{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=ly.get(r);if(o)return e[Em]=o;this.sheet=new i.CSSStyleSheet,ly.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Em]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ts={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TA=typeof navigator<"u"&&/Mac/.test(navigator.platform),RA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var fr=0;fr<10;fr++)Ts[48+fr]=Ts[96+fr]=String(fr);for(var fr=1;fr<=24;fr++)Ts[fr+111]="F"+fr;for(var fr=65;fr<=90;fr++)Ts[fr]=String.fromCharCode(fr+32),zc[fr]=String.fromCharCode(fr);for(var lp in Ts)zc.hasOwnProperty(lp)||(zc[lp]=Ts[lp]);function NA(n){var e=TA&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||RA&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?zc:Ts)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Lc(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Am(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Nd(n,e){if(!e.anchorNode)return!1;try{return Am(n,e.anchorNode)}catch{return!1}}function Bc(n){return n.nodeType==3?ma(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function jc(n,e,t,r){return t?cy(n,e,t,r,-1)||cy(n,e,t,r,1):!1}function pa(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function af(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function cy(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:yo(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=pa(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?yo(n):0}else return!1}}function yo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function hh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function DA(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Xk(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function IA(n,e,t,r,i,o,s,a){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,d=!1;u&&!d;)if(u.nodeType==1){let f,h=u==l.body,p=1,g=1;if(h)f=DA(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();({scaleX:p,scaleY:g}=Xk(u,y)),f={left:y.left,right:y.left+u.clientWidth*p,top:y.top,bottom:y.top+u.clientHeight*g}}let v=0,m=0;if(i=="nearest")e.top<f.top?(m=-(f.top-e.top+s),t>0&&e.bottom>f.bottom+m&&(m=e.bottom-f.bottom+m+s)):e.bottom>f.bottom&&(m=e.bottom-f.bottom+s,t<0&&e.top-m<f.top&&(m=-(f.top+m-e.top+s)));else{let y=e.bottom-e.top,b=f.bottom-f.top;m=(i=="center"&&y<=b?e.top+y/2-b/2:i=="start"||i=="center"&&t<0?e.top-s:e.bottom-b+s)-f.top}if(r=="nearest"?e.left<f.left?(v=-(f.left-e.left+o),t>0&&e.right>f.right+v&&(v=e.right-f.right+v+o)):e.right>f.right&&(v=e.right-f.right+o,t<0&&e.left<f.left+v&&(v=-(f.left+v-e.left+o))):v=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-o:e.right-(f.right-f.left)+o)-f.left,v||m)if(h)c.scrollBy(v,m);else{let y=0,b=0;if(m){let j=u.scrollTop;u.scrollTop+=m/g,b=(u.scrollTop-j)*g}if(v){let j=u.scrollLeft;u.scrollLeft+=v/p,y=(u.scrollLeft-j)*p}e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b},y&&Math.abs(y-v)<1&&(r="nearest"),b&&Math.abs(b-m)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function zA(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class LA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?yo(t):0),r,Math.min(e.focusOffset,r?yo(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Ta=null;function Zk(n){if(n.setActive)return n.setActive();if(Ta)return n.focus(Ta);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ta==null?{get preventScroll(){return Ta={preventScroll:!0},!0}}:void 0),!Ta){Ta=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let uy;function ma(n,e,t=e){let r=uy||(uy=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function sl(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function BA(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function eC(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function qA(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,yo(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=yo(t))}else{if(t==n)return!0;r=pa(t),t=t.parentNode}}function tC(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function nC(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=yo(t)}else if(t.parentNode&&!af(t))r=pa(t),t=t.parentNode;else return null}}function rC(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!af(t))r=pa(t)+1,t=t.parentNode;else return null}}class br{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new br(e.parentNode,pa(e),t)}static after(e,t){return new br(e.parentNode,pa(e)+1,t)}}const m0=[];class ln{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=ln.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=dy(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=dy(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=yo(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ln.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>t)return d.domBoundsAround(e,t,c);if(f>=e&&i==-1&&(i=l,o=c),c>t&&d.dom.parentNode==this.dom){s=l,a=u;break}u=f,c=f+d.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=m0){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new iC(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ln.prototype.breakAfter=0;function dy(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class iC{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function oC(n,e,t,r,i,o,s,a,l){let{children:c}=n,u=c.length?c[e]:null,d=o.length?o[o.length-1]:null,f=d?d.breakAfter:s;if(!(e==r&&u&&!s&&!f&&o.length<2&&u.merge(t,i,o.length?d:null,t==0,a,l))){if(r<c.length){let h=c[r];h&&(i<h.length||h.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(h=h.split(i),i=0),!f&&d&&h.merge(0,i,d,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h!=null&&h.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,t>0&&(!s&&o.length&&u.merge(t,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function sC(n,e,t,r,i,o){let s=n.childCursor(),{i:a,off:l}=s.findPos(t,1),{i:c,off:u}=s.findPos(e,-1),d=e-t;for(let f of r)d+=f.length;n.length+=d,oC(n,c,u,a,l,r,0,i,o)}let Nr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Mm=typeof document<"u"?document:{documentElement:{style:{}}};const Pm=/Edge\/(\d+)/.exec(Nr.userAgent),aC=/MSIE \d/.test(Nr.userAgent),_m=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nr.userAgent),ph=!!(aC||_m||Pm),fy=!ph&&/gecko\/(\d+)/i.test(Nr.userAgent),cp=!ph&&/Chrome\/(\d+)/.exec(Nr.userAgent),hy="webkitFontSmoothing"in Mm.documentElement.style,lC=!ph&&/Apple Computer/.test(Nr.vendor),py=lC&&(/Mobile\/\w+/.test(Nr.userAgent)||Nr.maxTouchPoints>2);var He={mac:py||/Mac/.test(Nr.platform),windows:/Win/.test(Nr.platform),linux:/Linux|X11/.test(Nr.platform),ie:ph,ie_version:aC?Mm.documentMode||6:_m?+_m[1]:Pm?+Pm[1]:0,gecko:fy,gecko_version:fy?+(/Firefox\/(\d+)/.exec(Nr.userAgent)||[0,0])[1]:0,chrome:!!cp,chrome_version:cp?+cp[1]:0,ios:py,android:/Android\b/.test(Nr.userAgent),webkit:hy,safari:lC,webkit_version:hy?+(/\bAppleWebKit\/(\d+)/.exec(Nr.userAgent)||[0,0])[1]:0,tabSize:Mm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const FA=256;class Vi extends ln{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Vi)||this.length-(t-e)+r.length>FA||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Vi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new br(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return VA(this.dom,e,t)}}class Wo extends ln{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(eC(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return r&&(!(r instanceof Wo&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(sC(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Wo(this.mark,t,s)}domAtPos(e){return cC(this,e)}coordsAt(e,t){return dC(this,e,t)}}function VA(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&t<0||e==r&&t>=0?He.chrome||He.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):t<0?i--:o<r&&o++;let a=ma(n,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:t>=0)?0:a.length-1];return He.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?hh(l,s<0):l||null}class ys extends ln{static create(e,t,r){return new ys(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ys.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,s){return r&&(!(r instanceof ys)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ys&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Qt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Qt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?br.before(this.dom):br.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return hh(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class yl extends ln{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof yl&&e.side==this.side}split(){return new yl(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?br.before(this.dom):br.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Qt.empty}get isHidden(){return!0}}Vi.prototype.children=ys.prototype.children=yl.prototype.children=m0;function cC(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new br(t,0)}function uC(n,e,t){let r,{children:i}=n;t>0&&e instanceof Wo&&i.length&&(r=i[i.length-1])instanceof Wo&&r.mark.eq(e.mark)?uC(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function dC(n,e,t){let r=null,i=-1,o=null,s=-1;function a(c,u){for(let d=0,f=0;d<c.children.length&&f<=u;d++){let h=c.children[d],p=f+h.length;p>=u&&(h.children.length?a(h,u-f):(!o||o.isHidden&&t>0)&&(p>u||f==p&&h.getSide()>0)?(o=h,s=u-f):(f<u||f==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-f)),f=p}}a(n,e);let l=(t<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),t):UA(n)}function UA(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Bc(e);return t[t.length-1]||null}function Tm(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const my=Object.create(null);function lf(n,e,t){if(n==e)return!0;n||(n=my),e||(e=my);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function Rm(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function HA(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Vs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Pr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Pr||(Pr={}));class lt extends ha{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new hu(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Rs(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=fC(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(s?t?2e8:1:-6e8)+1}return new Rs(e,r,i,t,e.widget||null,!0)}static line(e){return new pu(e)}static set(e,t=!1){return Vt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}lt.none=Vt.empty;class hu extends lt{constructor(e){let{start:t,end:r}=fC(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof hu&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&lf(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}hu.prototype.point=!1;class pu extends lt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof pu&&this.spec.class==e.spec.class&&lf(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}pu.prototype.mapMode=Er.TrackBefore;pu.prototype.point=!0;class Rs extends lt{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?Er.TrackBefore:Er.TrackAfter:Er.TrackDel}get type(){return this.startSide!=this.endSide?Pr.WidgetRange:this.startSide<=0?Pr.WidgetBefore:Pr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Rs&&WA(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Rs.prototype.point=!0;function fC(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function WA(n,e){return n==e||!!(n&&e&&n.compare(e))}function Nm(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Fn extends ln{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof Fn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),sC(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new Fn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){lf(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){uC(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Tm(t,this.attrs||{})),r&&(this.attrs=Tm({class:r},this.attrs||{}))}domAtPos(e){return cC(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(eC(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Rm(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&ln.get(i)instanceof Wo;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=ln.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!He.ios||!this.children.some(o=>o instanceof Vi))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Vi)||/[^ -~]/.test(r.text))return null;let i=Bc(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=dC(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Fn&&this.children.length==0&&e.children.length==0&&lf(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof Fn)return o;if(s>t)break}i=s+o.breakAfter}return null}}class Bo extends ln{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return r&&(!(r instanceof Bo)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?br.before(this.dom):br.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Bo(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return m0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Qt.empty}domBoundsAround(){return null}become(e){return e instanceof Bo&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Dm?null:hh(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Dm extends Vs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class $c{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Bo&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Fn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Uu(new yl(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Bo)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Uu(new Vi(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Rs){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof Rs)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Bo(r.widget||bl.block,a,r));else{let l=ys.create(r.widget||bl.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<t||r.startSide>0),u=!l.isEditable&&(e<t||o>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(Uu(new yl(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(Uu(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new $c(e,t,r,o);return s.openEnd=Vt.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Uu(n,e){for(let t of e)n=new Wo(t,[n],n.length);return n}class bl extends Vs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}bl.inline=new bl("span");bl.block=new bl("div");var gn=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(gn||(gn={}));const ga=gn.LTR,g0=gn.RTL;function hC(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const KA=hC("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),GA=hC("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Im=Object.create(null),eo=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Im[e]=t,Im[t]=-e}function pC(n){return n<=247?KA[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?GA[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const JA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class bs{get dir(){return this.level%2?g0:ga}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function mC(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!mC(r.inner,i.inner))return!1}return!0}const an=[];function QA(n,e,t,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:t,l=o?256:i;for(let c=s,u=l,d=l;c<a;c++){let f=pC(n.charCodeAt(c));f==512?f=u:f==8&&d==4&&(f=16),an[c]=f==4?2:f,f&7&&(d=f),u=f}for(let c=s,u=l,d=l;c<a;c++){let f=an[c];if(f==128)c<a-1&&u==an[c+1]&&u&24?f=an[c]=u:an[c]=256;else if(f==64){let h=c+1;for(;h<a&&an[h]==64;)h++;let p=c&&u==8||h<t&&an[h]==8?d==1?1:8:256;for(let g=c;g<h;g++)an[g]=p;c=h-1}else f==8&&d==1&&(an[c]=1);u=f,f&7&&(d=f)}}}function YA(n,e,t,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:e,u=s<r.length?r[s].from:t;for(let d=c,f,h,p;d<u;d++)if(h=Im[f=n.charCodeAt(d)])if(h<0){for(let g=a-3;g>=0;g-=3)if(eo[g+1]==-h){let v=eo[g+2],m=v&2?i:v&4?v&1?o:i:0;m&&(an[d]=an[eo[g]]=m),a=g;break}}else{if(eo.length==189)break;eo[a++]=d,eo[a++]=f,eo[a++]=l}else if((p=an[d])==2||p==1){let g=p==i;l=g?0:1;for(let v=a-3;v>=0;v-=3){let m=eo[v+2];if(m&2)break;if(g)eo[v+2]|=2;else{if(m&4)break;eo[v+2]|=4}}}}}function XA(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let s=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=s;l<a;){let c=an[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==t.length)break;u=t[i++].to,a=i<t.length?t[i].from:e}else if(an[u]==256)u++;else break;let d=o==1,f=(u<e?an[u]:r)==1,h=d==f?d?1:2:r;for(let p=u,g=i,v=g?t[g-1].to:n;p>l;)p==v&&(p=t[--g].from,v=g?t[g-1].to:n),an[--p]=h;l=u}else o=c,l++}}}function zm(n,e,t,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<t;){let u=!0,d=!1;if(c==o.length||l<o[c].from){let g=an[l];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c<o.length&&p==o[c].from){if(d)break e;let g=o[c];if(!u)for(let v=g.to,m=c+1;;){if(v==t)break e;if(m<o.length&&o[m].from==v)v=o[m++].to;else{if(an[v]==a)break e;break}}if(c++,f)f.push(g);else{g.from>l&&s.push(new bs(l,g.from,h));let v=g.direction==ga!=!(h%2);Lm(n,v?r+1:r,i,g.inner,g.from,g.to,s),l=g.to}p=g.to}else{if(p==t||(u?an[p]!=a:an[p]==a))break;p++}f?zm(n,l,p,r+1,i,f,s):l<p&&s.push(new bs(l,p,h)),l=p}else for(let l=t,c=o.length;l>e;){let u=!0,d=!1;if(!c||l>o[c-1].to){let g=an[l-1];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c&&p==o[c-1].to){if(d)break e;let g=o[--c];if(!u)for(let v=g.from,m=c;;){if(v==e)break e;if(m&&o[m-1].to==v)v=o[--m].from;else{if(an[v-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&s.push(new bs(g.to,l,h));let v=g.direction==ga!=!(h%2);Lm(n,v?r+1:r,i,g.inner,g.from,g.to,s),l=g.from}p=g.from}else{if(p==e||(u?an[p-1]!=a:an[p-1]==a))break;p--}f?zm(n,p,l,r+1,i,f,s):p<l&&s.push(new bs(p,l,h)),l=p}}function Lm(n,e,t,r,i,o,s){let a=e%2?2:1;QA(n,i,o,r,a),YA(n,i,o,r,a),XA(i,o,r,a),zm(n,i,o,e,t,r,s)}function ZA(n,e,t){if(!n)return[new bs(0,0,e==g0?1:0)];if(e==ga&&!t.length&&!JA.test(n))return gC(n.length);if(t.length)for(;n.length>an.length;)an[an.length]=256;let r=[],i=e==ga?0:1;return Lm(n,i,i,t,0,n.length,r),r}function gC(n){return[new bs(0,n,0)]}let vC="";function eM(n,e,t,r,i){var o;let s=r.head-n.from,a=bs.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[a],c=l.side(i,t);if(s==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],s=l.side(!i,t),c=l.side(i,t)}let u=mr(n.text,s,l.forward(i,t));(u<l.from||u>l.to)&&(u=c),vC=n.text.slice(Math.min(s,u),Math.max(s,u));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?je.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):je.cursor(u+n.from,l.forward(i,t)?-1:1,l.level)}function tM(n,e,t){for(let r=e;r<t;r++){let i=pC(n.charCodeAt(r));if(i==1)return ga;if(i==2||i==4)return g0}return ga}const yC=qe.define(),bC=qe.define(),xC=qe.define(),wC=qe.define(),Bm=qe.define(),jC=qe.define(),$C=qe.define(),v0=qe.define(),y0=qe.define(),kC=qe.define({combine:n=>n.some(e=>e)}),CC=qe.define({combine:n=>n.some(e=>e)}),SC=qe.define();class al{constructor(e,t="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new al(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new al(je.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Hu=St.define({map:(n,e)=>n.map(e)}),OC=St.define();function Ar(n,e,t){let r=n.facet(wC);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const ps=qe.define({combine:n=>n.length?n[0]:!0});let nM=0;const cc=qe.define();class Mn{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new Mn(nM++,e,r,i,a=>{let l=[cc.of(a)];return s&&l.push(qc.of(c=>{let u=c.plugin(a);return u?s(u):lt.none})),o&&l.push(o(a)),l})}static fromClass(e,t){return Mn.define(r=>new e(r),t)}}class up{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Ar(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ar(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Ar(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const EC=qe.define(),b0=qe.define(),qc=qe.define(),AC=qe.define(),x0=qe.define(),MC=qe.define();function gy(n,e){let t=n.state.facet(MC);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return Vt.spans(r,e.from,e.to,{point(){},span(o,s,a,l){let c=o-e.from,u=s-e.from,d=i;for(let f=a.length-1;f>=0;f--,l--){let h=a[f].spec.bidiIsolate,p;if(h==null&&(h=tM(e.text,c,u)),l>0&&d.length&&(p=d[d.length-1]).to==c&&p.direction==h)p.to=u,d=p.inner;else{let g={from:c,to:u,direction:h,inner:[]};d.push(g),d=g.inner}}}}),i}const PC=qe.define();function _C(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(PC)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const uc=qe.define();class gi{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new gi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],c=s-a,u=l?l.fromB:1e9;for(;o<t.length&&t[o]<u;){let d=t[o],f=t[o+1],h=Math.max(a,d),p=Math.min(u,f);if(h<=p&&new gi(h+c,p+c,h,p).addToSet(r),f>u)break;o+=2}if(!l)return r;new gi(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class cf{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Kn.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new gi(o,s,a,l))),this.changedRanges=i}static create(e,t,r){return new cf(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class vy extends ln{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=lt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Fn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new gi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!cM(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?iM(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new gi(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(He.ie||He.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=aM(s,a,e.changes);return r=gi.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=He.chrome||He.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Bo&&s.widget instanceof Dm&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,f,h,p,g;if(r&&r.range.fromB<d&&r.range.toB>u){let j=$c.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),x=$c.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);h=j.breakAtStart,p=j.openStart,g=x.openEnd;let S=this.compositionView(r);x.breakAtStart?S.breakAfter=1:x.content.length&&S.merge(S.length,S.length,x.content[0],!1,x.openStart,0)&&(S.breakAfter=x.content[0].breakAfter,x.content.shift()),j.content.length&&S.merge(0,0,j.content[j.content.length-1],!0,0,j.openEnd)&&j.content.pop(),f=j.content.concat(S).concat(x.content)}else({content:f,breakAtStart:h,openStart:p,openEnd:g}=$c.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:v,off:m}=o.findPos(c,1),{i:y,off:b}=o.findPos(l,-1);oC(this,y,b,v,m,f,h,p,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(OC)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Vi(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Wo(i,[t],t.length);let r=new Fn;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=ln.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&Nd(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(He.gecko&&a.empty&&!this.hasComposition&&rM(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new br(d,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!jc(l.node,l.offset,u.anchorNode,u.anchorOffset)||!jc(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{He.android&&He.chrome&&this.dom.contains(u.focusNode)&&lM(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Lc(this.view.root);if(d)if(a.empty){if(He.gecko){let f=oM(l.node,l.offset);if(f&&f!=3){let h=(f==1?nC:rC)(l.node,l.offset);h&&(l=new br(h.node,h.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new br(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new br(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&jc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Lc(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=Fn.find(this,t.head);if(!s)return;let a=s.posAtStart;if(t.head==a||t.head==a+s.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);r.collapse(u.node,u.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=ln.get(t.childNodes[i]);o instanceof Fn&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=ln.get(t.childNodes[i]);o instanceof Fn&&(r=o.domAtPos(o.length))}return r?new br(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=ln.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Fn)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Fn&&!(r instanceof Fn&&t>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof Bo&&Math.abs(t)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=c}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Fn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Vi))return null;let o=mr(i.text,r);if(o==r)return null;let s=ma(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==gn.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],f=c+d.length;if(f>i)break;if(c>=r){let h=d.dom.getBoundingClientRect();if(t.push(h.height),s){let p=d.dom.lastChild,g=p?Bc(p):[];if(g.length){let v=g[g.length-1],m=l?v.right-h.left:h.right-v.left;m>a&&(a=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?gn.RTL:gn.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Fn){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Bc(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new iC(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(lt.replace({widget:new Dm(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return lt.set(e)}updateDeco(){let e=1,t=this.view.state.facet(qc).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(AC).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(Vt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(SC))try{if(c(this.view,e.range,e))return!0}catch(u){Ar(this.view.state,u,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=_C(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;IA(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==gn.LTR)}}function rM(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function TC(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=nC(t.focusNode,t.focusOffset),i=rC(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=ln.get(i.node);if(!a||a instanceof Vi&&a.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let l=ln.get(r.node);!l||l instanceof Vi&&l.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function iM(n,e,t){let r=TC(n,t);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new gi(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let d=i.parentNode;;d=d.parentNode){let f=ln.get(d);if(f instanceof Wo)u.push({node:d,deco:f.mark});else{if(f instanceof Fn||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:c,text:i,marks:u,line:d};if(d!=n.contentDOM)u.push({node:d,deco:new hu({inclusive:!0,attributes:HA(d),tagName:d.tagName.toLowerCase()})});else return null}}}function oM(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let sM=class{constructor(){this.changes=[]}compareRange(e,t){Nm(e,t,this.changes)}comparePoint(e,t){Nm(e,t,this.changes)}};function aM(n,e,t){let r=new sM;return Vt.compare(n,e,t,r),r.changes}function lM(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function cM(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function uM(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return je.cursor(e);o==0?t=1:o==i.length&&(t=-1);let s=o,a=o;t<0?s=mr(i.text,o,!1):a=mr(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let c=mr(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=mr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return je.range(s+i.from,a+i.from)}function dM(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function fM(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function dp(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function yy(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function by(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function qm(n,e,t){let r,i,o,s,a=!1,l,c,u,d;for(let p=n.firstChild;p;p=p.nextSibling){let g=Bc(p);for(let v=0;v<g.length;v++){let m=g[v];i&&dp(i,m)&&(m=yy(by(m,i.bottom),i.top));let y=dM(e,m),b=fM(t,m);if(y==0&&b==0)return p.nodeType==3?xy(p,e,t):qm(p,e,t);if(!r||s>b||s==b&&o>y){r=p,i=m,o=y,s=b;let j=b?t<m.top?-1:1:y?e<m.left?-1:1:0;a=!j||(j>0?v<g.length-1:v>0)}y==0?t>m.bottom&&(!u||u.bottom<m.bottom)?(l=p,u=m):t<m.top&&(!d||d.top>m.top)&&(c=p,d=m):u&&dp(u,m)?u=by(u,m.bottom):d&&dp(d,m)&&(d=yy(d,m.top))}}if(u&&u.bottom>=t?(r=l,i=u):d&&d.top<=t&&(r=c,i=d),!r)return{node:n,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return xy(r,f,t);if(a&&r.contentEditable!="false")return qm(r,f,t);let h=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:h}}function xy(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=ma(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<o){let f=e>=(u.left+u.right)/2,h=f;if((He.chrome||He.gecko)&&ma(n,a).getBoundingClientRect().left==u.right&&(h=!f),d<=0)return{node:n,offset:a+(h?1:0)};i=a+(h?1:0),o=d}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function RC(n,e,t,r=-1){var i,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:d}=e,f=d-a;if(f<0)return 0;if(f>c)return n.state.doc.length;for(let j=n.viewState.heightOracle.textHeight/2,x=!1;l=n.elementAtHeight(f),l.type!=Pr.Text;)for(;f=r>0?l.bottom+j:l.top-j,!(f>=0&&f<=c);){if(x)return t?null:0;x=!0,r=-r}d=a+f;let h=l.from;if(h<n.viewport.from)return n.viewport.from==0?0:t?null:wy(n,s,l,u,d);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:wy(n,s,l,u,d);let p=n.dom.ownerDocument,g=n.root.elementFromPoint?n.root:p,v=g.elementFromPoint(u,d);v&&!n.contentDOM.contains(v)&&(v=null),v||(u=Math.max(s.left+1,Math.min(s.right-1,u)),v=g.elementFromPoint(u,d),v&&!n.contentDOM.contains(v)&&(v=null));let m,y=-1;if(v&&((i=n.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let j=p.caretPositionFromPoint(u,d);j&&({offsetNode:m,offset:y}=j)}else if(p.caretRangeFromPoint){let j=p.caretRangeFromPoint(u,d);j&&({startContainer:m,startOffset:y}=j,(!n.contentDOM.contains(m)||He.safari&&hM(m,y,u)||He.chrome&&pM(m,y,u))&&(m=void 0))}m&&(y=Math.min(yo(m),y))}if(!m||!n.docView.dom.contains(m)){let j=Fn.find(n.docView,h);if(!j)return f>l.top+l.height/2?l.to:l.from;({node:m,offset:y}=qm(j.dom,u,d))}let b=n.docView.nearest(m);if(!b)return null;if(b.isWidget&&((o=b.dom)===null||o===void 0?void 0:o.nodeType)==1){let j=b.dom.getBoundingClientRect();return e.y<j.top||e.y<=j.bottom&&e.x<=(j.left+j.right)/2?b.posAtStart:b.posAtEnd}else return b.localPosFromDOM(m,y)+b.posAtStart}function wy(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+Sm(s,o,n.state.tabSize)}function hM(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return ma(n,r-1,r).getBoundingClientRect().left>t}function pM(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():ma(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Fm(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Pr.Text))return r}return t}function mM(n,e,t,r){let i=Fm(n,e.head),o=!r||i.type!=Pr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==gn.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return je.cursor(l,t?-1:1)}return je.cursor(t?i.to:i.from,t?-1:1)}function jy(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let a=e,l=null;;){let c=eM(i,o,s,a,t),u=vC;if(!c){if(i.number==(t?n.state.doc.lines:1))return a;u=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),c=n.visualLineSide(i,!t)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function gM(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let s=r(o);return i==Sn.Space&&(i=s),i==s}}function vM(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return je.cursor(i,e.assoc);let s=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(i,e.assoc||-1),u=n.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let h=n.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-h.from))),a=(o<0?h.top:h.bottom)+u}let d=l.left+s,f=r??n.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=a+(f+h)*o,g=RC(n,{x:d,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?g<i:g>i)){let v=n.docView.coordsForChar(g),m=!v||p<v.top?-1:1;return je.cursor(g,m,void 0,s)}}}function Dd(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=r||t||(e-o<s-e?-1:1);e=l<0?o:s,r=l}});if(!r)return e}}function fp(n,e,t){let r=Dd(n.state.facet(x0).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:je.cursor(r,r<t.from?1:-1)}const dc="￿";class yM{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(zt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=dc}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let a=ln.get(i),l=ln.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:af(i))||af(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(t))&&(o=a.index,s=a[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let t=ln.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(bM(e,r.node,r.offset)?t:0))}}function bM(n,e,t){for(;;){if(!e||t<yo(e))return!1;if(e==n)return!0;t=pa(e)+1,e=e.parentNode}}class $y{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class xM{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=o||s?[]:$M(e),l=new yM(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=kM(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!Am(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!Am(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((He.ios||He.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),h=u.from-d,p=u.to-f;(h==0||h==1||d==0)&&(p==0||p==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=je.single(c,l)}}}function NC(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,c=null;(o===8||He.android&&e.text.length<a-s)&&(l=i.to,c="end");let u=jM(n.state.doc.sliceString(s,a,dc),e.text,l-s,c);u&&(He.chrome&&o==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==dc+dc&&u.toB--,t={from:s+u.from,to:s+u.toA,insert:Qt.of(e.text.slice(u.from,u.toB).split(dc))})}else r&&(!n.hasFocus&&n.state.facet(ps)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(He.mac||He.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=je.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Qt.of([" "])}):He.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=je.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Qt.of([" "])}),t)return w0(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function w0(n,e,t,r=-1){if(He.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(He.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&sl(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&sl(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&sl(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,a=()=>s||(s=wM(n,e,t));return n.state.facet(jC).some(l=>l(n,e.from,e.to,o,a))||n.dispatch(a()),!0}function wM(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=n.state.sliceDoc(e.from,e.to),u,d=t&&TC(n,t.main.head);if(d){let p=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-p}}else u=n.state.doc.lineAt(o.head);let f=o.to-e.to,h=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let g=p.to-f,v=g-c.length;if(p.to-p.from!=h||n.state.sliceDoc(v,g)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let m=i.changes({from:v,to:g,insert:e.insert}),y=p.to-o.to;return{changes:m,range:l?je.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(m)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function jM(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let s=n.length,a=e.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));t-=s+l-o}if(s<o&&n.length<e.length){let l=t<=o&&t>=s?o-t:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=t<=o&&t>=a?o-t:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function $M(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new $y(t,r)),(i!=t||o!=r)&&e.push(new $y(i,o))),e}function kM(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?je.single(t+e,r+e):null}class CM{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,He.safari&&e.contentDOM.addEventListener("input",()=>null),He.gecko&&qM(e.contentDOM.ownerDocument)}handleEvent(e){!TM(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=SM(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&IC.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),He.android&&He.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return He.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=DC.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||OM.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,sl(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:He.safari&&!He.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function ky(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Ar(t.state,i)}}}function SM(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&t(o).handlers.push(ky(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&t(o).observers.push(ky(r.value,s))}}for(let r in Ui)t(r).handlers.push(Ui[r]);for(let r in xi)t(r).observers.push(xi[r]);return e}const DC=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],OM="dthko",IC=[16,17,18,20,91,92,224,225],Wu=6;function Ku(n){return Math.max(0,n)*.7+8}function EM(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class AM{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=zA(e.contentDOM),this.atoms=e.state.facet(x0).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(zt.allowMultipleSelections)&&MM(e,t),this.dragging=_M(e,t)&&BC(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&EM(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=_C(this.view);e.clientX-l.left<=i+Wu?t=-Ku(i-e.clientX):e.clientX+l.right>=s-Wu&&(t=Ku(e.clientX-s)),e.clientY-l.top<=o+Wu?r=-Ku(o-e.clientY):e.clientY+l.bottom>=a-Wu&&(r=Ku(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=Dd(this.atoms,i.from,0);s!=i.from&&(o=je.cursor(s,-1))}else{let s=Dd(this.atoms,i.from,-1),a=Dd(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=je.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?je.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function MM(n,e){let t=n.state.facet(yC);return t.length?t[0](e):He.mac?e.metaKey:e.ctrlKey}function PM(n,e){let t=n.state.facet(bC);return t.length?t[0](e):He.mac?!e.altKey:!e.ctrlKey}function _M(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Lc(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function TM(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=ln.get(t))&&r.ignoreEvent(e))return!1;return!0}const Ui=Object.create(null),xi=Object.create(null),zC=He.ie&&He.ie_version<15||He.ios&&He.webkit_version<604;function RM(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),LC(n,t.value)},50)}function mh(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function LC(n,e){e=mh(n.state,v0,e);let{state:t}=n,r,i=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(Vm!=null&&t.selection.ranges.every(l=>l.empty)&&Vm==o.toString()){let l=-1;r=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=t.toText((s?o.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:d},range:je.cursor(c.from+d.length)}})}else s?r=t.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:je.cursor(l.from+c.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}xi.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Ui.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);xi.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};xi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ui.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(xC))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=IM(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new AM(n,e,t,r)),r&&n.observer.ignore(()=>{Zk(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Cy(n,e,t,r){if(r==1)return je.cursor(e,t);if(r==2)return uM(n.state,e,t);{let i=Fn.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,je.range(s,a)}}let Sy=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function NM(n,e,t,r){let i=Fn.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Sy(t,r,s))return-1;let a=i.coordsAt(o,1);return a&&Sy(t,r,a)?1:s&&s.bottom>=r?-1:1}function Oy(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:NM(n,t,e.clientX,e.clientY)}}const DM=He.ie&&He.ie_version<=11;let Ey=null,Ay=0,My=0;function BC(n){if(!DM)return n.detail;let e=Ey,t=My;return Ey=n,My=Date.now(),Ay=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Ay+1)%3:1}function IM(n,e){let t=Oy(n,e),r=BC(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,s,a){let l=Oy(n,o),c,u=Cy(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!s){let d=Cy(n,t.pos,t.bias,r),f=Math.min(d.from,u.from),h=Math.max(d.to,u.to);u=f<u.from?je.range(f,h):je.range(h,f)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=zM(i,l.pos))?c:a?i.addRange(u):je.create([u])}}}function zM(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return je.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Ui.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=je.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",mh(n.state,y0,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ui.dragend=n=>(n.inputState.draggedContent=null,!1);function Py(n,e,t,r){if(t=mh(n.state,v0,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&PM(n,e)?{from:o.from,to:o.to}:null,a={from:i,insert:t},l=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Ui.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&Py(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(t[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Py(n,e,r,!0),!0}return!1};Ui.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=zC?null:e.clipboardData;return t?(LC(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(RM(n),!1)};function LM(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function BM(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>i&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),i=s.number}r=!0}return{text:mh(n,y0,e.join(n.lineBreak)),ranges:t,linewise:r}}let Vm=null;Ui.copy=Ui.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=BM(n.state);if(!t&&!i)return!1;Vm=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=zC?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(LM(n,t),!1)};const qC=es.define();function FC(n,e){let t=[];for(let r of n.facet($C)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:qC.of(!0)}):null}function VC(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=FC(n.state,e);t?n.dispatch(t):n.update([])}},10)}xi.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),VC(n)};xi.blur=n=>{n.observer.clearSelectionRange(),VC(n)};xi.compositionstart=xi.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};xi.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,He.chrome&&He.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};xi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ui.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=n.posAtDOM(a.startContainer,a.startOffset),c=n.posAtDOM(a.endContainer,a.endOffset);return w0(n,{from:l,to:c,insert:n.state.toText(o)},null),!0}}let i;if(He.chrome&&He.android&&(i=DC.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return He.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),He.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>xi.compositionend(n,e),20),!1};const _y=new Set;function qM(n){_y.has(n)||(_y.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Ty=["pre-wrap","normal","pre-line","break-spaces"];let xl=!1;function Ry(){xl=!1}class FM{constructor(e){this.lineWrapping=e,this.doc=Qt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ty.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,s){let a=Ty.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class VM{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class so{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Pr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Rs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new so(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var pn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(pn||(pn={}));const Id=.001;class _r{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Id&&(xl=!0),this.height=e)}replace(e,t,r){return _r.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=i[a],f=o.lineAt(l,pn.ByPosNoHeight,r.setDoc(t),0,0),h=f.to>=c?f:o.lineAt(c,pn.ByPosNoHeight,r,0,0);for(d+=h.to-c,c=h.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=o.lineAt(l,pn.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let p=j0.build(r.setDoc(s),e,u,d);o=uf(o,o.replace(l,c,p))}return o.updateHeight(r,0)}static empty(){return new Xr(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new UM(_r.of(e.slice(0,t)),s,_r.of(e.slice(r)))}}function uf(n,e){return n==e?n:(n.constructor!=e.constructor&&(xl=!0),e)}_r.prototype.size=1;class UC extends _r{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new so(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Xr extends UC{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new so(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Xr||i instanceof ur&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ur?i=new Xr(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):_r.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ur extends _r{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=t.doc.lineAt(c),d=a+u.length*l,f=Math.max(r,e-d/2);return new so(u.from,u.length,f,d,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:u,length:d}=t.doc.line(o+c);return new so(u,d,r+a*c,a,0)}}lineAt(e,t,r,i,o){if(t==pn.ByHeight)return this.blockAt(e,r,i,o);if(t==pn.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(e);return new so(h,p-h,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-s,f=i+a*d+l*(c.from-o-d);return new so(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=e,d=i;u<=t;){let f=r.doc.lineAt(u);if(u==e){let p=f.number-a;d+=l*p+c*(e-o-p)}let h=l+c*f.length;s(new so(f.from,f.length,d,h,0)),d+=h,u=f.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof ur?r[r.length-1]=new ur(o.length+i):r.push(null,new ur(i-1))}if(e>0){let o=r[0];o instanceof ur?r[0]=new ur(e+o.length):r.unshift(new ur(e-1),null)}return _r.of(r)}decomposeLeft(e,t){t.push(new ur(e-1),null)}decomposeRight(e,t){t.push(null,new ur(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&s.push(new ur(i.from-t-1).updateHeight(e,t));a<=o&&i.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=Id&&(l=-2);let f=new Xr(u,d);f.outdated=!1,s.push(f),a+=u+1}a<=o&&s.push(null,new ur(o-a).updateHeight(e,a));let c=_r.of(s);return(l<0||Math.abs(c.height-this.height)>=Id||Math.abs(l-this.heightMetrics(e,t).perLine)>=Id)&&(xl=!0),uf(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class UM extends _r{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=t==pn.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==pn.ByPosNoHeight?pn.ByPosNoHeight:pn.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,i,o).join(c)}forEachLine(e,t,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,o,s),t>=l&&this.right.forEachLine(e,t,r,a,l,s);else{let c=this.lineAt(l,pn.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,a,l,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&Ny(o,s-1),t<this.length){let a=o.length;this.decomposeRight(t,o),Ny(o,a)}return _r.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?_r.of(this.break?[e,null,t]:[e,t]):(this.left=uf(this.left,e),this.right=uf(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,a=t+o.length+this.break,l=null;return i&&i.from<=t+o.length&&i.more?l=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ny(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof ur&&(r=n[e+1])instanceof ur&&n.splice(e-1,3,new ur(t.length+1+r.length))}const HM=5;class j0{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Xr?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Xr(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new UC(s,i,r)):(s||o||i>=HM)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Xr(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new ur(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Xr)return e;let t=new Xr(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Xr)&&!this.isCovered?this.nodes.push(new Xr(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Xr&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new j0(r,e);return Vt.spans(t,r,i,o,0),o.finish(r)}}function WM(n,e,t){let r=new KM;return Vt.compare(n,e,t,r,0),r.changes}class KM{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Nm(e,t,this.changes,5)}}function GM(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let f=u.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),a=Math.max(a,f.top),l=Math.min(c==n.parentNode?i.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function JM(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class hp{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return lt.replace({widget:new QM(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class QM extends Vs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Dy{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Iy,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=gn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(b0).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new FM(t),this.stateDeco=e.facet(qc).filter(r=>typeof r!="function"),this.heightMap=_r.empty().applyChanges(this.stateDeco,Qt.empty,this.heightOracle.setDoc(e.doc),[new gi(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=lt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new Gu(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Iy:new $0(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(fc(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(qc).filter(u=>typeof u!="function");let i=e.changedRanges,o=gi.extendWithRanges(i,WM(r,this.stateDeco,e?e.changes:Kn.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Ry(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||xl)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(CC)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?gn.RTL:gn.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:j,scaleY:x}=Xk(t,a);(j>.005&&Math.abs(this.scaleX-j)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=j,this.scaleY=x,c|=8,s=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=tC(e.scrollDOM);let p=(this.printing?JM:GM)(t,this.paddingTop),g=p.top-this.pixelViewport.top,v=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let j=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(j)&&(s=!0),s||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:x,charWidth:S,textHeight:_}=e.docView.measureTextSize();s=x>0&&i.refresh(o,x,S,_,y/S,j),s&&(e.docView.minWidth=0,c|=8)}g>0&&v>0?u=Math.max(g,v):g<0&&v<0&&(u=Math.min(g,v)),Ry();for(let x of this.viewports){let S=x.from==this.viewport.from?j:e.docView.measureVisibleLineHeights(x);this.heightMap=(s?_r.empty().applyChanges(this.stateDeco,Qt.empty,this.heightOracle,[new gi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new VM(x.from,S))}xl&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new Gu(i.lineAt(s-r*1e3,pn.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,pn.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,pn.ByPos,o,0,0),f;t.y=="center"?f=(d.top+d.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-u,l=new Gu(i.lineAt(f-1e3/2,pn.ByHeight,o,0,0).from,i.lineAt(f+u+1e3/2,pn.ByHeight,o,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Gu(this.heightMap.lineAt(r,pn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,pn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,pn.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,pn.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new hp(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=gn.LTR&&!r)return[];let a=[],l=(u,d,f,h)=>{if(d-u<o)return;let p=this.state.selection.main,g=[p.from];p.empty||g.push(p.to);for(let m of g)if(m>u&&m<d){l(u,m-10,f,h),l(m+10,d,f,h);return}let v=XM(e,m=>m.from>=f.from&&m.to<=f.to&&Math.abs(m.from-u)<o&&Math.abs(m.to-d)<o&&!g.some(y=>m.from<y&&m.to>y));if(!v){if(d<f.to&&t&&r&&t.visibleRanges.some(b=>b.from<=d&&b.to>=d)){let b=t.moveToLineBoundary(je.cursor(d),!1,!0).head;b>u&&(d=b)}let m=this.gapSize(f,u,d,h),y=r||m<2e6?m:2e6;v=new hp(u,d,m,y)}a.push(v)},c=u=>{if(u.length<s||u.type!=Pr.Text)return;let d=YM(u.from,u.to,this.stateDeco);if(d.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,m;if(f!=null){let y=Qu(d,f),b=((this.visibleBottom-this.visibleTop)/2+g)/u.height;v=y-b,m=y+b}else v=(this.visibleTop-u.top-g)/u.height,m=(this.visibleBottom-u.top+g)/u.height;h=Ju(d,v),p=Ju(d,m)}else{let g=d.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,m=0;if(g>2e6)for(let S of e)S.from>=u.from&&S.from<u.to&&S.size!=S.displaySize&&S.from*this.heightOracle.charWidth+m<this.pixelViewport.left&&(m=S.size-S.displaySize);let y=this.pixelViewport.left+m,b=this.pixelViewport.right+m,j,x;if(f!=null){let S=Qu(d,f),_=((b-y)/2+v)/g;j=S-_,x=S+_}else j=(y-v)/g,x=(b+v)/g;h=Ju(d,j),p=Ju(d,x)}h>u.from&&l(u.from,h,u,d),p<u.to&&l(p,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,t,r,i){let o=Qu(i,r)-Qu(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){hp.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=lt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Vt.spans(e,this.viewport.from,this.viewport.to,{span(i,o){t.push({from:i,to:o})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=t[o].from||i.to!=t[o].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||fc(this.heightMap.lineAt(e,pn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||fc(this.heightMap.lineAt(this.scaler.fromDOM(e),pn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return fc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Gu{constructor(e,t){this.from=e,this.to=t}}function YM(n,e,t){let r=[],i=n,o=0;return Vt.spans(t,n,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Ju({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function Qu(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function XM(n,e){for(let t of n)if(e(t))return t}const Iy={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class $0{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=t.lineAt(a,pn.ByPos,e,0,0).top,u=t.lineAt(l,pn.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof $0?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function fc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new so(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>fc(i,e)):n._content)}const Yu=qe.define({combine:n=>n.join(" ")}),Um=qe.define({combine:n=>n.indexOf(!0)>-1}),Hm=_s.newName(),HC=_s.newName(),WC=_s.newName(),KC={"&light":"."+HC,"&dark":"."+WC};function Wm(n,e,t){return new _s(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const ZM=Wm("."+Hm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},KC),e9={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},pp=He.ie&&He.ie_version<=11;class t9{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new LA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(He.ie&&He.ie_version<=11||He.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(He.chrome&&He.chrome_version<126)&&(this.editContext=new r9(e),e.state.facet(ps)&&(e.contentDOM.editContext=this.editContext.editContext)),pp&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ps)?r.root.activeElement!=this.dom:!Nd(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(He.ie&&He.ie_version<=11||He.android&&He.chrome)&&!r.state.selection.main.empty&&i.focusNode&&jc(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Lc(e.root);if(!t)return!1;let r=He.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&n9(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Nd(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&qA(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,e9),pp&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),pp&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&sl(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Nd(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new xM(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=NC(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=zy(t,e.previousSibling||e.target.previousSibling,-1),i=zy(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ps)!=e.state.facet(ps)&&(e.view.contentDOM.editContext=e.state.facet(ps)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function zy(n,e,t){for(;e;){let r=ln.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function Ly(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return jc(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function n9(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Ly(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?Ly(n,t):null}class r9{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Qt.of(r.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||w0(e,o,je.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(lt.mark({attributes:{style:l}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:OC.of(lt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Lc(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,c)=>{if(r)return;let u=c.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(c)){i=this.pendingContextChange=null,t+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(o+=t,s+=t,s<=this.from)this.from+=u,this.to+=u;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),c.toString()),this.to+=u}t+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ie{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||BA(e.parent)||document,this.viewState=new Dy(e.state||zt.create(e)),e.scrollTo&&e.scrollTo.is(Hu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(cc).map(i=>new up(i));for(let i of this.plugins)i.update(this);this.observer=new t9(this),this.inputState=new CM(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vy(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Jn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(qC))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=FC(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(zt.phrases)!=this.state.facet(zt.phrases))return this.setState(o);i=cf.create(this,o,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:h}=f.state.selection;d=new al(h.empty?h:je.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of f.effects)h.is(Hu)&&(d=h.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=df.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(uc)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Yu)!=i.state.facet(Yu)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(Bm))try{f(i)}catch(h){Ar(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!NC(this,u)&&c.force&&sl(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Dy(e),this.plugins=e.facet(cc).map(r=>new up(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new vy(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(cc),r=e.state.facet(cc);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new up(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Ar(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(tC(r))o=-1,s=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,s=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(p){return Ar(this.state,p),By}}),d=cf.create(this,this.state,[]),f=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let h=0;h<c.length;h++)if(u[h]!=By)try{let p=c[h];p.write&&p.write(u[h],this)}catch(p){Ar(this.state,p)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Bm))a(t)}get themeClasses(){return Hm+" "+(this.state.facet(Um)?WC:HC)+" "+this.state.facet(Yu)}updateAttrs(){let e=qy(this,EC,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ps)?"true":"false",class:"cm-content",style:`${He.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),qy(this,b0,t);let r=this.observer.ignore(()=>{let i=Rm(this.contentDOM,this.contentAttrs,t),o=Rm(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(Ie.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(uc);let e=this.state.facet(Ie.cspNonce);_s.mount(this.root,this.styleModules.concat(ZM).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return fp(this,e,jy(this,e,t,r))}moveByGroup(e,t){return fp(this,e,jy(this,e,t,r=>gM(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return je.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return mM(this,e,t,r)}moveVertically(e,t,r){return fp(this,e,vM(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),RC(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[bs.find(o,e-i.from,-1,t)];return hh(r,s.dir==gn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(kC)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>i9)return gC(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||mC(o.isolates,r=gy(this,e))))return o.order;r||(r=gy(this,e));let i=ZA(e.text,t,r);return this.bidiCache.push(new df(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||He.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Zk(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Hu.of(new al(typeof e=="number"?je.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Hu.of(new al(je.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Mn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Mn.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=_s.newName(),i=[Yu.of(r),uc.of(Wm(`.${r}`,e))];return t&&t.dark&&i.push(Um.of(!0)),i}static baseTheme(e){return Ca.lowest(uc.of(Wm("."+Hm,e,KC)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&ln.get(r)||ln.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}Ie.styleModule=uc;Ie.inputHandler=jC;Ie.clipboardInputFilter=v0;Ie.clipboardOutputFilter=y0;Ie.scrollHandler=SC;Ie.focusChangeEffect=$C;Ie.perLineTextDirection=kC;Ie.exceptionSink=wC;Ie.updateListener=Bm;Ie.editable=ps;Ie.mouseSelectionStyle=xC;Ie.dragMovesSelection=bC;Ie.clickAddsSelectionRange=yC;Ie.decorations=qc;Ie.outerDecorations=AC;Ie.atomicRanges=x0;Ie.bidiIsolatedRanges=MC;Ie.scrollMargins=PC;Ie.darkTheme=Um;Ie.cspNonce=qe.define({combine:n=>n.length?n[0]:""});Ie.contentAttributes=b0;Ie.editorAttributes=EC;Ie.lineWrapping=Ie.contentAttributes.of({class:"cm-lineWrapping"});Ie.announce=St.define();const i9=4096,By={};class df{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:gn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!t.touchesRange(s.from,s.to)&&r.push(new df(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function qy(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(n):o;s&&Tm(s,t)}return t}const o9=He.mac?"mac":He.windows?"win":He.linux?"linux":"key";function s9(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Xu(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const a9=Ca.default(Ie.domEventHandlers({keydown(n,e){return JC(GC(e.state),n,e,"editor")}})),ff=qe.define({enables:a9}),Fy=new WeakMap;function GC(n){let e=n.facet(ff),t=Fy.get(e);return t||Fy.set(e,t=u9(e.reduce((r,i)=>r.concat(i),[]))),t}function l9(n,e,t){return JC(GC(n.state),e,n,t)}let ms=null;const c9=4e3;function u9(n,e=o9){let t=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var d,f;let h=t[s]||(t[s]=Object.create(null)),p=a.split(/ (?!$)/).map(m=>s9(m,e));for(let m=1;m<p.length;m++){let y=p.slice(0,m).join(" ");i(y,!0),h[y]||(h[y]={preventDefault:!0,stopPropagation:!1,run:[b=>{let j=ms={view:b,prefix:y,scope:s};return setTimeout(()=>{ms==j&&(ms=null)},c9),!0}]})}let g=p.join(" ");i(g,!1);let v=h[g]||(h[g]={preventDefault:!1,stopPropagation:!1,run:((f=(d=h._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let f in u)u[f].run.push(h=>d(h,Km))}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return t}let Km=null;function JC(n,e,t,r){Km=e;let i=NA(e),o=dr(i,0),s=di(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;ms&&ms.view==t&&ms.scope==r&&(a=ms.prefix+" ",IC.indexOf(e.keyCode)<0&&(c=!0,ms=null));let d=new Set,f=v=>{if(v){for(let m of v.run)if(!d.has(m)&&(d.add(m),m(t)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},h=n[r],p,g;return h&&(f(h[a+Xu(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(He.windows&&e.ctrlKey&&e.altKey)&&(p=Ts[e.keyCode])&&p!=i?(f(h[a+Xu(p,e,!0)])||e.shiftKey&&(g=zc[e.keyCode])!=i&&g!=p&&f(h[a+Xu(g,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(h[a+Xu(i,e,!0)])&&(l=!0),!l&&f(h._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),Km=null,l}class mu{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=QC(e);return[new mu(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return d9(e,t,r)}}function QC(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==gn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Vy(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=n.posAtCoords({x:o.left+1,y:s}),l=n.posAtCoords({x:o.right-1,y:s});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function d9(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),o=n.textDirection==gn.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),l=QC(n),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),h=Fm(n,r),p=Fm(n,i),g=h.type==Pr.Text?h:null,v=p.type==Pr.Text?p:null;if(g&&(n.lineWrapping||h.widgetLineBreaks)&&(g=Vy(n,r,1,g)),v&&(n.lineWrapping||p.widgetLineBreaks)&&(v=Vy(n,i,-1,v)),g&&v&&g.from==v.from&&g.to==v.to)return y(b(t.from,t.to,g));{let x=g?b(t.from,null,g):j(h,!1),S=v?b(null,t.to,v):j(p,!0),_=[];return(g||h).to<(v||p).from-(g&&v?1:0)||h.widgetLineBreaks>1&&x.bottom+n.defaultLineHeight/2<S.top?_.push(m(d,x.bottom,f,S.top)):x.bottom<S.top&&n.elementAtHeight((x.bottom+S.top)/2).type==Pr.Text&&(x.bottom=S.top=(x.bottom+S.top)/2),y(x).concat(_).concat(y(S))}function m(x,S,_,B){return new mu(e,x-l.left,S-l.top-.01,_-x,B-S+.01)}function y({top:x,bottom:S,horizontal:_}){let B=[];for(let R=0;R<_.length;R+=2)B.push(m(_[R],x,_[R+1],S));return B}function b(x,S,_){let B=1e9,R=-1e9,F=[];function Q(U,T,re,ie,G){let L=n.coordsAtPos(U,U==_.to?-2:2),M=n.coordsAtPos(re,re==_.from?2:-2);!L||!M||(B=Math.min(L.top,M.top,B),R=Math.max(L.bottom,M.bottom,R),G==gn.LTR?F.push(o&&T?d:L.left,o&&ie?f:M.right):F.push(!o&&ie?d:M.left,!o&&T?f:L.right))}let Z=x??_.from,J=S??_.to;for(let U of n.visibleRanges)if(U.to>Z&&U.from<J)for(let T=Math.max(U.from,Z),re=Math.min(U.to,J);;){let ie=n.state.doc.lineAt(T);for(let G of n.bidiSpans(ie)){let L=G.from+ie.from,M=G.to+ie.from;if(L>=re)break;M>T&&Q(Math.max(L,T),x==null&&L<=Z,Math.min(M,re),S==null&&M>=J,G.dir)}if(T=ie.to+1,T>=re)break}return F.length==0&&Q(Z,x==null,J,S==null,n.textDirection),{top:B,bottom:R,horizontal:F}}function j(x,S){let _=a.top+(S?x.top:x.bottom);return{top:_,bottom:_,horizontal:[]}}}function f9(n,e){return n.constructor==e.constructor&&n.eq(e)}class h9{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(zd)!=e.state.facet(zd)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(zd);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!f9(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const zd=qe.define();function YC(n){return[Mn.define(e=>new h9(e,n)),zd.of(n)]}const XC=!He.ios,Fc=qe.define({combine(n){return $i(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function p9(n={}){return[Fc.of(n),m9,g9,v9,CC.of(!0)]}function ZC(n){return n.startState.facet(Fc)!=n.state.facet(Fc)}const m9=YC({above:!0,markers(n){let{state:e}=n,t=e.facet(Fc),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||XC:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:je.cursor(i.head,i.head>i.anchor?-1:1);for(let l of mu.forRange(n,s,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=ZC(n);return t&&Uy(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Uy(e.state,n)},class:"cm-cursorLayer"});function Uy(n,e){e.style.animationDuration=n.facet(Fc).cursorBlinkRate+"ms"}const g9=YC({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:mu.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||ZC(n)},class:"cm-selectionLayer"}),Gm={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};XC&&(Gm[".cm-line"].caretColor=Gm[".cm-content"].caretColor="transparent !important");const v9=Ca.highest(Ie.theme(Gm)),eS=St.define({map(n,e){return n==null?null:e.mapPos(n)}}),hc=Xn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(eS)?r.value:t,n)}}),y9=Mn.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(hc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(hc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(hc),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(hc)!=n&&this.view.dispatch({effects:eS.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function b9(){return[hc,y9]}function Hy(n,e,t,r,i){e.lastIndex=0;for(let o=n.iterRange(t,r),s=t,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function x9(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:o}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class w9{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let d=r(a,l,c);d&&u(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let t=new vo,r=t.add.bind(t);for(let{from:i,to:o}of x9(e,this.maxLength))Hy(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),d=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let f=[],h,p=(g,v,m)=>f.push(m.range(g,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<d-l.from;)this.addMatch(h,e,h.index+l.from,p);else Hy(e.state.doc,this.regexp,u,d,(g,v)=>this.addMatch(v,e,g,p));t=t.update({filterFrom:u,filterTo:d,filter:(g,v)=>g<u||v>d,add:f})}}return t}}const Jm=/x/.unicode!=null?"gu":"g",j9=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Jm),$9={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let mp=null;function k9(){var n;if(mp==null&&typeof document<"u"&&document.body){let e=document.body.style;mp=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return mp||!1}const Ld=qe.define({combine(n){let e=$i(n,{render:null,specialChars:j9,addSpecialChars:null});return(e.replaceTabs=!k9())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Jm)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Jm)),e}});function C9(n={}){return[Ld.of(n),S9()]}let Wy=null;function S9(){return Wy||(Wy=Mn.fromClass(class{constructor(n){this.view=n,this.decorations=lt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Ld)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new w9({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,o=dr(e[0],0);if(o==9){let s=i.lineAt(r),a=t.state.tabSize,l=Il(s.text,a,r-s.from);return lt.replace({widget:new M9((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=lt.replace({widget:new A9(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Ld);n.startState.facet(Ld)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const O9="•";function E9(n){return n>=32?O9:n==10?"␤":String.fromCharCode(9216+n)}class A9 extends Vs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=E9(this.code),r=e.state.phrase("Control character")+" "+($9[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class M9 extends Vs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function P9(){return T9}const _9=lt.line({class:"cm-activeLine"}),T9=Mn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(_9.range(i.from)),e=i.from)}return lt.set(t)}},{decorations:n=>n.decorations}),Qm=2e3;function R9(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),o=[];if(e.off>Qm||t.off>Qm||e.col<0||t.col<0){let s=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let c=n.doc.line(l);c.length<=a&&o.push(je.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let c=n.doc.line(l),u=Sm(c.text,s,n.tabSize,!0);if(u<0)o.push(je.cursor(c.to));else{let d=Sm(c.text,a,n.tabSize);o.push(je.range(c.from+u,c.from+d))}}}return o}function N9(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Ky(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>Qm?-1:i==r.length?N9(n,e.clientX):Il(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function D9(n,e){let t=Ky(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=Ky(n,i);if(!a)return r;let l=R9(n.state,t,a);return l.length?s?je.create(l.concat(r.ranges)):je.create(l):r}}:null}function I9(n){let e=t=>t.altKey&&t.button==0;return Ie.mouseSelectionStyle.of((t,r)=>e(r)?D9(t,r):null)}const z9={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},L9={style:"cursor: crosshair"};function B9(n={}){let[e,t]=z9[n.key||"Alt"],r=Mn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,Ie.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?L9:null})]}const Zl="-10000px";class tS{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=t?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(u=d)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let d=s[l]=this.tooltipViews[u];a&&(a[l]=t[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function q9(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const gp=qe.define({combine:n=>{var e,t,r;return{position:He.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||q9}}}),Gy=new WeakMap,k0=Mn.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(gp);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new tS(n,gh,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(gp);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Zl,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(He.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Zl&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,t=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(gp).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=n.pos[a],f=n.size[a];if(!d||d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1){u.style.top=Zl;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,g=f.right-f.left,v=(e=Gy.get(c))!==null&&e!==void 0?e:f.bottom-f.top,m=c.offset||V9,y=this.view.textDirection==gn.LTR,b=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.max(r.left,Math.min(d.left-(h?14:0)+m.x,r.right-g)):Math.min(Math.max(r.left,d.left-g+(h?14:0)-m.x),r.right-g),j=this.above[a];!l.strictSide&&(j?d.top-(f.bottom-f.top)-m.y<r.top:d.bottom+(f.bottom-f.top)+m.y>r.bottom)&&j==r.bottom-d.bottom>d.top-r.top&&(j=this.above[a]=!j);let x=(j?d.top-r.top:r.bottom-d.bottom)-p;if(x<v&&c.resize!==!1){if(x<this.view.defaultLineHeight){u.style.top=Zl;continue}Gy.set(c,v),u.style.height=(v=x)/o+"px"}else u.style.height&&(u.style.height="");let S=j?d.top-v-p-m.y:d.bottom+p+m.y,_=b+g;if(c.overlap!==!0)for(let B of s)B.left<_&&B.right>b&&B.top<S+v&&B.bottom>S&&(S=j?B.top-v-2-p:B.bottom+p+2);if(this.position=="absolute"?(u.style.top=(S-n.parent.top)/o+"px",u.style.left=(b-n.parent.left)/i+"px"):(u.style.top=S/o+"px",u.style.left=b/i+"px"),h){let B=d.left+(y?m.x:-m.x)-(b+14-7);h.style.left=B/i+"px"}c.overlap!==!0&&s.push({left:b,top:S,right:_,bottom:S+v}),u.classList.toggle("cm-tooltip-above",j),u.classList.toggle("cm-tooltip-below",!j),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Zl}},{eventObservers:{scroll(){this.maybeMeasure()}}}),F9=Ie.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),V9={x:0,y:0},gh=qe.define({enables:[k0,F9]}),hf=qe.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class vh{static create(e){return new vh(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new tS(e,hf,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const U9=gh.compute([hf],n=>{let e=n.facet(hf);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:vh.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class H9{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof ys)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==gn.RTL?-1:1;o=t.x<a.left?-c:c}let s=this.source(e,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Ar(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(k0),t=e?e.manager.tooltips.findIndex(r=>r.create==vh.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!W9(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!K9(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Zu=4;function W9(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),s;if(s=n.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=t-Zu&&e.clientX<=r+Zu&&e.clientY>=i-Zu&&e.clientY<=o+Zu}function K9(n,e,t,r,i,o){let s=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function G9(n,e={}){let t=St.define(),r=Xn.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,Er.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=o.changes.mapPos(c.end)),s.push(c)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(J9)&&(i=[]);return i},provide:i=>hf.from(i)});return{active:r,extension:[r,Mn.define(i=>new H9(i,n,r,t,e.hoverTime||300)),U9]}}function nS(n,e){let t=n.plugin(k0);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const J9=St.define(),Jy=qe.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Vc(n,e){let t=n.plugin(rS),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const rS=Mn.fromClass(class{constructor(n){this.input=n.state.facet(Uc),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(Jy);this.top=new ed(n,!0,e.topContainer),this.bottom=new ed(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(Jy);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ed(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ed(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Uc);if(t!=this.input){let r=t.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),i.push(u),(u.top?o:s).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Ie.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class ed{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Qy(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Qy(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Qy(n){let e=n.nextSibling;return n.remove(),e}const Uc=qe.define({enables:rS});class bo extends ha{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bo.prototype.elementClass="";bo.prototype.toDOM=void 0;bo.prototype.mapMode=Er.TrackBefore;bo.prototype.startSide=bo.prototype.endSide=-1;bo.prototype.point=!0;const Bd=qe.define(),Q9=qe.define(),Y9={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Vt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},kc=qe.define();function iS(n){return[oS(),kc.of(Object.assign(Object.assign({},Y9),n))]}const Yy=qe.define({combine:n=>n.some(e=>e)});function oS(n){return[X9]}const X9=Mn.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(kc).map(e=>new Zy(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(Yy),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Yy)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Vt.iter(this.view.state.facet(Bd),this.view.viewport.from),r=[],i=this.gutters.map(o=>new Z9(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Pr.Text&&s){Ym(t,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==Pr.Text){Ym(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(kc),t=n.state.facet(kc),r=n.docChanged||n.heightChanged||n.viewportChanged||!Vt.eq(n.startState.facet(Bd),n.state.facet(Bd),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new Zy(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Ie.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==gn.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function Xy(n){return Array.isArray(n)?n:[n]}function Ym(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Z9{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Vt.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let a=new sS(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];Ym(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(Q9)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Zy{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=Xy(t.markers(e)),t.initialSpacer&&(this.spacer=new sS(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Xy(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Vt.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class sS{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),e7(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<t.length?t[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function e7(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const t7=qe.define(),n7=qe.define(),Ja=qe.define({combine(n){return $i(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return r}})}});class vp extends bo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function yp(n,e){return n.state.facet(Ja).formatNumber(e,n.state)}const r7=kc.compute([Ja],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(t7)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new vp(yp(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(n7)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Ja)!=e.state.facet(Ja),initialSpacer(e){return new vp(yp(e,eb(e.state.doc.lines)))},updateSpacer(e,t){let r=yp(t.view,eb(t.view.state.doc.lines));return r==e.number?e:new vp(r)},domEventHandlers:n.facet(Ja).domEventHandlers}));function i7(n={}){return[Ja.of(n),oS(),r7]}function eb(n){let e=9;for(;e<n;)e=e*10+9;return e}const o7=new class extends bo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},s7=Bd.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(o7.range(i)))}return Vt.of(e)});function a7(){return s7}const aS=1024;let l7=0;class bp{constructor(e,t){this.from=e,this.to=t}}class Rt{constructor(e={}){this.id=l7++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=qr.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Rt.closedBy=new Rt({deserialize:n=>n.split(" ")});Rt.openedBy=new Rt({deserialize:n=>n.split(" ")});Rt.group=new Rt({deserialize:n=>n.split(" ")});Rt.isolate=new Rt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Rt.contextHash=new Rt({perNode:!0});Rt.lookAhead=new Rt({perNode:!0});Rt.mounted=new Rt({perNode:!0});class pf{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Rt.mounted.id]}}const c7=Object.create(null);class qr{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):c7,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new qr(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Rt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Rt.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}}qr.none=new qr("",Object.create(null),0,8);class C0{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}t.push(i?new qr(r.name,i,r.id,r.flags):r)}return new C0(t)}}const td=new WeakMap,tb=new WeakMap;var nr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(nr||(nr={}));class Vn{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=pf.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Zm(this.topNode,e)}cursorAt(e,t=0,r=0){let i=td.get(this)||this.topNode,o=new Zm(i);return o.moveTo(e,t),td.set(this,o._tree),o}get topNode(){return new vi(this,0,0,null)}resolve(e,t=0){let r=Hc(td.get(this)||this.topNode,e,t,!1);return td.set(this,r),r}resolveInner(e,t=0){let r=Hc(tb.get(this)||this.topNode,e,t,!0);return tb.set(this,r),r}resolveStack(e,t=0){return f7(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&nr.IncludeAnonymous)>0;for(let l=this.cursor(s|nr.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:E0(qr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Vn(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Vn(qr.none,t,r,i)))}static build(e){return h7(e)}}Vn.empty=new Vn(qr.none,[],[],0);class S0{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new S0(this.buffer,this.index)}}class Ns{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return qr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,r,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=t&&!(lS(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let a=e,l=0;a<t;){o[l++]=i[a++],o[l++]=i[a++]-r;let c=o[l++]=i[a++]-r;o[l++]=i[a++]-e,s=Math.max(s,c)}return new Ns(o,s,this.set)}}function lS(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Hc(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof vi&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:nr.IgnoreOverlays;if(r)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof vi&&s.index<0&&((i=a.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=a);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class cS{cursor(e=0){return new Zm(this,e)}getChild(e,t=null,r=null){let i=nb(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return nb(this,e,t,r)}resolve(e,t=0){return Hc(this,e,t,!1)}resolveInner(e,t=0){return Hc(this,e,t,!0)}matchContext(e){return Xm(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class vi extends cS{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+s.from;if(lS(i,r,d,d+u.length)){if(u instanceof Ns){if(o&nr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new xs(new u7(s,u,e,d),null,f)}else if(o&nr.IncludeAnonymous||!u.type.isAnonymous||O0(u)){let f;if(!(o&nr.IgnoreMounts)&&(f=pf.get(u))&&!f.overlay)return new vi(f.tree,d,e,s);let h=new vi(u,d,e,s);return o&nr.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(o&nr.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&nr.IgnoreOverlays)&&(i=pf.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?a>=o:a>o))return new vi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function nb(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Xm(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class u7{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class xs extends cS{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new xs(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&nr.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new xs(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new xs(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new xs(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new Vn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function uS(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof vi&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new d7(i,t)}class d7{constructor(e,t){this.heads=e,this.node=t}get next(){return uS(this.heads)}}function f7(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof vi?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,t)),o=s}else{let s=pf.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new vi(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(Hc(a,e,t,!1))}}return i?uS(i):r}class Zm{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof vi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof vi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&nr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&nr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&nr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&nr.IncludeAnonymous||a instanceof Ns||!a.type.isAnonymous||O0(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new xs(this.buffer,t,this.stack[i]);return this.bufferNode=new xs(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Xm(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Xm(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function O0(n){return n.children.some(e=>e instanceof Ns||!e.type.isAnonymous||O0(e))}function h7(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=aS,reused:o=[],minRepeatType:s=r.types.length}=n,a=Array.isArray(t)?new S0(t,t.length):t,l=r.types,c=0,u=0;function d(x,S,_,B,R,F){let{id:Q,start:Z,end:J,size:U}=a,T=u,re=c;for(;U<0;)if(a.next(),U==-1){let E=o[Q];_.push(E),B.push(Z-x);return}else if(U==-3){c=Q;return}else if(U==-4){u=Q;return}else throw new RangeError(`Unrecognized record size: ${U}`);let ie=l[Q],G,L,M=Z-x;if(J-Z<=i&&(L=v(a.pos-S,R))){let E=new Uint16Array(L.size-L.skip),ee=a.pos-L.size,H=E.length;for(;a.pos>ee;)H=m(L.start,E,H);G=new Ns(E,J-L.start,r),M=L.start-x}else{let E=a.pos-U;a.next();let ee=[],H=[],k=Q>=s?Q:-1,P=0,D=J;for(;a.pos>E;)k>=0&&a.id==k&&a.size>=0?(a.end<=D-i&&(p(ee,H,Z,P,a.end,D,k,T,re),P=ee.length,D=a.end),a.next()):F>2500?f(Z,E,ee,H):d(Z,E,ee,H,k,F+1);if(k>=0&&P>0&&P<ee.length&&p(ee,H,Z,P,Z,D,k,T,re),ee.reverse(),H.reverse(),k>-1&&P>0){let N=h(ie,re);G=E0(ie,ee,H,0,ee.length,0,J-Z,N,N)}else G=g(ie,ee,H,J-Z,T-J,re)}_.push(G),B.push(M)}function f(x,S,_,B){let R=[],F=0,Q=-1;for(;a.pos>S;){let{id:Z,start:J,end:U,size:T}=a;if(T>4)a.next();else{if(Q>-1&&J<Q)break;Q<0&&(Q=U-i),R.push(Z,J,U),F++,a.next()}}if(F){let Z=new Uint16Array(F*4),J=R[R.length-2];for(let U=R.length-3,T=0;U>=0;U-=3)Z[T++]=R[U],Z[T++]=R[U+1]-J,Z[T++]=R[U+2]-J,Z[T++]=T;_.push(new Ns(Z,R[2]-J,r)),B.push(J-x)}}function h(x,S){return(_,B,R)=>{let F=0,Q=_.length-1,Z,J;if(Q>=0&&(Z=_[Q])instanceof Vn){if(!Q&&Z.type==x&&Z.length==R)return Z;(J=Z.prop(Rt.lookAhead))&&(F=B[Q]+Z.length+J)}return g(x,_,B,R,F,S)}}function p(x,S,_,B,R,F,Q,Z,J){let U=[],T=[];for(;x.length>B;)U.push(x.pop()),T.push(S.pop()+_-R);x.push(g(r.types[Q],U,T,F-R,Z-F,J)),S.push(R-_)}function g(x,S,_,B,R,F,Q){if(F){let Z=[Rt.contextHash,F];Q=Q?[Z].concat(Q):[Z]}if(R>25){let Z=[Rt.lookAhead,R];Q=Q?[Z].concat(Q):[Z]}return new Vn(x,S,_,B,Q)}function v(x,S){let _=a.fork(),B=0,R=0,F=0,Q=_.end-i,Z={size:0,start:0,skip:0};e:for(let J=_.pos-x;_.pos>J;){let U=_.size;if(_.id==S&&U>=0){Z.size=B,Z.start=R,Z.skip=F,F+=4,B+=4,_.next();continue}let T=_.pos-U;if(U<0||T<J||_.start<Q)break;let re=_.id>=s?4:0,ie=_.start;for(_.next();_.pos>T;){if(_.size<0)if(_.size==-3)re+=4;else break e;else _.id>=s&&(re+=4);_.next()}R=ie,B+=U,F+=re}return(S<0||B==x)&&(Z.size=B,Z.start=R,Z.skip=F),Z.size>4?Z:void 0}function m(x,S,_){let{id:B,start:R,end:F,size:Q}=a;if(a.next(),Q>=0&&B<s){let Z=_;if(Q>4){let J=a.pos-(Q-4);for(;a.pos>J;)_=m(x,S,_)}S[--_]=Z,S[--_]=F-x,S[--_]=R-x,S[--_]=B}else Q==-3?c=B:Q==-4&&(u=B);return _}let y=[],b=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,y,b,-1,0);let j=(e=n.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new Vn(l[n.topID],y.reverse(),b.reverse(),j)}const rb=new WeakMap;function qd(n,e){if(!n.isAnonymous||e instanceof Ns||e.type!=n)return 1;let t=rb.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Vn)){t=1;break}t+=qd(n,r)}rb.set(e,t)}return t}function E0(n,e,t,r,i,o,s,a,l){let c=0;for(let p=r;p<i;p++)c+=qd(n,e[p]);let u=Math.ceil(c*1.5/8),d=[],f=[];function h(p,g,v,m,y){for(let b=v;b<m;){let j=b,x=g[b],S=qd(n,p[b]);for(b++;b<m;b++){let _=qd(n,p[b]);if(S+_>=u)break;S+=_}if(b==j+1){if(S>u){let _=p[j];h(_.children,_.positions,0,_.children.length,g[j]+y);continue}d.push(p[j])}else{let _=g[b-1]+p[b-1].length-x;d.push(E0(n,p,g,j,b,x,_,null,l))}f.push(x+y-o)}}return h(e,t,r,i,0),(a||l)(d,f,s)}class ca{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new ca(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;s&&s.from<d;){let f=s;if(l>=f.from||d<=f.to||c){let h=Math.max(f.from,l)-c,p=Math.min(f.to,d)-c;f=h>=p?null:new ca(h,p,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),s.to>d)break;s=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class dS{startParse(e,t,r){return typeof e=="string"&&(e=new p7(e)),r=r?r.length?r.map(i=>new bp(i.from,i.to)):[new bp(0,0)]:[new bp(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class p7{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Rt({perNode:!0});let m7=0;class ui{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=m7++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof ui&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new ui(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new mf(e);return r=>r.modified.indexOf(t)>-1?r:mf.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}}let g7=0;class mf{constructor(e){this.name=e,this.instances=[],this.id=g7++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&v7(t,a.modified));if(r)return r;let i=[],o=new ui(e.name,i,e,t);for(let a of t)a.instances.push(o);let s=y7(t);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(mf.get(a,l));return o}}function v7(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function y7(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function fS(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],s=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let h=i[d++];if(d==i.length&&h=="!"){s=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new gf(r,s,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return hS.add(e)}const hS=new Rt;class gf{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}gf.empty=new gf([],2,null);function pS(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=t[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function b7(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function x7(n,e,t,r=0,i=n.length){let o=new w7(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}class w7{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:a,to:l}=e;if(a>=r||l<=t)return;s.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(s)));let c=i,u=j7(e)||gf.empty,d=b7(o,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(Rt.mounted);if(f&&f.overlay){let h=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),g=e.firstChild();for(let v=0,m=a;;v++){let y=v<f.overlay.length?f.overlay[v]:null,b=y?y.from+a:l,j=Math.max(t,m),x=Math.min(r,b);if(j<x&&g)for(;e.from<x&&(this.highlightRange(e,j,x,i,o),this.startSpan(Math.min(x,e.to),c),!(e.to>=b||!e.nextSibling())););if(!y||b>r)break;m=y.to+a,m>t&&(this.highlightRange(h.cursor(),Math.max(t,y.from+a),Math.min(r,m),"",p),this.startSpan(Math.min(r,m),c))}g&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function j7(n){let e=n.type.prop(hS);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Ne=ui.define,nd=Ne(),ds=Ne(),ib=Ne(ds),ob=Ne(ds),fs=Ne(),rd=Ne(fs),xp=Ne(fs),ro=Ne(),Ys=Ne(ro),to=Ne(),no=Ne(),eg=Ne(),ec=Ne(eg),id=Ne(),Ae={comment:nd,lineComment:Ne(nd),blockComment:Ne(nd),docComment:Ne(nd),name:ds,variableName:Ne(ds),typeName:ib,tagName:Ne(ib),propertyName:ob,attributeName:Ne(ob),className:Ne(ds),labelName:Ne(ds),namespace:Ne(ds),macroName:Ne(ds),literal:fs,string:rd,docString:Ne(rd),character:Ne(rd),attributeValue:Ne(rd),number:xp,integer:Ne(xp),float:Ne(xp),bool:Ne(fs),regexp:Ne(fs),escape:Ne(fs),color:Ne(fs),url:Ne(fs),keyword:to,self:Ne(to),null:Ne(to),atom:Ne(to),unit:Ne(to),modifier:Ne(to),operatorKeyword:Ne(to),controlKeyword:Ne(to),definitionKeyword:Ne(to),moduleKeyword:Ne(to),operator:no,derefOperator:Ne(no),arithmeticOperator:Ne(no),logicOperator:Ne(no),bitwiseOperator:Ne(no),compareOperator:Ne(no),updateOperator:Ne(no),definitionOperator:Ne(no),typeOperator:Ne(no),controlOperator:Ne(no),punctuation:eg,separator:Ne(eg),bracket:ec,angleBracket:Ne(ec),squareBracket:Ne(ec),paren:Ne(ec),brace:Ne(ec),content:ro,heading:Ys,heading1:Ne(Ys),heading2:Ne(Ys),heading3:Ne(Ys),heading4:Ne(Ys),heading5:Ne(Ys),heading6:Ne(Ys),contentSeparator:Ne(ro),list:Ne(ro),quote:Ne(ro),emphasis:Ne(ro),strong:Ne(ro),link:Ne(ro),monospace:Ne(ro),strikethrough:Ne(ro),inserted:Ne(),deleted:Ne(),changed:Ne(),invalid:Ne(),meta:id,documentMeta:Ne(id),annotation:Ne(id),processingInstruction:Ne(id),definition:ui.defineModifier("definition"),constant:ui.defineModifier("constant"),function:ui.defineModifier("function"),standard:ui.defineModifier("standard"),local:ui.defineModifier("local"),special:ui.defineModifier("special")};for(let n in Ae){let e=Ae[n];e instanceof ui&&(e.name=n)}pS([{tag:Ae.link,class:"tok-link"},{tag:Ae.heading,class:"tok-heading"},{tag:Ae.emphasis,class:"tok-emphasis"},{tag:Ae.strong,class:"tok-strong"},{tag:Ae.keyword,class:"tok-keyword"},{tag:Ae.atom,class:"tok-atom"},{tag:Ae.bool,class:"tok-bool"},{tag:Ae.url,class:"tok-url"},{tag:Ae.labelName,class:"tok-labelName"},{tag:Ae.inserted,class:"tok-inserted"},{tag:Ae.deleted,class:"tok-deleted"},{tag:Ae.literal,class:"tok-literal"},{tag:Ae.string,class:"tok-string"},{tag:Ae.number,class:"tok-number"},{tag:[Ae.regexp,Ae.escape,Ae.special(Ae.string)],class:"tok-string2"},{tag:Ae.variableName,class:"tok-variableName"},{tag:Ae.local(Ae.variableName),class:"tok-variableName tok-local"},{tag:Ae.definition(Ae.variableName),class:"tok-variableName tok-definition"},{tag:Ae.special(Ae.variableName),class:"tok-variableName2"},{tag:Ae.definition(Ae.propertyName),class:"tok-propertyName tok-definition"},{tag:Ae.typeName,class:"tok-typeName"},{tag:Ae.namespace,class:"tok-namespace"},{tag:Ae.className,class:"tok-className"},{tag:Ae.macroName,class:"tok-macroName"},{tag:Ae.propertyName,class:"tok-propertyName"},{tag:Ae.operator,class:"tok-operator"},{tag:Ae.comment,class:"tok-comment"},{tag:Ae.meta,class:"tok-meta"},{tag:Ae.invalid,class:"tok-invalid"},{tag:Ae.punctuation,class:"tok-punctuation"}]);var wp;const Qa=new Rt;function $7(n){return qe.define({combine:n?e=>e.concat(n):void 0})}const k7=new Rt;class Ri{constructor(e,t,r=[],i=""){this.data=e,this.name=i,zt.prototype.hasOwnProperty("tree")||Object.defineProperty(zt.prototype,"tree",{get(){return jr(this)}}),this.parser=t,this.extension=[Ds.of(this),zt.languageData.of((o,s,a)=>{let l=sb(o,s,a),c=l.type.prop(Qa);if(!c)return[];let u=o.facet(c),d=l.type.prop(k7);if(d){let f=l.resolve(s-l.from,a);for(let h of d)if(h.test(f,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return sb(e,t,r).type.prop(Qa)==this.data}findRegions(e){let t=e.facet(Ds);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Qa)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(Rt.mounted);if(a){if(a.tree.prop(Qa)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Vn&&i(c,o.positions[l]+s)}};return i(jr(e),0),r}get allowsNesting(){return!0}}Ri.setState=St.define();function sb(n,e,t){let r=n.facet(Ds),i=jr(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,nr.ExcludeBuffers))o.type.isTop&&(i=o);return i}class vf extends Ri{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=$7(e.languageData);return new vf(t,e.parser.configure({props:[Qa.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new vf(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function jr(n){let e=n.field(Ri.state,!1);return e?e.tree:Vn.empty}class C7{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let tc=null;class yf{constructor(e,t,r=[],i,o,s,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new yf(e,t,[],Vn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new C7(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Vn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ca.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ca.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=tc;tc=this;try{return e()}finally{tc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ab(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=ca.applyChanges(r,l),i=Vn.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new yf(this.parser,t,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=ab(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends dS{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=tc;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Vn(qr.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return tc}}function ab(n,e,t){return ca.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class wl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new wl(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=yf.create(e.facet(Ds).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new wl(r)}}Ri.state=Xn.define({create:wl.init,update(n,e){for(let t of e.effects)if(t.is(Ri.setState))return t.value;return e.startState.facet(Ds)!=e.state.facet(Ds)?wl.init(e.state):n.apply(e)}});let mS=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(mS=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const jp=typeof navigator<"u"&&(!((wp=navigator.scheduling)===null||wp===void 0)&&wp.isInputPending)?()=>navigator.scheduling.isInputPending():null,S7=Mn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ri.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ri.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=mS(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Ri.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!jp?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>jp&&jp()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Ri.setState.of(new wl(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ar(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ds=qe.define({combine(n){return n.length?n[0]:null},enables:n=>[Ri.state,S7,Ie.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class O7{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const E7=qe.define(),yh=qe.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Is(n){let e=n.facet(yh);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Wc(n,e){let t="",r=n.tabSize,i=n.facet(yh)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function A0(n,e){n instanceof zt&&(n=new bh(n));for(let r of n.state.facet(E7)){let i=r(n,e);if(i!==void 0)return i}let t=jr(n.state);return t.length>=e?A7(n,t,e):null}class bh{constructor(e,t={}){this.state=e,this.options=t,this.unit=Is(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Il(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const gS=new Rt;function A7(n,e,t){let r=e.resolveStack(t),i=r.node.enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let s=i;s!=r.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return vS(r,n,t)}function vS(n,e,t){for(let r=n;r;r=r.next){let i=P7(r.node);if(i)return i(M0.create(e,t,r))}return 0}function M7(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function P7(n){let e=n.type.prop(gS);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Rt.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>N7(s,!0,1,void 0,o&&!M7(s)?i.from:void 0)}return n.parent==null?_7:null}function _7(){return 0}class M0 extends bh{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new M0(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(T7(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return vS(this.context.next,this.base,this.pos)}}function T7(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function R7(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let c=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function N7(n,e,t,r,i){let o=n.textAfter,s=o.match(/^\s*/)[0].length,a=i==n.pos+s,l=R7(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}function lb({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const D7=200;function I7(){return zt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+D7)return n;let o=t.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return n;let{state:s}=n,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=A0(s,u.from);if(d==null)continue;let f=/^\s*/.exec(u.text)[0],h=Wc(s,d);f!=h&&l.push({from:u.from,to:u.from+f.length,insert:h})}return l.length?[n,{changes:l,sequential:!0}]:n})}const z7=qe.define(),yS=new Rt;function L7(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function B7(n,e,t){let r=jr(n);if(r.length<t)return null;let i=r.resolveStack(t,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=t||a.from>t)continue;if(o&&a.from<e)break;let l=a.type.prop(yS);if(l&&(a.to<r.length-50||r.length==n.doc.length||!q7(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(o=c)}}return o}function q7(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function bf(n,e,t){for(let r of n.facet(z7)){let i=r(n,e,t);if(i)return i}return B7(n,e,t)}function bS(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const xh=St.define({map:bS}),gu=St.define({map:bS});function xS(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const va=Xn.define({create(){return lt.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(xh)&&!F7(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet($S),i=r?lt.replace({widget:new J7(r(e.state,t.value))}):cb;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(gu)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>Ie.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(cb.range(r,i))}return lt.set(e,!0)}});function xf(n,e,t){var r;let i=null;return(r=n.field(va,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function F7(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function wS(n,e){return n.field(va,!1)?e:e.concat(St.appendConfig.of(kS()))}const V7=n=>{for(let e of xS(n)){let t=bf(n.state,e.from,e.to);if(t)return n.dispatch({effects:wS(n.state,[xh.of(t),jS(n,t)])}),!0}return!1},U7=n=>{if(!n.state.field(va,!1))return!1;let e=[];for(let t of xS(n)){let r=xf(n.state,t.from,t.to);r&&e.push(gu.of(r),jS(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function jS(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return Ie.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const H7=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=bf(e,i.from,i.to);o&&t.push(xh.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:wS(n.state,t)}),!!t.length},W7=n=>{let e=n.state.field(va,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(gu.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},K7=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:V7},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:U7},{key:"Ctrl-Alt-[",run:H7},{key:"Ctrl-Alt-]",run:W7}],G7={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},$S=qe.define({combine(n){return $i(n,G7)}});function kS(n){return[va,X7]}function CS(n,e){let{state:t}=n,r=t.facet($S),i=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),l=xf(n.state,a.from,a.to);l&&n.dispatch({effects:gu.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const cb=lt.replace({widget:new class extends Vs{toDOM(n){return CS(n,null)}}});class J7 extends Vs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return CS(e,this.value)}}const Q7={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class $p extends bo{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Y7(n={}){let e=Object.assign(Object.assign({},Q7),n),t=new $p(e,!0),r=new $p(e,!1),i=Mn.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Ds)!=s.state.facet(Ds)||s.startState.field(va,!1)!=s.state.field(va,!1)||jr(s.startState)!=jr(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new vo;for(let l of s.viewportLineBlocks){let c=xf(s.state,l.from,l.to)?r:bf(s.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=e;return[i,iS({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Vt.empty},initialSpacer(){return new $p(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=xf(s.state,a.from,a.to);if(c)return s.dispatch({effects:gu.of(c)}),!0;let u=bf(s.state,a.from,a.to);return u?(s.dispatch({effects:xh.of(u)}),!0):!1}})}),kS()]}const X7=Ie.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class vu{constructor(e,t){this.specs=e;let r;function i(a){let l=_s.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof Ri?a=>a.prop(Qa)==s.data:s?a=>a==s:void 0,this.style=pS(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new _s(r):null,this.themeType=t.themeType}static define(e,t){return new vu(e,t||{})}}const tg=qe.define(),SS=qe.define({combine(n){return n.length?[n[0]]:null}});function kp(n){let e=n.facet(tg);return e.length?e:n.facet(SS)}function OS(n,e){let t=[eP],r;return n instanceof vu&&(n.module&&t.push(Ie.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(SS.of(n)):r?t.push(tg.computeN([Ie.darkTheme],i=>i.facet(Ie.darkTheme)==(r=="dark")?[n]:[])):t.push(tg.of(n)),t}class Z7{constructor(e){this.markCache=Object.create(null),this.tree=jr(e.state),this.decorations=this.buildDeco(e,kp(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=jr(e.state),r=kp(e.state),i=r!=kp(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return lt.none;let r=new vo;for(let{from:i,to:o}of e.visibleRanges)x7(this.tree,t,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=lt.mark({class:l})))},i,o);return r.finish()}}const eP=Ca.high(Mn.fromClass(Z7,{decorations:n=>n.decorations})),tP=vu.define([{tag:Ae.meta,color:"#404740"},{tag:Ae.link,textDecoration:"underline"},{tag:Ae.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ae.emphasis,fontStyle:"italic"},{tag:Ae.strong,fontWeight:"bold"},{tag:Ae.strikethrough,textDecoration:"line-through"},{tag:Ae.keyword,color:"#708"},{tag:[Ae.atom,Ae.bool,Ae.url,Ae.contentSeparator,Ae.labelName],color:"#219"},{tag:[Ae.literal,Ae.inserted],color:"#164"},{tag:[Ae.string,Ae.deleted],color:"#a11"},{tag:[Ae.regexp,Ae.escape,Ae.special(Ae.string)],color:"#e40"},{tag:Ae.definition(Ae.variableName),color:"#00f"},{tag:Ae.local(Ae.variableName),color:"#30a"},{tag:[Ae.typeName,Ae.namespace],color:"#085"},{tag:Ae.className,color:"#167"},{tag:[Ae.special(Ae.variableName),Ae.macroName],color:"#256"},{tag:Ae.definition(Ae.propertyName),color:"#00c"},{tag:Ae.comment,color:"#940"},{tag:Ae.invalid,color:"#f00"}]),nP=Ie.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ES=1e4,AS="()[]{}",MS=qe.define({combine(n){return $i(n,{afterCursor:!0,brackets:AS,maxScanDistance:ES,renderMatch:oP})}}),rP=lt.mark({class:"cm-matchingBracket"}),iP=lt.mark({class:"cm-nonmatchingBracket"});function oP(n){let e=[],t=n.matched?rP:iP;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const sP=Xn.define({create(){return lt.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(MS);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=co(e.state,i.head,-1,r)||i.head>0&&co(e.state,i.head-1,1,r)||r.afterCursor&&(co(e.state,i.head,1,r)||i.head<e.state.doc.length&&co(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return lt.set(t,!0)},provide:n=>Ie.decorations.from(n)}),aP=[sP,nP];function lP(n={}){return[MS.of(n),aP]}const cP=new Rt;function ng(n,e,t){let r=n.prop(e<0?Rt.openedBy:Rt.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function rg(n){let e=n.type.prop(cP);return e?e(n.node):n}function co(n,e,t,r={}){let i=r.maxScanDistance||ES,o=r.brackets||AS,s=jr(n),a=s.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=ng(l.type,t,o);if(c&&l.from<l.to){let u=rg(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return uP(n,e,t,l,u,c,o)}}return dP(n,e,t,s,a.type,i,o)}function uP(n,e,t,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let d=rg(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(ng(u.type,t,s))c++;else if(ng(u.type,-t,s)){if(c==0){let d=rg(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function dP(n,e,t,r,i,o,s){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let f=0;!u.next().done&&f<=o;){let h=u.value;t<0&&(f+=h.length);let p=e+f*t;for(let g=t>0?0:h.length-1,v=t>0?h.length:-1;g!=v;g+=t){let m=s.indexOf(h[g]);if(!(m<0||r.resolveInner(p+g,1).type!=i))if(m%2==0==t>0)d++;else{if(d==1)return{start:c,end:{from:p+g,to:p+g+1},matched:m>>1==l>>1};d--}}t>0&&(f+=h.length)}return u.done?{start:c,matched:!1}:null}const fP=Object.create(null),ub=[qr.none],db=[],fb=Object.create(null),hP=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])hP[n]=pP(fP,e);function Cp(n,e){db.indexOf(n)>-1||(db.push(n),console.warn(e))}function pP(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||Ae[c];u?typeof u=="function"?l.length?l=l.map(u):Cp(c,`Modifier ${c} used at start of tag`):l.length?Cp(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Cp(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),o=fb[i];if(o)return o.id;let s=fb[i]=qr.define({id:ub.length,name:r,props:[fS({[r]:t})]});return ub.push(s),s.id}gn.RTL,gn.LTR;const mP=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=_0(n.state,t.from);return r.line?gP(n):r.block?yP(n):!1};function P0(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const gP=P0(wP,0),vP=P0(PS,0),yP=P0((n,e)=>PS(n,e,xP(e)),0);function _0(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const nc=50;function bP(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-nc,r),s=n.sliceDoc(i,i+nc),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,d;i-r<=2*nc?u=d=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+nc),d=n.sliceDoc(i-nc,i));let f=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(d)[0].length,p=d.length-h-t.length;return u.slice(f,f+e.length)==e&&d.slice(p,p+t.length)==t?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-h-t.length,margin:/\s/.test(d.charAt(p-1))?1:0}}:null}function xP(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function PS(n,e,t=e.selection.ranges){let r=t.map(o=>_0(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>bP(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function wP(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let a=r.length,l=1e9,c=_0(e,o).line;if(c){for(let u=o;u<=s;){let d=e.doc.lineAt(u);if(d.from>i&&(o==s||s>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,h=f==d.length,p=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:p,token:c,indent:f,empty:h,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const ig=es.define(),jP=es.define(),$P=qe.define(),_S=qe.define({combine(n){return $i(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),T0=Xn.define({create(){return uo.empty},update(n,e){let t=e.state.facet(_S),r=e.annotation(ig);if(r){let l=Br.fromTransaction(e,r.selection),c=r.side,u=c==0?n.undone:n.done;return l?u=jf(u,u.length,t.minDepth,l):u=NS(u,e.startState.selection),new uo(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(jP);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Jn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=Br.fromTransaction(e),s=e.annotation(Jn.time),a=e.annotation(Jn.userEvent);return o?n=n.addChanges(o,s,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new uo(n.done.map(Br.fromJSON),n.undone.map(Br.fromJSON))}});function kP(n={}){return[T0,_S.of(n),Ie.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?R0:e.inputType=="historyRedo"?wf:null;return r?(e.preventDefault(),r(t)):!1}})]}function wh(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(T0,!1);if(!i)return!1;let o=i.pop(n,t,e);return o?(r(o),!0):!1}}const R0=wh(0,!1),wf=wh(1,!1),CP=wh(0,!0),SP=wh(1,!0);function TS(n){return function(e){let t=e.field(T0,!1);if(!t)return 0;let r=n==0?t.done:t.undone;return r.length-(r.length&&!r[0].changes?1:0)}}const OP=TS(0),EP=TS(1);class Br{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new Br(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Br(e.changes&&Kn.fromJSON(e.changes),[],e.mapped&&go.fromJSON(e.mapped),e.startSelection&&je.fromJSON(e.startSelection),e.selectionsAfter.map(je.fromJSON))}static fromTransaction(e,t){let r=mi;for(let i of e.startState.facet($P)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new Br(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,mi)}static selection(e){return new Br(void 0,mi,void 0,void 0,e)}}function jf(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function AP(n,e){let t=[],r=!1;return n.iterChangedRanges((i,o)=>t.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&s<=u&&(r=!0)}}),r}function MP(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function RS(n,e){return n.length?e.length?n.concat(e):n:e}const mi=[],PP=200;function NS(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-PP));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),jf(n,n.length-1,1e9,t.setSelAfter(r)))}else return[Br.selection([e])]}function _P(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Sp(n,e){if(!n.length)return n;let t=n.length,r=mi;for(;t;){let i=TP(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[Br.selection(r)]:mi}function TP(n,e,t){let r=RS(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):mi,t);if(!n.changes)return Br.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new Br(i,St.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}const RP=/^(input\.type|delete)($|\.)/;class uo{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new uo(this.done,this.undone):this}addChanges(e,t,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||RP.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,AP(a.changes,e.changes))||r=="input.type.compose")?s=jf(s,s.length-1,i.minDepth,new Br(e.changes.compose(a.changes),RS(St.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,mi)):s=jf(s,s.length,i.minDepth,e),new uo(s,mi,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:mi;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&MP(o[o.length-1],e)?this:new uo(NS(this.done,e),this.undone,t,r)}addMapping(e){return new uo(Sp(this.done,e),Sp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||t.selection;if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:ig.of({side:e,rest:_P(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?mi:i.slice(0,i.length-1);return o.mapped&&(a=Sp(a,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:ig.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}uo.empty=new uo(mi,mi);const NP=[{key:"Mod-z",run:R0,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wf,preventDefault:!0},{linux:"Ctrl-Shift-z",run:wf,preventDefault:!0},{key:"Mod-u",run:CP,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:SP,preventDefault:!0}];function zl(n,e){return je.create(n.ranges.map(e),n.mainIndex)}function So(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ki({state:n,dispatch:e},t){let r=zl(n.selection,t);return r.eq(n.selection,!0)?!1:(e(So(n,r)),!0)}function jh(n,e){return je.cursor(e?n.to:n.from)}function DS(n,e){return Ki(n,t=>t.empty?n.moveByChar(t,e):jh(t,e))}function kr(n){return n.textDirectionAt(n.state.selection.main.head)==gn.LTR}const IS=n=>DS(n,!kr(n)),zS=n=>DS(n,kr(n));function LS(n,e){return Ki(n,t=>t.empty?n.moveByGroup(t,e):jh(t,e))}const DP=n=>LS(n,!kr(n)),IP=n=>LS(n,kr(n));function zP(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function $h(n,e,t){let r=jr(n).resolveInner(e.head),i=t?Rt.closedBy:Rt.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;zP(n,c,i)?r=c:l=t?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=t?co(n,r.from,1):co(n,r.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?r.to:r.from,je.cursor(a,t?-1:1)}const LP=n=>Ki(n,e=>$h(n.state,e,!kr(n))),BP=n=>Ki(n,e=>$h(n.state,e,kr(n)));function BS(n,e){return Ki(n,t=>{if(!t.empty)return jh(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const qS=n=>BS(n,!1),FS=n=>BS(n,!0);function VS(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(Ie.scrollMargins)){let s=o(n);s!=null&&s.top&&(t=Math.max(s==null?void 0:s.top,t)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function US(n,e){let t=VS(n),{state:r}=n,i=zl(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):jh(s,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;s&&s.top>l&&s.bottom<c&&(o=Ie.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return n.dispatch(So(r,i),{effects:o}),!0}const hb=n=>US(n,!1),og=n=>US(n,!0);function Us(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=je.cursor(r.from+o))}return i}const qP=n=>Ki(n,e=>Us(n,e,!0)),FP=n=>Ki(n,e=>Us(n,e,!1)),VP=n=>Ki(n,e=>Us(n,e,!kr(n))),UP=n=>Ki(n,e=>Us(n,e,kr(n))),HP=n=>Ki(n,e=>je.cursor(n.lineBlockAt(e.head).from,1)),WP=n=>Ki(n,e=>je.cursor(n.lineBlockAt(e.head).to,-1));function KP(n,e,t){let r=!1,i=zl(n.selection,o=>{let s=co(n,o.head,-1)||co(n,o.head,1)||o.head>0&&co(n,o.head-1,1)||o.head<n.doc.length&&co(n,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return je.cursor(a)});return r?(e(So(n,i)),!0):!1}const GP=({state:n,dispatch:e})=>KP(n,e);function ki(n,e){let t=zl(n.state.selection,r=>{let i=e(r);return je.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(So(n.state,t)),!0)}function HS(n,e){return ki(n,t=>n.moveByChar(t,e))}const WS=n=>HS(n,!kr(n)),KS=n=>HS(n,kr(n));function GS(n,e){return ki(n,t=>n.moveByGroup(t,e))}const JP=n=>GS(n,!kr(n)),QP=n=>GS(n,kr(n)),YP=n=>ki(n,e=>$h(n.state,e,!kr(n))),XP=n=>ki(n,e=>$h(n.state,e,kr(n)));function JS(n,e){return ki(n,t=>n.moveVertically(t,e))}const QS=n=>JS(n,!1),YS=n=>JS(n,!0);function XS(n,e){return ki(n,t=>n.moveVertically(t,e,VS(n).height))}const pb=n=>XS(n,!1),mb=n=>XS(n,!0),ZP=n=>ki(n,e=>Us(n,e,!0)),e_=n=>ki(n,e=>Us(n,e,!1)),t_=n=>ki(n,e=>Us(n,e,!kr(n))),n_=n=>ki(n,e=>Us(n,e,kr(n))),r_=n=>ki(n,e=>je.cursor(n.lineBlockAt(e.head).from)),i_=n=>ki(n,e=>je.cursor(n.lineBlockAt(e.head).to)),gb=({state:n,dispatch:e})=>(e(So(n,{anchor:0})),!0),vb=({state:n,dispatch:e})=>(e(So(n,{anchor:n.doc.length})),!0),yb=({state:n,dispatch:e})=>(e(So(n,{anchor:n.selection.main.anchor,head:0})),!0),bb=({state:n,dispatch:e})=>(e(So(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),o_=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),s_=({state:n,dispatch:e})=>{let t=kh(n).map(({from:r,to:i})=>je.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:je.create(t),userEvent:"select"})),!0},a_=({state:n,dispatch:e})=>{let t=zl(n.selection,r=>{let i=jr(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return je.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(So(n,t)),!0)},l_=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=je.create([t.main]):t.main.empty||(r=je.create([je.cursor(t.main.head)])),r?(e(So(n,r)),!0):!1};function yu(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(t="delete.backward",l=od(n,l,!1)):l>s&&(t="delete.forward",l=od(n,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=od(n,s,!1),a=od(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:je.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Ie.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function od(n,e,t){if(n instanceof Ie)for(let r of n.state.facet(Ie.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const ZS=(n,e,t)=>yu(n,r=>{let i=r.from,{state:o}=n,s=o.doc.lineAt(i),a,l;if(t&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let c=Il(a,o.tabSize),u=c%Is(o)||Is(o);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)i--;l=i}else l=mr(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=mr(s.text,l-s.from,!1,!1)+s.from);return l}),sg=n=>ZS(n,!1,!0),e4=n=>ZS(n,!0,!1),t4=(n,e)=>yu(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=mr(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=t.head)&&(a=u),r=l}return r}),n4=n=>t4(n,!1),c_=n=>t4(n,!0),u_=n=>yu(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),d_=n=>yu(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),f_=n=>yu(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),h_=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Qt.of(["",""])},range:je.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},p_=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:mr(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:mr(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(s,i))},range:je.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function kh(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function r4(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of kh(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let l of o.ranges)i.push(je.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let l of o.ranges)i.push(je.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:je.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const m_=({state:n,dispatch:e})=>r4(n,e,!1),g_=({state:n,dispatch:e})=>r4(n,e,!0);function i4(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of kh(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const v_=({state:n,dispatch:e})=>i4(n,e,!1),y_=({state:n,dispatch:e})=>i4(n,e,!0),b_=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(kh(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=zl(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function x_(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=jr(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Rt.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const xb=o4(!1),w_=o4(!0);function o4(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!n&&o==s&&x_(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new bh(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=A0(c,o);for(u==null&&(u=Il(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let d=["",Wc(e,u)];return l&&d.push(Wc(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Qt.of(d)},range:je.cursor(o+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function N0(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=n.doc.lineAt(s);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),s=a.to+1}let o=n.changes(i);return{changes:i,range:je.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const j_=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new bh(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=N0(n,(o,s,a)=>{let l=A0(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=Wc(n,l);(c!=u||a.from<o.from+c.length)&&(t[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},s4=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(N0(n,(t,r)=>{r.push({from:t.from,insert:n.facet(yh)})}),{userEvent:"input.indent"})),!0),a4=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(N0(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=Il(i,n.tabSize),s=0,a=Wc(n,Math.max(0,o-Is(n)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),$_=n=>(n.setTabFocusMode(),!0),k_=[{key:"Ctrl-b",run:IS,shift:WS,preventDefault:!0},{key:"Ctrl-f",run:zS,shift:KS},{key:"Ctrl-p",run:qS,shift:QS},{key:"Ctrl-n",run:FS,shift:YS},{key:"Ctrl-a",run:HP,shift:r_},{key:"Ctrl-e",run:WP,shift:i_},{key:"Ctrl-d",run:e4},{key:"Ctrl-h",run:sg},{key:"Ctrl-k",run:u_},{key:"Ctrl-Alt-h",run:n4},{key:"Ctrl-o",run:h_},{key:"Ctrl-t",run:p_},{key:"Ctrl-v",run:og}],C_=[{key:"ArrowLeft",run:IS,shift:WS,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:DP,shift:JP,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:VP,shift:t_,preventDefault:!0},{key:"ArrowRight",run:zS,shift:KS,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:IP,shift:QP,preventDefault:!0},{mac:"Cmd-ArrowRight",run:UP,shift:n_,preventDefault:!0},{key:"ArrowUp",run:qS,shift:QS,preventDefault:!0},{mac:"Cmd-ArrowUp",run:gb,shift:yb},{mac:"Ctrl-ArrowUp",run:hb,shift:pb},{key:"ArrowDown",run:FS,shift:YS,preventDefault:!0},{mac:"Cmd-ArrowDown",run:vb,shift:bb},{mac:"Ctrl-ArrowDown",run:og,shift:mb},{key:"PageUp",run:hb,shift:pb},{key:"PageDown",run:og,shift:mb},{key:"Home",run:FP,shift:e_,preventDefault:!0},{key:"Mod-Home",run:gb,shift:yb},{key:"End",run:qP,shift:ZP,preventDefault:!0},{key:"Mod-End",run:vb,shift:bb},{key:"Enter",run:xb,shift:xb},{key:"Mod-a",run:o_},{key:"Backspace",run:sg,shift:sg},{key:"Delete",run:e4},{key:"Mod-Backspace",mac:"Alt-Backspace",run:n4},{key:"Mod-Delete",mac:"Alt-Delete",run:c_},{mac:"Mod-Backspace",run:d_},{mac:"Mod-Delete",run:f_}].concat(k_.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),S_=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:LP,shift:YP},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:BP,shift:XP},{key:"Alt-ArrowUp",run:m_},{key:"Shift-Alt-ArrowUp",run:v_},{key:"Alt-ArrowDown",run:g_},{key:"Shift-Alt-ArrowDown",run:y_},{key:"Escape",run:l_},{key:"Mod-Enter",run:w_},{key:"Alt-l",mac:"Ctrl-l",run:s_},{key:"Mod-i",run:a_,preventDefault:!0},{key:"Mod-[",run:a4},{key:"Mod-]",run:s4},{key:"Mod-Alt-\\",run:j_},{key:"Shift-Mod-k",run:b_},{key:"Shift-Mod-\\",run:GP},{key:"Mod-/",run:mP},{key:"Alt-A",run:vP},{key:"Ctrl-m",mac:"Shift-Alt-m",run:$_}].concat(C_),O_={key:"Tab",run:s4,shift:a4};function fn(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)l4(n,arguments[e]);return n}function l4(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)l4(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}class E_{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class ea{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(fo).markerFilter;o&&(i=o(i,r));let s=lt.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?lt.widget({widget:new z_(a),diagnostic:a}).range(a.from):lt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new ea(s,t,jl(s))}}function jl(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return r=new E_(i,o,s.diagnostic),!1}),r}function c4(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(fo).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(Ch))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function u4(n,e){return n.field(ti,!1)?e:e.concat(St.appendConfig.of(v4))}function A_(n,e){return{effects:u4(n,[Ch.of(e)])}}const Ch=St.define(),D0=St.define(),d4=St.define(),ti=Xn.define({create(){return new ea(lt.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=jl(t,n.selected.diagnostic,o)||jl(t,null,o)}!t.size&&i&&e.state.facet(fo).autoPanel&&(i=null),n=new ea(t,i,r)}for(let t of e.effects)if(t.is(Ch)){let r=e.state.facet(fo).autoPanel?t.value.length?Kc.open:null:n.panel;n=ea.init(t.value,r,e.state)}else t.is(D0)?n=new ea(n.diagnostics,t.value?Kc.open:null,n.selected):t.is(d4)&&(n=new ea(n.diagnostics,n.panel,t.value));return n},provide:n=>[Uc.from(n,e=>e.panel),Ie.decorations.from(n,e=>e.diagnostics)]}),M_=lt.mark({class:"cm-lintRange cm-lintRange-active"});function P_(n,e,t){let{diagnostics:r}=n.state.field(ti),i=[],o=2e8,s=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0))&&(i.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=n.state.facet(fo).tooltipFilter;return a&&(i=a(i,n.state)),i.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:f4(n,i)}}}:null}function f4(n,e){return fn("ul",{class:"cm-tooltip-lint"},e.map(t=>p4(n,t,!1)))}const __=n=>{let e=n.state.field(ti,!1);(!e||!e.panel)&&n.dispatch({effects:u4(n.state,[D0.of(!0)])});let t=Vc(n,Kc.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},wb=n=>{let e=n.state.field(ti,!1);return!e||!e.panel?!1:(n.dispatch({effects:D0.of(!1)}),!0)},T_=n=>{let e=n.state.field(ti,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},R_=[{key:"Mod-Shift-m",run:__,preventDefault:!0},{key:"F8",run:T_}],N_=Mn.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(fo);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(fo);t.length&&D_(t.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(A_(this.view.state,r.reduce((i,o)=>i.concat(o))))},r=>{Ar(this.view.state,r)})}}update(n){let e=n.state.facet(fo);(n.docChanged||e!=n.startState.facet(fo)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function D_(n,e,t){let r=[],i=-1;for(let o of n)o.then(s=>{r.push(s),clearTimeout(i),r.length==n.length?e(r):setTimeout(()=>e(r),200)},t)}const fo=qe.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},$i(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function I_(n,e={}){return[fo.of({source:n,config:e}),N_,v4]}function h4(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function p4(n,e,t){var r;let i=t?h4(e.actions):[];return fn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},fn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let h=jl(n.state.field(ti).diagnostics,e);h&&o.apply(n,h.from,h.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,d=u<0?c:[c.slice(0,u),fn("u",c.slice(u,u+1)),c.slice(u+1)];return fn("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},d)}),e.source&&fn("div",{class:"cm-diagnosticSource"},e.source))}class z_ extends Vs{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return fn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class jb{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=p4(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Kc{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)wb(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=h4(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=jl(this.view.state.field(ti).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=fn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=fn("div",{class:"cm-panel-lint"},this.list,fn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>wb(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ti).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ti),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,u;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==l.diagnostic){c=d;break}c<0?(u=new jb(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new jb(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ti),r=jl(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:d4.of(r)})}static open(e){return new Kc(e)}}function Fd(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function sd(n){return Fd(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const L_=Ie.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:sd("#d11")},".cm-lintRange-warning":{backgroundImage:sd("orange")},".cm-lintRange-info":{backgroundImage:sd("#999")},".cm-lintRange-hint":{backgroundImage:sd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function $b(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}class m4 extends bo{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((t,r)=>$b(t)<$b(r.severity)?r.severity:t,"hint")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let r=this.diagnostics,i=e.state.facet(Sh).tooltipFilter;return i&&(r=i(r,e.state)),r.length&&(t.onmouseover=()=>q_(e,t,r)),t}}function B_(n,e){let t=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let o=r.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(g4)&&n.dispatch({effects:I0.of(null)})}};window.addEventListener("mousemove",t)}function q_(n,e,t){function r(){let s=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(s.from)&&n.dispatch({effects:I0.of({pos:s.from,above:!1,create(){return{dom:f4(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,B_(n,e)}let{hoverTime:i}=n.state.facet(Sh),o=setTimeout(r,i);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(r,i)}}function F_(n,e){let t=Object.create(null);for(let i of e){let o=n.lineAt(i.from);(t[o.from]||(t[o.from]=[])).push(i)}let r=[];for(let i in t)r.push(new m4(t[i]).range(+i));return Vt.of(r,!0)}const V_=iS({class:"cm-gutter-lint",markers:n=>n.state.field(ag),widgetMarker:(n,e,t)=>{let r=[];return n.state.field(ag).between(t.from,t.to,(i,o,s)=>{r.push(...s.diagnostics)}),r.length?new m4(r):null}}),ag=Xn.define({create(){return Vt.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(Sh).markerFilter;for(let r of e.effects)if(r.is(Ch)){let i=r.value;t&&(i=t(i||[],e.state)),n=F_(e.state.doc,i.slice(0))}return n}}),I0=St.define(),g4=Xn.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=c4(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,r)=>r.is(I0)?r.value:t,n)},provide:n=>gh.from(n)}),U_=Ie.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Fd('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Fd('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Fd('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),v4=[ti,Ie.decorations.compute([ti],n=>{let{selected:e,panel:t}=n.field(ti);return!e||!t||e.from==e.to?lt.none:lt.set([M_.range(e.from,e.to)])}),G9(P_,{hideOn:c4}),L_],Sh=qe.define({combine(n){return $i(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function H_(n={}){return[Sh.of(n),ag,V_,U_,g4]}var kb={};class $f{constructor(e,t,r,i,o,s,a,l,c,u=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new $f(e,[],t,r,r,0,[],0,i?new Cb(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(i<o.minRepeatTerm||e&131072){let h=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,h,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let h=this.stack[l-3];this.state=o.getGoto(h,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,t,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(t==r)return;if(s.buffer[a-2]>=t){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,t,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let l=s;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let o=e,{parser:s}=this.p;(i>this.pos||t<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new $f(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new W_(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<t.length;o+=2)(s=t[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(t[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let s=t[o+1];i.some((a,l)=>l&1&&a==s)||i.push(t[o],s)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;t=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,o)=>{if(!t.includes(i))return t.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Cb(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Cb{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class W_{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class kf{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new kf(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new kf(this.stack,this.pos,this.index)}}function ad(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let s=n.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class Vd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Sb=new Vd;class K_{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Sb,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Sb,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class ll{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;G_(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}ll.prototype.contextual=ll.prototype.fallback=ll.prototype.extend=!1;ll.prototype.fallback=ll.prototype.extend=!1;function G_(n,e,t,r,i,o){let s=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[s];){let c=n[s+1];for(let h=s+3;h<c;h+=2)if((n[h+1]&a)>0){let p=n[h];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||J_(p,e.token.value,i,o))){e.acceptToken(p);break}}let u=e.next,d=0,f=n[s+2];if(e.next<0&&f>d&&n[c+f*3-3]==65535){s=n[c+f*3-1];continue e}for(;d<f;){let h=d+f>>1,p=c+h+(h<<1),g=n[p],v=n[p+1]||65536;if(u<g)f=h;else if(u>=v)d=h+1;else{s=n[p+2],e.advance();continue e}}break}}function Ob(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function J_(n,e,t,r){let i=Ob(t,r,e);return i<0||Ob(t,r,n)<i}const Jr=typeof process<"u"&&kb&&/\bparse\b/.test(kb.LOG);let Op=null;function Eb(n,e,t){let r=n.cursor(nr.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class Q_{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Eb(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Eb(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[t]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof Vn){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(Rt.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[t]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+o.length}}}class Y_{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Vd)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let u=o[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!u.extend&&(r=d,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Vd,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Vd,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=To(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(To(a,c+2),t,r,i));break}a[c]==t&&(i=this.putAction(To(a,c+1),t,r,i))}return i}}class X_{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new K_(t,i),this.tokens=new Y_(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[$f.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new Q_(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],o=[]),i.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!r.length){let s=i&&eT(i);if(s)return Jr&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Jr&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return Jr&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,l)=>l.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let l=s+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,s=Jr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(Rt.contextHash)||0)==u))return e.useNode(d,f),Jr&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof Vn)||d.children.length==0||d.positions[0]>0)break;let h=d.children[0];if(h instanceof Vn&&d.positions[0]==0)d=h;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Jr&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],f=l[c++],h=c==l.length||!r,p=h?e:e.split(),g=this.tokens.mainToken;if(p.apply(u,d,g?g.start:p.pos,f),Jr&&console.log(s+this.stackID(p)+` (via ${u&65536?`reduce of ${o.getName(u&65535)}`:"shift"} for ${o.getName(d)} @ ${i}${p==e?"":", split"})`),h)return!0;p.pos>i?t.push(p):r.push(p)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Ab(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],l=t[s<<1],c=t[(s<<1)+1],u=Jr?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),Jr&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=u;for(let h=0;d.forceReduce()&&h<10&&(Jr&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));h++)Jr&&(f=this.stackID(d)+" -> ");for(let h of a.recoverByInsert(l))Jr&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Jr&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Ab(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Vn.build({buffer:kf.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Op||(Op=new WeakMap)).get(e);return t||Op.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Ab(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Z_{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Cf extends dS{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function o(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Rt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)o(u,l,a[c++]);else{let d=a[c+-u];for(let f=-u;f>0;f--)o(a[c++],l,d);c++}}}this.nodeSet=new C0(t.map((a,l)=>qr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=aS;let s=ad(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Mb),this.states=ad(e.states,Uint32Array),this.data=ad(e.stateData),this.goto=ad(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new ll(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new X_(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let s=i[o++],a=s&1,l=i[o++];if(a&&r)return l;for(let c=o+(s>>1);o<c;o++)if(i[o]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=To(r,o+2)];else{if(r[o+1]==2)return To(r,o+2);break}if(s==t||s==0)return To(r,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=To(this.data,o+2);else break;i=t(To(this.data,o+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=To(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((o,s)=>s&1&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Cf.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=Mb(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(" ")){let s=t.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let s=this.dialects[t[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new Z_(e,r,i)}static deserialize(e){return new Cf(e)}}function To(n,e){return n[e]|n[e+1]<<16}function eT(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Mb(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const tT=fS({String:Ae.string,Number:Ae.number,"True False":Ae.bool,PropertyName:Ae.propertyName,Null:Ae.null,",":Ae.separator,"[ ]":Ae.squareBracket,"{ }":Ae.brace}),nT=Cf.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[tT],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),rT=vf.define({name:"json",parser:nT.configure({props:[gS.add({Object:lb({except:/^\s*\}/}),Array:lb({except:/^\s*\]/})}),yS.add({"Object Array":L7})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function iT(){return new O7(rT)}const Pb=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class $l{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(Pb(a)):Pb,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return dr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=d0(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=di(e);let i=this.normalize(t);for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<t.length&&t.charCodeAt(o)==a&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&($l.prototype[Symbol.iterator]=function(){return this});const y4={from:-1,to:-1,match:/.*/.exec("")},z0="gm"+(/x/.unicode==null?"":"u");class b4{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=y4,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new x4(e,t,r,i,o);this.re=new RegExp(t,z0+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Sf(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Sf(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Ep=new WeakMap;class cl{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=Ep.get(e);if(!i||i.from>=r||i.to<=t){let a=new cl(t,e.sliceString(t,r));return Ep.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),Ep.set(e,new cl(s,o)),new cl(t,o.slice(t-s,r-s))}}class x4{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=y4,this.matchPos=Sf(e,i),this.re=new RegExp(t,z0+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=cl.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Sf(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=cl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(b4.prototype[Symbol.iterator]=x4.prototype[Symbol.iterator]=function(){return this});function oT(n){try{return new RegExp(n,z0),!0}catch{return!1}}function Sf(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function lg(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=fn("input",{class:"cm-textfield",name:"line",value:e}),r=fn("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:Of.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},fn("label",n.state.phrase("Go to line"),": ",t)," ",fn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,d]=o,f=u?+u.slice(1):0,h=c?+c:a.number;if(c&&d){let v=h/100;l&&(v=v*(l=="-"?-1:1)+a.number/s.doc.lines),h=Math.round(s.doc.lines*v)}else c&&l&&(h=h*(l=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,h))),g=je.cursor(p.from+Math.max(0,Math.min(f,p.length)));n.dispatch({effects:[Of.of(!1),Ie.scrollIntoView(g.from,{y:"center"})],selection:g}),n.focus()}return{dom:r}}const Of=St.define(),_b=Xn.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Of)&&(n=t.value);return n},provide:n=>Uc.from(n,e=>e?lg:null)}),sT=n=>{let e=Vc(n,lg);if(!e){let t=[Of.of(!0)];n.state.field(_b,!1)==null&&t.push(St.appendConfig.of([_b,aT])),n.dispatch({effects:t}),e=Vc(n,lg)}return e&&e.dom.querySelector("input").select(),!0},aT=Ie.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),lT={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},cT=qe.define({combine(n){return $i(n,lT,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function uT(n){return[mT,pT]}const dT=lt.mark({class:"cm-selectionMatch"}),fT=lt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Tb(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Sn.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Sn.Word)}function hT(n,e,t,r){return n(e.sliceDoc(t,t+1))==Sn.Word&&n(e.sliceDoc(r-1,r))==Sn.Word}const pT=Mn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(cT),{state:t}=n,r=t.selection;if(r.ranges.length>1)return lt.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return lt.none;let l=t.wordAt(i.head);if(!l)return lt.none;s=t.charCategorizer(i.head),o=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return lt.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),s=t.charCategorizer(i.head),!(Tb(s,t,i.from,i.to)&&hT(s,t,i.from,i.to)))return lt.none}else if(o=t.sliceDoc(i.from,i.to),!o)return lt.none}let a=[];for(let l of n.visibleRanges){let c=new $l(t.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!s||Tb(s,t,u,d))&&(i.empty&&u<=i.from&&d>=i.to?a.push(fT.range(u,d)):(u>=i.to||d<=i.from)&&a.push(dT.range(u,d)),a.length>e.maxMatches))return lt.none}}return lt.set(a)}},{decorations:n=>n.decorations}),mT=Ie.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),gT=({state:n,dispatch:e})=>{let{selection:t}=n,r=je.create(t.ranges.map(i=>n.wordAt(i.head)||je.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function vT(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let s=!1,a=new $l(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new $l(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const yT=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return gT({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=vT(n,r);return i?(e(n.update({selection:n.selection.addRange(je.range(i.from,i.to),!1),effects:Ie.scrollIntoView(i.to)})),!0):!1},Sa=qe.define({combine(n){return $i(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new PT(e),scrollToMatch:e=>Ie.scrollIntoView(e)})}});function bT(n){return n?[Sa.of(n),ug]:ug}class w4{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||oT(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new $T(this):new wT(this)}getCursor(e,t=0,r){let i=e.doc?e:zt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?qa(this,i,t,r):Ba(this,i,t,r)}}class j4{constructor(e){this.spec=e}}function Ba(n,e,t,r){return new $l(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?xT(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function xT(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),(e(Ef(i,t-o))!=Sn.Word||e(Af(i,t-o))!=Sn.Word)&&(e(Af(i,r-o))!=Sn.Word||e(Ef(i,r-o))!=Sn.Word))}class wT extends j4{constructor(e){super(e)}nextMatch(e,t,r){let i=Ba(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Ba(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=Ba(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Ba(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Ba(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function qa(n,e,t,r){return new b4(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?jT(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Ef(n,e){return n.slice(mr(n,e,!1),e)}function Af(n,e){return n.slice(e,mr(n,e))}function jT(n){return(e,t,r)=>!r[0].length||(n(Ef(r.input,r.index))!=Sn.Word||n(Af(r.input,r.index))!=Sn.Word)&&(n(Af(r.input,r.index+r[0].length))!=Sn.Word||n(Ef(r.input,r.index+r[0].length))!=Sn.Word)}class $T extends j4{nextMatch(e,t,r){let i=qa(this.spec,e,r,e.doc.length).next();return i.done&&(i=qa(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-i*1e4),s=qa(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:t)}matchAll(e,t){let r=qa(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=qa(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Gc=St.define(),L0=St.define(),Cs=Xn.define({create(n){return new Ap(cg(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Gc)?n=new Ap(t.value.create(),n.panel):t.is(L0)&&(n=new Ap(n.query,t.value?B0:null));return n},provide:n=>Uc.from(n,e=>e.panel)});class Ap{constructor(e,t){this.query=e,this.panel=t}}const kT=lt.mark({class:"cm-searchMatch"}),CT=lt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ST=Mn.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Cs))}update(n){let e=n.state.field(Cs);(e!=n.startState.field(Cs)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return lt.none;let{view:t}=this,r=new vo;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;n.highlight(t.state,a,l,(c,u)=>{let d=t.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,d?CT:kT)})}return r.finish()}},{decorations:n=>n.decorations});function bu(n){return e=>{let t=e.state.field(Cs,!1);return t&&t.query.spec.valid?n(e,t):q0(e)}}const Mf=bu((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=je.single(r.from,r.to),o=n.state.facet(Sa);return n.dispatch({selection:i,effects:[V0(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),k4(n),!0}),Pf=bu((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=je.single(i.from,i.to),s=n.state.facet(Sa);return n.dispatch({selection:o,effects:[V0(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),k4(n),!0}),OT=bu((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:je.create(t.map(r=>je.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),ET=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let a=new $l(n.doc,n.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(je.range(a.value.from,a.value.to))}return e(n.update({selection:je.create(o,s),userEvent:"select.search.matches"})),!0},Rb=bu((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s=[],a,l,c=[];if(o.from==r&&o.to==i&&(l=t.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(t,o.from,o.to),c.push(Ie.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=je.single(o.from-u,o.to-u),c.push(V0(n,o)),c.push(t.facet(Sa).scrollToMatch(a.main,n))}return n.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),AT=bu((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Ie.announce.of(r),userEvent:"input.replace.all"}),!0});function B0(n){return n.state.facet(Sa).createPanel(n)}function cg(n,e){var t,r,i,o,s;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(Sa);return new w4({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function $4(n){let e=Vc(n,B0);return e&&e.dom.querySelector("[main-field]")}function k4(n){let e=$4(n);e&&e==n.root.activeElement&&e.select()}const q0=n=>{let e=n.state.field(Cs,!1);if(e&&e.panel){let t=$4(n);if(t&&t!=n.root.activeElement){let r=cg(n.state,e.query.spec);r.valid&&n.dispatch({effects:Gc.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[L0.of(!0),e?Gc.of(cg(n.state,e.query.spec)):St.appendConfig.of(ug)]});return!0},F0=n=>{let e=n.state.field(Cs,!1);if(!e||!e.panel)return!1;let t=Vc(n,B0);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:L0.of(!1)}),!0},MT=[{key:"Mod-f",run:q0,scope:"editor search-panel"},{key:"F3",run:Mf,shift:Pf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Mf,shift:Pf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:F0,scope:"editor search-panel"},{key:"Mod-Shift-l",run:ET},{key:"Mod-Alt-g",run:sT},{key:"Mod-d",run:yT,preventDefault:!0}];class PT{constructor(e){this.view=e;let t=this.query=e.state.field(Cs).query.spec;this.commit=this.commit.bind(this),this.searchField=fn("input",{value:t.search,placeholder:Qr(e,"Find"),"aria-label":Qr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=fn("input",{value:t.replace,placeholder:Qr(e,"Replace"),"aria-label":Qr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=fn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=fn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=fn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,o,s){return fn("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=fn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Mf(e),[Qr(e,"next")]),r("prev",()=>Pf(e),[Qr(e,"previous")]),r("select",()=>OT(e),[Qr(e,"all")]),fn("label",null,[this.caseField,Qr(e,"match case")]),fn("label",null,[this.reField,Qr(e,"regexp")]),fn("label",null,[this.wordField,Qr(e,"by word")]),...e.state.readOnly?[]:[fn("br"),this.replaceField,r("replace",()=>Rb(e),[Qr(e,"replace")]),r("replaceAll",()=>AT(e),[Qr(e,"replace all")])],fn("button",{name:"close",onclick:()=>F0(e),"aria-label":Qr(e,"close"),type:"button"},["×"])])}commit(){let e=new w4({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Gc.of(e)}))}keydown(e){l9(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Pf:Mf)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Rb(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Gc)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Sa).top}}function Qr(n,e){return n.state.phrase(e)}const ld=30,cd=/[\s\.,:;?!]/;function V0(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-ld),s=Math.min(i,t+ld),a=n.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<ld;l++)if(!cd.test(a[l+1])&&cd.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-ld;l--)if(!cd.test(a[l-1])&&cd.test(a[l])){a=a.slice(0,l);break}}return Ie.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const _T=Ie.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ug=[Cs,Ca.low(ST),_T];class C4{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=jr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(S4(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Nb(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function TT(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=Nb(e)+Nb(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function RT(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:TT(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}class Db{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Ss(n){return n.selection.main.from}function S4(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const O4=es.define();function NT(n,e,t,r){let{main:i}=n.selection,o=t-i.from,s=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:l},range:je.cursor(a.from+o+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Ib=new WeakMap;function DT(n){if(!Array.isArray(n))return n;let e=Ib.get(n);return e||Ib.set(n,e=RT(n)),e}const _f=St.define(),Jc=St.define();class IT{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=dr(e,t),i=di(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(dr(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let y=dr(e,0),b=di(y),j=b==e.length?0:-100;if(y!=t[0])if(y==r[0])j+=-200;else return null;return this.ret(j,[0,b])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let y=0,b=Math.min(e.length,200);y<b&&c<l;){let j=dr(e,y);(j==t[c]||j==r[c])&&(i[c++]=y),y+=di(j)}if(c<l)return null}let u=0,d=0,f=!1,h=0,p=-1,g=-1,v=/[a-z]/.test(e),m=!0;for(let y=0,b=Math.min(e.length,200),j=0;y<b&&d<l;){let x=dr(e,y);a<0&&(u<l&&x==t[u]&&(o[u++]=y),h<l&&(x==t[h]||x==r[h]?(h==0&&(p=y),g=y+1,h++):h=0));let S,_=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(S=d0(x))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!y||_==1&&v||j==0&&_!=0)&&(t[d]==x||r[d]==x&&(f=!0)?s[d++]=y:s.length&&(m=!1)),j=_,y+=di(x)}return d==l&&s[0]==0&&m?this.result(-100+(f?-200:0),s,e):h==l&&p==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):h==l?this.ret(-900-e.length,[p,g]):d==l?this.result(-100+(f?-200:0)+-700+(m?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let a=s+(this.astral?di(dr(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class zT{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const pr=qe.define({combine(n){return $i(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:LT,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>zb(e(r),t(r)),optionClass:(e,t)=>r=>zb(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function zb(n,e){return n?e?n+" "+e:n:e}function LT(n,e,t,r,i,o){let s=n.textDirection==gn.RTL,a=s,l=!1,c="top",u,d,f=e.left-i.left,h=i.right-e.right,p=r.right-r.left,g=r.bottom-r.top;if(a&&f<Math.min(p,h)?a=!1:!a&&h<Math.min(p,f)&&(a=!0),p<=(a?f:h))u=Math.max(i.top,Math.min(t.top,i.bottom-g))-e.top,d=Math.min(400,a?f:h);else{l=!0,d=Math.min(400,(s?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=g||y>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let v=(e.bottom-e.top)/o.offsetHeight,m=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${d/m}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function BT(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<o.length;){let u=o[c++],d=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function Mp(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class qT{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,a=e.state.facet(pr);this.optionContent=BT(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Mp(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(pr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Jc.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=Mp(o.length,s,e.state.facet(pr).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Mp(t.options.length,t.selected,this.view.state.facet(pr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>Ar(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&VT(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(pr).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=o&&(s>r.from||r.from==0))if(o=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=t+"-"+s,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let f of this.optionContent){let h=f(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function FT(n,e){return t=>new qT(t,n,e)}function VT(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function Lb(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function UT(n,e){let t=[],r=null,i=c=>{t.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let d=typeof u=="string"?u:u.name;r.some(f=>f.name==d)||r.push(typeof u=="string"?{name:d}:u)}},o=e.facet(pr);for(let c of n)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)i(new Db(d,c.source,u?u(d):[],1e9-t.length));else{let d=e.sliceDoc(c.from,c.to),f,h=o.filterStrict?new zT(d):new IT(d);for(let p of c.result.options)if(f=h.match(p.label)){let g=p.displayLabel?u?u(p,f.matched):[]:f.matched;i(new Db(p,c.source,g,f.score+(p.boost||0)))}}}if(r){let c=Object.create(null),u=0,d=(f,h)=>{var p,g;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(f.name<h.name?-1:1)};for(let f of r.sort(d))u-=1e5,c[f.name]=u;for(let f of t){let{section:h}=f.completion;h&&(f.score+=c[typeof h=="string"?h:h.name])}}let s=[],a=null,l=o.compareCompletions;for(let c of t.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?s.push(c):Lb(c.completion)>Lb(a)&&(s[s.length-1]=c),a=c.completion}return s}class Ya{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Ya(this.options,Bb(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o){let s=UT(e,t);if(!s.length)return i&&e.some(l=>l.state==1)?new Ya(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=t.facet(pr).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new Ya(s,Bb(r,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:QT,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new Ya(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Tf{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Tf(GT,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(pr),o=(r.override||t.languageDataAt("autocomplete",Ss(t)).map(DT)).map(a=>(this.active.find(c=>c.source==a)||new ei(a,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!HT(o,this.active)?s=Ya.build(o,t,this.id,s,r):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new ei(a.source,0):a));for(let a of e.effects)a.is(M4)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new Tf(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?WT:KT}}function HT(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;r<e.length&&!e[r].hasResult;)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const WT={"aria-autocomplete":"list"},KT={};function Bb(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const GT=[];function E4(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(O4);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ei{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=E4(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new ei(i.source,0)),r&4&&i.state==0&&(i=new ei(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(_f))i=new ei(i.source,1,o.value?Ss(e.state):-1);else if(o.is(Jc))i=new ei(i.source,0);else if(o.is(A4))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ei(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(Ss(e.state))}}class ul extends ei{constructor(e,t,r,i,o){super(e,2,t),this.result=r,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Ss(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||!i||t&2&&Ss(e.startState)==this.from)return new ei(this.source,t&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return JT(i.validFor,e.state,o,s)?new ul(this.source,l,i,o,s):i.update&&(i=i.update(i,o,s,new C4(e.state,a,l>=0)))?new ul(this.source,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Ss(e.state)):new ei(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ul(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ei(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function JT(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):S4(n,!0).test(i)}const A4=St.define({map(n,e){return n.map(t=>t.map(e))}}),M4=St.define(),Dr=Xn.define({create(){return Tf.start()},update(n,e){return n.update(e)},provide:n=>[gh.from(n,e=>e.tooltip),Ie.contentAttributes.from(n,e=>e.attrs)]});function U0(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Dr).active.find(i=>i.source==e.source);return r instanceof ul?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},NT(n.state,t,r.from,r.to)),{annotations:O4.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const QT=FT(Dr,U0);function ud(n,e="option"){return t=>{let r=t.state.field(Dr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(pr).interactionDelay)return!1;let i=1,o;e=="page"&&(o=nS(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),t.dispatch({effects:M4.of(a)}),!0}}const YT=n=>{let e=n.state.field(Dr,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(pr).interactionDelay?!1:U0(n,e.open.options[e.open.selected])},qb=n=>n.state.field(Dr,!1)?(n.dispatch({effects:_f.of(!0)}),!0):!1,XT=n=>{let e=n.state.field(Dr,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Jc.of(null)}),!0)};class ZT{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const eR=50,tR=1e3,nR=Mn.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Dr).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(Dr),t=n.state.facet(pr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Dr)==e)return;let r=n.transactions.some(o=>{let s=E4(o,t);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>eR&&Date.now()-s.time>tR){for(let a of s.context.abortListeners)try{a()}catch(l){Ar(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(_f)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Dr);for(let t of e.active)t.state==1&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Ss(e),r=new C4(e,t,n.explicitPos==t,this.view),i=new ZT(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Jc.of(null)}),Ar(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(pr);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let s=new ul(i.active.source,i.active.explicitPos,i.done,i.done.from,(n=i.done.to)!==null&&n!==void 0?n:Ss(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)s=s.update(a,t);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(Dr).active.find(s=>s.source==i.active.source);if(o&&o.state==1)if(i.done==null){let s=new ei(i.active.source,0);for(let a of i.updates)s=s.update(a,t);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:A4.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Dr,!1);if(e&&e.tooltip&&this.view.state.facet(pr).closeOnBlur){let t=e.open&&nS(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Jc.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:_f.of(!1)}),20),this.composing=0}}}),rR=typeof navigator=="object"&&/Win/.test(navigator.platform),iR=Ca.highest(Ie.domEventHandlers({keydown(n,e){let t=e.state.field(Dr,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(rR&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&U0(e,r),!1}})),oR=Ie.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Qc={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},sa=St.define({map(n,e){let t=e.mapPos(n,-1,Er.TrackAfter);return t??void 0}}),H0=new class extends ha{};H0.startSide=1;H0.endSide=-1;const P4=Xn.define({create(){return Vt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(sa)&&(n=n.update({add:[H0.range(t.value,t.value+1)]}));return n}});function sR(){return[lR,P4]}const Pp="()[]{}<>";function _4(n){for(let e=0;e<Pp.length;e+=2)if(Pp.charCodeAt(e)==n)return Pp.charAt(e+1);return d0(n<128?n:n+1)}function T4(n,e){return n.languageDataAt("closeBrackets",e)[0]||Qc}const aR=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),lR=Ie.inputHandler.of((n,e,t,r)=>{if((aR?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&di(dr(r,0))==1||e!=i.from||t!=i.to)return!1;let o=dR(n.state,r);return o?(n.dispatch(o),!0):!1}),cR=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=T4(n,n.selection.main.head).brackets||Qc.brackets,i=null,o=n.changeByRange(s=>{if(s.empty){let a=fR(n.doc,s.head);for(let l of r)if(l==a&&Oh(n.doc,s.head)==_4(dr(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:je.cursor(s.head-l.length)}}return{range:i=s}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},uR=[{key:"Backspace",run:cR}];function dR(n,e){let t=T4(n,n.selection.main.head),r=t.brackets||Qc.brackets;for(let i of r){let o=_4(dr(i,0));if(e==i)return o==i?mR(n,i,r.indexOf(i+i+i)>-1,t):hR(n,i,o,t.before||Qc.before);if(e==o&&R4(n,n.selection.main.from))return pR(n,i,o)}return null}function R4(n,e){let t=!1;return n.field(P4).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Oh(n,e){let t=n.sliceString(e,e+2);return t.slice(0,di(dr(t,0)))}function fR(n,e){let t=n.sliceString(e-2,e);return di(dr(t,0))==t.length?t:t.slice(1)}function hR(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:sa.of(s.to+e.length),range:je.range(s.anchor+e.length,s.head+e.length)};let a=Oh(n.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:s.head},effects:sa.of(s.head+e.length),range:je.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function pR(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&Oh(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:je.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function mR(n,e,t,r){let i=r.stringPrefixes||Qc.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:sa.of(a.to+e.length),range:je.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Oh(n.doc,l),u;if(c==e){if(Fb(n,l))return{changes:{insert:e+e,from:l},effects:sa.of(l+e.length),range:je.cursor(l+e.length)};if(R4(n,l)){let f=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:je.cursor(l+f.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=Vb(n,l-2*e.length,i))>-1&&Fb(n,u))return{changes:{insert:e+e+e+e,from:l},effects:sa.of(l+e.length),range:je.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Sn.Word&&Vb(n,l,i)>-1&&!gR(n,l,e,i))return{changes:{insert:e+e,from:l},effects:sa.of(l+e.length),range:je.cursor(l+e.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Fb(n,e){let t=jr(n).resolveInner(e+1);return t.parent&&t.from==e}function gR(n,e,t,r){let i=jr(n).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function Vb(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Sn.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=Sn.Word)return o}return-1}function vR(n={}){return[iR,Dr,pr.of(n),nR,yR,oR]}const N4=[{key:"Ctrl-Space",run:qb},{mac:"Alt-`",run:qb},{key:"Escape",run:XT},{key:"ArrowDown",run:ud(!0)},{key:"ArrowUp",run:ud(!1)},{key:"PageDown",run:ud(!0,"page")},{key:"PageUp",run:ud(!1,"page")},{key:"Enter",run:YT}],yR=Ca.highest(ff.computeN([pr],n=>n.facet(pr).defaultKeymap?[N4]:[]));function bR(n,e=n.state){const t=new Set;for(const{from:r,to:i}of n.visibleRanges){let o=r;for(;o<=i;){const s=e.doc.lineAt(o);t.has(s)||t.add(s),o=s.to+1}}return t}function dg(n){const e=n.selection.main.head;return n.doc.lineAt(e)}function Ub(n,e){let t=0;e:for(let r=0;r<n.length;r++)switch(n[r]){case" ":case" ":{t+=1;continue e}case"	":{t+=e-t%e;continue e}case"\r":continue e;default:break e}return t}const Rf=qe.define({combine(n){return $i(n,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class xR{constructor(e,t,r,i){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=r,this.markerType=i;for(const o of this.lines)this.add(o);this.state.facet(Rf).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const t=this.map.get(typeof e=="number"?e:e.number);if(!t)throw new Error("Line not found in indentation map");return t}set(e,t,r){const i=!e.text.trim().length,o={line:e,col:t,level:r,empty:i};return this.map.set(o.line.number,o),o}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const s=this.closestNonEmpty(e,-1);return this.set(e,0,s.level)}const i=this.closestNonEmpty(e,-1),o=this.closestNonEmpty(e,1);return i.level>=o.level&&this.markerType!=="codeOnly"?this.set(e,0,i.level):i.empty&&i.level===0&&o.level!==0?this.set(e,0,0):o.level>i.level?this.set(e,0,i.level+1):this.set(e,0,o.level)}const t=Ub(e.text,this.state.tabSize),r=Math.floor(t/this.unitWidth);return this.set(e,t,r)}closestNonEmpty(e,t){let r=e.number+t;for(;t===-1?r>=1:r<=this.state.doc.lines;){if(this.has(r)){const s=this.get(r);if(!s.empty)return s}const o=this.state.doc.line(r);if(o.text.trim().length){const s=Ub(o.text,this.state.tabSize),a=Math.floor(s/this.unitWidth);return this.set(o,s,a)}r+=t}const i=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(i,0,0)}findAndSetActiveLines(){const e=dg(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){const o=this.get(t.line.number+1);o.level>t.level&&(t=o)}if(this.has(t.line.number-1)){const o=this.get(t.line.number-1);o.level>t.level&&(t=o)}if(t.level===0)return;t.active=t.level;let r,i;for(r=t.line.number;r>1;r--){if(!this.has(r-1))continue;const o=this.get(r-1);if(o.level<t.level)break;o.active=t.level}for(i=t.line.number;i<this.state.doc.lines;i++){if(!this.has(i+1))continue;const o=this.get(i+1);if(o.level<t.level)break;o.active=t.level}}}function wR(n){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let t=e;return n&&(t=Object.assign(Object.assign({},e),n)),Ie.baseTheme({"&light":{"--indent-marker-bg-color":t.light,"--indent-marker-active-bg-color":t.activeLight},"&dark":{"--indent-marker-bg-color":t.dark,"--indent-marker-active-bg-color":t.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function dd(n,e,t,r,i){return`${`repeating-linear-gradient(to right, var(${n}) 0 ${e}px, transparent ${e}px ${t}ch)`} ${r*t}.5ch/calc(${t*i}ch - 1px) no-repeat`}function jR(n,e,t,r,i){const{level:o,active:s}=n;if(i=i??r,t&&o===0)return[];const a=t?1:0,l=[];if(s!==void 0){const c=s-a-1;c>0&&l.push(dd("--indent-marker-bg-color",r,e,a,c)),l.push(dd("--indent-marker-active-bg-color",i,e,s-1,1)),s!==o&&l.push(dd("--indent-marker-bg-color",r,e,s,o-s))}else l.push(dd("--indent-marker-bg-color",r,e,a,o-a));return l.join(",")}class $R{constructor(e){this.view=e,this.unitWidth=Is(e.state),this.currentLineNumber=dg(e.state).number,this.generate(e.state)}update(e){const t=Is(e.state),r=t!==this.unitWidth;r&&(this.unitWidth=t);const i=dg(e.state).number,o=i!==this.currentLineNumber;this.currentLineNumber=i;const s=e.state.facet(Rf).highlightActiveBlock&&o;(e.docChanged||e.viewportChanged||r||s)&&this.generate(e.state)}generate(e){const t=new vo,r=bR(this.view,e),{hideFirstIndent:i,markerType:o,thickness:s,activeThickness:a}=e.facet(Rf),l=new xR(r,e,this.unitWidth,o);for(const c of r){const u=l.get(c.number);if(!(u!=null&&u.level))continue;const d=jR(u,this.unitWidth,i,s,a);t.add(c.from,c.from,lt.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${d}`}}))}this.decorations=t.finish()}}function kR(n={}){return[Rf.of(n),wR(n.colors),Mn.fromClass($R,{decorations:e=>e.decorations})]}class CR{constructor(e){this.view=e,this.indentUnit=Is(e.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes("Chrome"),this.generate(e.state)}update(e){const t=Is(e.state);(t!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=t,this.generate(e.state))}generate(e){const t=new vo;this.initialPaddingLeft?this.addStyleToBuilder(t,e,this.initialPaddingLeft):this.view.requestMeasure({read:r=>{const i=r.contentDOM.querySelector(".cm-line");i&&(this.initialPaddingLeft=window.getComputedStyle(i).getPropertyValue("padding-left"),this.addStyleToBuilder(t,r.state,this.initialPaddingLeft)),this.decorations=t.finish()}}),this.decorations=t.finish()}addStyleToBuilder(e,t,r){const i=this.getVisibleLines(t);for(const o of i){const{numColumns:s,containsTab:a}=this.numColumns(o.text,t.tabSize),l=`calc(${s+this.indentUnit}ch + ${r})`,c=this.isChrome?`calc(-${s+this.indentUnit}ch - ${a?1:0}px)`:`-${s+this.indentUnit}ch`;e.add(o.from,o.from,lt.line({attributes:{style:`padding-left: ${l}; text-indent: ${c};`}}))}}getVisibleLines(e){const t=new Set;let r=null;for(const{from:i,to:o}of this.view.visibleRanges){let s=i;for(;s<=o;){const a=e.doc.lineAt(s);r!==a&&(t.add(a),r=a),s=a.to+1}}return t}numColumns(e,t){let r=0,i=!1;e:for(let o=0;o<e.length;o++)switch(e[o]){case" ":{r+=1;continue e}case"	":{r+=t-r%t,i=!0;continue e}case"\r":continue e;default:break e}return{numColumns:r,containsTab:i}}}const SR=[Mn.fromClass(CR,{decorations:n=>n.decorations})];var Hb={exports:{}},D4={},Ii={},kl={},xu={},Nt={},Yc={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.regexpCode=n.getEsmExportName=n.getProperty=n.safeStringify=n.stringify=n.strConcat=n.addCodeArg=n.str=n._=n.nil=n._Code=n.Name=n.IDENTIFIER=n._CodeOrName=void 0;class e{}n._CodeOrName=e,n.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends e{constructor(y){if(super(),!n.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}n.Name=t;class r extends e{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((b,j)=>`${b}${j}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((b,j)=>(j instanceof t&&(b[j.str]=(b[j.str]||0)+1),b),{})}}n._Code=r,n.nil=new r("");function i(m,...y){const b=[m[0]];let j=0;for(;j<y.length;)a(b,y[j]),b.push(m[++j]);return new r(b)}n._=i;const o=new r("+");function s(m,...y){const b=[h(m[0])];let j=0;for(;j<y.length;)b.push(o),a(b,y[j]),b.push(o,h(m[++j]));return l(b),new r(b)}n.str=s;function a(m,y){y instanceof r?m.push(...y._items):y instanceof t?m.push(y):m.push(d(y))}n.addCodeArg=a;function l(m){let y=1;for(;y<m.length-1;){if(m[y]===o){const b=c(m[y-1],m[y+1]);if(b!==void 0){m.splice(y-1,3,b);continue}m[y++]="+"}y++}}function c(m,y){if(y==='""')return m;if(m==='""')return y;if(typeof m=="string")return y instanceof t||m[m.length-1]!=='"'?void 0:typeof y!="string"?`${m.slice(0,-1)}${y}"`:y[0]==='"'?m.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(m instanceof t))return`"${m}${y.slice(1)}`}function u(m,y){return y.emptyStr()?m:m.emptyStr()?y:s`${m}${y}`}n.strConcat=u;function d(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function f(m){return new r(h(m))}n.stringify=f;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}n.safeStringify=h;function p(m){return typeof m=="string"&&n.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}n.getProperty=p;function g(m){if(typeof m=="string"&&n.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}n.getEsmExportName=g;function v(m){return new r(m.toString())}n.regexpCode=v})(Yc);var fg={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueScope=n.ValueScopeName=n.Scope=n.varKinds=n.UsedValueState=void 0;const e=Yc;class t extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(n.UsedValueState=r={})),n.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}n.Scope=i;class o extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${d}]`}}n.ValueScopeName=o;const s=(0,e._)`\n`;class a extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?s:e.nil}}get(){return this._scope}name(c){return new o(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:h}=f,p=(d=u.key)!==null&&d!==void 0?d:u.ref;let g=this._values[h];if(g){const y=g.get(p);if(y)return y}else g=this._values[h]=new Map;g.set(p,f);const v=this._scope[h]||(this._scope[h]=[]),m=v.length;return v[m]=u.ref,f.setValue(u,{property:h,itemIndex:m}),f}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},u,d)}_reduceValues(c,u,d={},f){let h=e.nil;for(const p in c){const g=c[p];if(!g)continue;const v=d[p]=d[p]||new Map;g.forEach(m=>{if(v.has(m))return;v.set(m,r.Started);let y=u(m);if(y){const b=this.opts.es5?n.varKinds.var:n.varKinds.const;h=(0,e._)`${h}${b} ${m} = ${y};${this.opts._n}`}else if(y=f==null?void 0:f(m))h=(0,e._)`${h}${y}${this.opts._n}`;else throw new t(m);v.set(m,r.Completed)})}return h}}n.ValueScope=a})(fg);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.or=n.and=n.not=n.CodeGen=n.operators=n.varKinds=n.ValueScopeName=n.ValueScope=n.Scope=n.Name=n.regexpCode=n.stringify=n.getProperty=n.nil=n.strConcat=n.str=n._=void 0;const e=Yc,t=fg;var r=Yc;Object.defineProperty(n,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(n,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(n,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(n,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return r.Name}});var i=fg;Object.defineProperty(n,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(n,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(n,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(n,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),n.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(k,P){return this}}class s extends o{constructor(k,P,D){super(),this.varKind=k,this.name=P,this.rhs=D}render({es5:k,_n:P}){const D=k?t.varKinds.var:this.varKind,N=this.rhs===void 0?"":` = ${this.rhs}`;return`${D} ${this.name}${N};`+P}optimizeNames(k,P){if(k[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,k,P)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(k,P,D){super(),this.lhs=k,this.rhs=P,this.sideEffects=D}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,P){if(!(this.lhs instanceof e.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,k,P),this}get names(){const k=this.lhs instanceof e.Name?{}:{...this.lhs.names};return J(k,this.rhs)}}class l extends a{constructor(k,P,D,N){super(k,D,N),this.op=P}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class c extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class u extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class d extends o{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class f extends o{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,P){return this.code=U(this.code,k,P),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends o{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((P,D)=>P+D.render(k),"")}optimizeNodes(){const{nodes:k}=this;let P=k.length;for(;P--;){const D=k[P].optimizeNodes();Array.isArray(D)?k.splice(P,1,...D):D?k[P]=D:k.splice(P,1)}return k.length>0?this:void 0}optimizeNames(k,P){const{nodes:D}=this;let N=D.length;for(;N--;){const se=D[N];se.optimizeNames(k,P)||(T(k,se.names),D.splice(N,1))}return D.length>0?this:void 0}get names(){return this.nodes.reduce((k,P)=>Z(k,P.names),{})}}class p extends h{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class g extends h{}class v extends p{}v.kind="else";class m extends p{constructor(k,P){super(P),this.condition=k}render(k){let P=`if(${this.condition})`+super.render(k);return this.else&&(P+="else "+this.else.render(k)),P}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let P=this.else;if(P){const D=P.optimizeNodes();P=this.else=Array.isArray(D)?new v(D):D}if(P)return k===!1?P instanceof m?P:P.nodes:this.nodes.length?this:new m(re(k),P instanceof m?[P]:P.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,P){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(k,P),!!(super.optimizeNames(k,P)||this.else))return this.condition=U(this.condition,k,P),this}get names(){const k=super.names;return J(k,this.condition),this.else&&Z(k,this.else.names),k}}m.kind="if";class y extends p{}y.kind="for";class b extends y{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,P){if(super.optimizeNames(k,P))return this.iteration=U(this.iteration,k,P),this}get names(){return Z(super.names,this.iteration.names)}}class j extends y{constructor(k,P,D,N){super(),this.varKind=k,this.name=P,this.from=D,this.to=N}render(k){const P=k.es5?t.varKinds.var:this.varKind,{name:D,from:N,to:se}=this;return`for(${P} ${D}=${N}; ${D}<${se}; ${D}++)`+super.render(k)}get names(){const k=J(super.names,this.from);return J(k,this.to)}}class x extends y{constructor(k,P,D,N){super(),this.loop=k,this.varKind=P,this.name=D,this.iterable=N}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,P){if(super.optimizeNames(k,P))return this.iterable=U(this.iterable,k,P),this}get names(){return Z(super.names,this.iterable.names)}}class S extends p{constructor(k,P,D){super(),this.name=k,this.args=P,this.async=D}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}S.kind="func";class _ extends h{render(k){return"return "+super.render(k)}}_.kind="return";class B extends p{render(k){let P="try"+super.render(k);return this.catch&&(P+=this.catch.render(k)),this.finally&&(P+=this.finally.render(k)),P}optimizeNodes(){var k,P;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(k,P){var D,N;return super.optimizeNames(k,P),(D=this.catch)===null||D===void 0||D.optimizeNames(k,P),(N=this.finally)===null||N===void 0||N.optimizeNames(k,P),this}get names(){const k=super.names;return this.catch&&Z(k,this.catch.names),this.finally&&Z(k,this.finally.names),k}}class R extends p{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}R.kind="catch";class F extends p{render(k){return"finally"+super.render(k)}}F.kind="finally";class Q{constructor(k,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=k,this._scope=new t.Scope({parent:k}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,P){const D=this._extScope.value(k,P);return(this._values[D.prefix]||(this._values[D.prefix]=new Set)).add(D),D}getScopeValue(k,P){return this._extScope.getValue(k,P)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,P,D,N){const se=this._scope.toName(P);return D!==void 0&&N&&(this._constants[se.str]=D),this._leafNode(new s(k,se,D)),se}const(k,P,D){return this._def(t.varKinds.const,k,P,D)}let(k,P,D){return this._def(t.varKinds.let,k,P,D)}var(k,P,D){return this._def(t.varKinds.var,k,P,D)}assign(k,P,D){return this._leafNode(new a(k,P,D))}add(k,P){return this._leafNode(new l(k,n.operators.ADD,P))}code(k){return typeof k=="function"?k():k!==e.nil&&this._leafNode(new f(k)),this}object(...k){const P=["{"];for(const[D,N]of k)P.length>1&&P.push(","),P.push(D),(D!==N||this.opts.es5)&&(P.push(":"),(0,e.addCodeArg)(P,N));return P.push("}"),new e._Code(P)}if(k,P,D){if(this._blockNode(new m(k)),P&&D)this.code(P).else().code(D).endIf();else if(P)this.code(P).endIf();else if(D)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new m(k))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(m,v)}_for(k,P){return this._blockNode(k),P&&this.code(P).endFor(),this}for(k,P){return this._for(new b(k),P)}forRange(k,P,D,N,se=this.opts.es5?t.varKinds.var:t.varKinds.let){const $e=this._scope.toName(k);return this._for(new j(se,$e,P,D),()=>N($e))}forOf(k,P,D,N=t.varKinds.const){const se=this._scope.toName(k);if(this.opts.es5){const $e=P instanceof e.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,e._)`${$e}.length`,Y=>{this.var(se,(0,e._)`${$e}[${Y}]`),D(se)})}return this._for(new x("of",N,se,P),()=>D(se))}forIn(k,P,D,N=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,e._)`Object.keys(${P})`,D);const se=this._scope.toName(k);return this._for(new x("in",N,se,P),()=>D(se))}endFor(){return this._endBlockNode(y)}label(k){return this._leafNode(new c(k))}break(k){return this._leafNode(new u(k))}return(k){const P=new _;if(this._blockNode(P),this.code(k),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(k,P,D){if(!P&&!D)throw new Error('CodeGen: "try" without "catch" and "finally"');const N=new B;if(this._blockNode(N),this.code(k),P){const se=this.name("e");this._currNode=N.catch=new R(se),P(se)}return D&&(this._currNode=N.finally=new F,this.code(D)),this._endBlockNode(R,F)}throw(k){return this._leafNode(new d(k))}block(k,P){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(P),this}endBlock(k){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const D=this._nodes.length-P;if(D<0||k!==void 0&&D!==k)throw new Error(`CodeGen: wrong number of nodes: ${D} vs ${k} expected`);return this._nodes.length=P,this}func(k,P=e.nil,D,N){return this._blockNode(new S(k,P,D)),N&&this.code(N).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,P){const D=this._currNode;if(D instanceof k||P&&D instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${k.kind}/${P.kind}`:k.kind}"`)}_elseNode(k){const P=this._currNode;if(!(P instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const P=this._nodes;P[P.length-1]=k}}n.CodeGen=Q;function Z(H,k){for(const P in k)H[P]=(H[P]||0)+(k[P]||0);return H}function J(H,k){return k instanceof e._CodeOrName?Z(H,k.names):H}function U(H,k,P){if(H instanceof e.Name)return D(H);if(!N(H))return H;return new e._Code(H._items.reduce((se,$e)=>($e instanceof e.Name&&($e=D($e)),$e instanceof e._Code?se.push(...$e._items):se.push($e),se),[]));function D(se){const $e=P[se.str];return $e===void 0||k[se.str]!==1?se:(delete k[se.str],$e)}function N(se){return se instanceof e._Code&&se._items.some($e=>$e instanceof e.Name&&k[$e.str]===1&&P[$e.str]!==void 0)}}function T(H,k){for(const P in k)H[P]=(H[P]||0)-(k[P]||0)}function re(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:(0,e._)`!${ee(H)}`}n.not=re;const ie=E(n.operators.AND);function G(...H){return H.reduce(ie)}n.and=G;const L=E(n.operators.OR);function M(...H){return H.reduce(L)}n.or=M;function E(H){return(k,P)=>k===e.nil?P:P===e.nil?k:(0,e._)`${ee(k)} ${H} ${ee(P)}`}function ee(H){return H instanceof e.Name?H:(0,e._)`(${H})`}})(Nt);var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.checkStrictMode=Ue.getErrorPath=Ue.Type=Ue.useFunc=Ue.setEvaluated=Ue.evaluatedPropsToName=Ue.mergeEvaluated=Ue.eachItem=Ue.unescapeJsonPointer=Ue.escapeJsonPointer=Ue.escapeFragment=Ue.unescapeFragment=Ue.schemaRefOrVal=Ue.schemaHasRulesButRef=Ue.schemaHasRules=Ue.checkUnknownRules=Ue.alwaysValidSchema=Ue.toHash=void 0;const sn=Nt,OR=Yc;function ER(n){const e={};for(const t of n)e[t]=!0;return e}Ue.toHash=ER;function AR(n,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(I4(n,e),!z4(e,n.self.RULES.all))}Ue.alwaysValidSchema=AR;function I4(n,e=n.schema){const{opts:t,self:r}=n;if(!t.strictSchema||typeof e=="boolean")return;const i=r.RULES.keywords;for(const o in e)i[o]||q4(n,`unknown keyword: "${o}"`)}Ue.checkUnknownRules=I4;function z4(n,e){if(typeof n=="boolean")return!n;for(const t in n)if(e[t])return!0;return!1}Ue.schemaHasRules=z4;function MR(n,e){if(typeof n=="boolean")return!n;for(const t in n)if(t!=="$ref"&&e.all[t])return!0;return!1}Ue.schemaHasRulesButRef=MR;function PR({topSchemaRef:n,schemaPath:e},t,r,i){if(!i){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,sn._)`${t}`}return(0,sn._)`${n}${e}${(0,sn.getProperty)(r)}`}Ue.schemaRefOrVal=PR;function _R(n){return L4(decodeURIComponent(n))}Ue.unescapeFragment=_R;function TR(n){return encodeURIComponent(W0(n))}Ue.escapeFragment=TR;function W0(n){return typeof n=="number"?`${n}`:n.replace(/~/g,"~0").replace(/\//g,"~1")}Ue.escapeJsonPointer=W0;function L4(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}Ue.unescapeJsonPointer=L4;function RR(n,e){if(Array.isArray(n))for(const t of n)e(t);else e(n)}Ue.eachItem=RR;function Wb({mergeNames:n,mergeToName:e,mergeValues:t,resultToName:r}){return(i,o,s,a)=>{const l=s===void 0?o:s instanceof sn.Name?(o instanceof sn.Name?n(i,o,s):e(i,o,s),s):o instanceof sn.Name?(e(i,s,o),o):t(o,s);return a===sn.Name&&!(l instanceof sn.Name)?r(i,l):l}}Ue.mergeEvaluated={props:Wb({mergeNames:(n,e,t)=>n.if((0,sn._)`${t} !== true && ${e} !== undefined`,()=>{n.if((0,sn._)`${e} === true`,()=>n.assign(t,!0),()=>n.assign(t,(0,sn._)`${t} || {}`).code((0,sn._)`Object.assign(${t}, ${e})`))}),mergeToName:(n,e,t)=>n.if((0,sn._)`${t} !== true`,()=>{e===!0?n.assign(t,!0):(n.assign(t,(0,sn._)`${t} || {}`),K0(n,t,e))}),mergeValues:(n,e)=>n===!0?!0:{...n,...e},resultToName:B4}),items:Wb({mergeNames:(n,e,t)=>n.if((0,sn._)`${t} !== true && ${e} !== undefined`,()=>n.assign(t,(0,sn._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(n,e,t)=>n.if((0,sn._)`${t} !== true`,()=>n.assign(t,e===!0?!0:(0,sn._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(n,e)=>n===!0?!0:Math.max(n,e),resultToName:(n,e)=>n.var("items",e)})};function B4(n,e){if(e===!0)return n.var("props",!0);const t=n.var("props",(0,sn._)`{}`);return e!==void 0&&K0(n,t,e),t}Ue.evaluatedPropsToName=B4;function K0(n,e,t){Object.keys(t).forEach(r=>n.assign((0,sn._)`${e}${(0,sn.getProperty)(r)}`,!0))}Ue.setEvaluated=K0;const Kb={};function NR(n,e){return n.scopeValue("func",{ref:e,code:Kb[e.code]||(Kb[e.code]=new OR._Code(e.code))})}Ue.useFunc=NR;var hg;(function(n){n[n.Num=0]="Num",n[n.Str=1]="Str"})(hg||(Ue.Type=hg={}));function DR(n,e,t){if(n instanceof sn.Name){const r=e===hg.Num;return t?r?(0,sn._)`"[" + ${n} + "]"`:(0,sn._)`"['" + ${n} + "']"`:r?(0,sn._)`"/" + ${n}`:(0,sn._)`"/" + ${n}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,sn.getProperty)(n).toString():"/"+W0(n)}Ue.getErrorPath=DR;function q4(n,e,t=n.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);n.self.logger.warn(e)}}Ue.checkStrictMode=q4;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});const gr=Nt,IR={data:new gr.Name("data"),valCxt:new gr.Name("valCxt"),instancePath:new gr.Name("instancePath"),parentData:new gr.Name("parentData"),parentDataProperty:new gr.Name("parentDataProperty"),rootData:new gr.Name("rootData"),dynamicAnchors:new gr.Name("dynamicAnchors"),vErrors:new gr.Name("vErrors"),errors:new gr.Name("errors"),this:new gr.Name("this"),self:new gr.Name("self"),scope:new gr.Name("scope"),json:new gr.Name("json"),jsonPos:new gr.Name("jsonPos"),jsonLen:new gr.Name("jsonLen"),jsonPart:new gr.Name("jsonPart")};Oo.default=IR;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendErrors=n.resetErrorsCount=n.reportExtraError=n.reportError=n.keyword$DataError=n.keywordError=void 0;const e=Nt,t=Ue,r=Oo;n.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},n.keyword$DataError={message:({keyword:v,schemaType:m})=>m?(0,e.str)`"${v}" keyword must be ${m} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function i(v,m=n.keywordError,y,b){const{it:j}=v,{gen:x,compositeRule:S,allErrors:_}=j,B=d(v,m,y);b??(S||_)?l(x,B):c(j,(0,e._)`[${B}]`)}n.reportError=i;function o(v,m=n.keywordError,y){const{it:b}=v,{gen:j,compositeRule:x,allErrors:S}=b,_=d(v,m,y);l(j,_),x||S||c(b,r.default.vErrors)}n.reportExtraError=o;function s(v,m){v.assign(r.default.errors,m),v.if((0,e._)`${r.default.vErrors} !== null`,()=>v.if(m,()=>v.assign((0,e._)`${r.default.vErrors}.length`,m),()=>v.assign(r.default.vErrors,null)))}n.resetErrorsCount=s;function a({gen:v,keyword:m,schemaValue:y,data:b,errsCount:j,it:x}){if(j===void 0)throw new Error("ajv implementation error");const S=v.name("err");v.forRange("i",j,r.default.errors,_=>{v.const(S,(0,e._)`${r.default.vErrors}[${_}]`),v.if((0,e._)`${S}.instancePath === undefined`,()=>v.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(r.default.instancePath,x.errorPath))),v.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${x.errSchemaPath}/${m}`),x.opts.verbose&&(v.assign((0,e._)`${S}.schema`,y),v.assign((0,e._)`${S}.data`,b))})}n.extendErrors=a;function l(v,m){const y=v.const("err",m);v.if((0,e._)`${r.default.vErrors} === null`,()=>v.assign(r.default.vErrors,(0,e._)`[${y}]`),(0,e._)`${r.default.vErrors}.push(${y})`),v.code((0,e._)`${r.default.errors}++`)}function c(v,m){const{gen:y,validateName:b,schemaEnv:j}=v;j.$async?y.throw((0,e._)`new ${v.ValidationError}(${m})`):(y.assign((0,e._)`${b}.errors`,m),y.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(v,m,y){const{createErrors:b}=v.it;return b===!1?(0,e._)`{}`:f(v,m,y)}function f(v,m,y={}){const{gen:b,it:j}=v,x=[h(j,y),p(v,y)];return g(v,m,x),b.object(...x)}function h({errorPath:v},{instancePath:m}){const y=m?(0,e.str)`${v}${(0,t.getErrorPath)(m,t.Type.Str)}`:v;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,y)]}function p({keyword:v,it:{errSchemaPath:m}},{schemaPath:y,parentSchema:b}){let j=b?m:(0,e.str)`${m}/${v}`;return y&&(j=(0,e.str)`${j}${(0,t.getErrorPath)(y,t.Type.Str)}`),[u.schemaPath,j]}function g(v,{params:m,message:y},b){const{keyword:j,data:x,schemaValue:S,it:_}=v,{opts:B,propertyName:R,topSchemaRef:F,schemaPath:Q}=_;b.push([u.keyword,j],[u.params,typeof m=="function"?m(v):m||(0,e._)`{}`]),B.messages&&b.push([u.message,typeof y=="function"?y(v):y]),B.verbose&&b.push([u.schema,S],[u.parentSchema,(0,e._)`${F}${Q}`],[r.default.data,x]),R&&b.push([u.propertyName,R])}})(xu);Object.defineProperty(kl,"__esModule",{value:!0});kl.boolOrEmptySchema=kl.topBoolOrEmptySchema=void 0;const zR=xu,LR=Nt,BR=Oo,qR={message:"boolean schema is false"};function FR(n){const{gen:e,schema:t,validateName:r}=n;t===!1?F4(n,!1):typeof t=="object"&&t.$async===!0?e.return(BR.default.data):(e.assign((0,LR._)`${r}.errors`,null),e.return(!0))}kl.topBoolOrEmptySchema=FR;function VR(n,e){const{gen:t,schema:r}=n;r===!1?(t.var(e,!1),F4(n)):t.var(e,!0)}kl.boolOrEmptySchema=VR;function F4(n,e){const{gen:t,data:r}=n,i={gen:t,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:n};(0,zR.reportError)(i,qR,void 0,e)}var Gn={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.getRules=ya.isJSONType=void 0;const UR=["string","number","integer","boolean","null","object","array"],HR=new Set(UR);function WR(n){return typeof n=="string"&&HR.has(n)}ya.isJSONType=WR;function KR(){const n={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...n,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},n.number,n.string,n.array,n.object],post:{rules:[]},all:{},keywords:{}}}ya.getRules=KR;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.shouldUseRule=qo.shouldUseGroup=qo.schemaHasRulesForType=void 0;function GR({schema:n,self:e},t){const r=e.RULES.types[t];return r&&r!==!0&&V4(n,r)}qo.schemaHasRulesForType=GR;function V4(n,e){return e.rules.some(t=>U4(n,t))}qo.shouldUseGroup=V4;function U4(n,e){var t;return n[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(r=>n[r]!==void 0))}qo.shouldUseRule=U4;Object.defineProperty(Gn,"__esModule",{value:!0});Gn.reportTypeError=Gn.checkDataTypes=Gn.checkDataType=Gn.coerceAndCheckDataType=Gn.getJSONTypes=Gn.getSchemaTypes=Gn.DataType=void 0;const JR=ya,QR=qo,YR=xu,Ot=Nt,H4=Ue;var dl;(function(n){n[n.Correct=0]="Correct",n[n.Wrong=1]="Wrong"})(dl||(Gn.DataType=dl={}));function XR(n){const e=W4(n.type);if(e.includes("null")){if(n.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&n.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');n.nullable===!0&&e.push("null")}return e}Gn.getSchemaTypes=XR;function W4(n){const e=Array.isArray(n)?n:n?[n]:[];if(e.every(JR.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Gn.getJSONTypes=W4;function ZR(n,e){const{gen:t,data:r,opts:i}=n,o=eN(e,i.coerceTypes),s=e.length>0&&!(o.length===0&&e.length===1&&(0,QR.schemaHasRulesForType)(n,e[0]));if(s){const a=G0(e,r,i.strictNumbers,dl.Wrong);t.if(a,()=>{o.length?tN(n,e,o):J0(n)})}return s}Gn.coerceAndCheckDataType=ZR;const K4=new Set(["string","number","integer","boolean","null"]);function eN(n,e){return e?n.filter(t=>K4.has(t)||e==="array"&&t==="array"):[]}function tN(n,e,t){const{gen:r,data:i,opts:o}=n,s=r.let("dataType",(0,Ot._)`typeof ${i}`),a=r.let("coerced",(0,Ot._)`undefined`);o.coerceTypes==="array"&&r.if((0,Ot._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,Ot._)`${i}[0]`).assign(s,(0,Ot._)`typeof ${i}`).if(G0(e,i,o.strictNumbers),()=>r.assign(a,i))),r.if((0,Ot._)`${a} !== undefined`);for(const c of t)(K4.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);r.else(),J0(n),r.endIf(),r.if((0,Ot._)`${a} !== undefined`,()=>{r.assign(i,a),nN(n,a)});function l(c){switch(c){case"string":r.elseIf((0,Ot._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,Ot._)`"" + ${i}`).elseIf((0,Ot._)`${i} === null`).assign(a,(0,Ot._)`""`);return;case"number":r.elseIf((0,Ot._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,Ot._)`+${i}`);return;case"integer":r.elseIf((0,Ot._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,Ot._)`+${i}`);return;case"boolean":r.elseIf((0,Ot._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,Ot._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,Ot._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,Ot._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,Ot._)`[${i}]`)}}}function nN({gen:n,parentData:e,parentDataProperty:t},r){n.if((0,Ot._)`${e} !== undefined`,()=>n.assign((0,Ot._)`${e}[${t}]`,r))}function pg(n,e,t,r=dl.Correct){const i=r===dl.Correct?Ot.operators.EQ:Ot.operators.NEQ;let o;switch(n){case"null":return(0,Ot._)`${e} ${i} null`;case"array":o=(0,Ot._)`Array.isArray(${e})`;break;case"object":o=(0,Ot._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=s((0,Ot._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=s();break;default:return(0,Ot._)`typeof ${e} ${i} ${n}`}return r===dl.Correct?o:(0,Ot.not)(o);function s(a=Ot.nil){return(0,Ot.and)((0,Ot._)`typeof ${e} == "number"`,a,t?(0,Ot._)`isFinite(${e})`:Ot.nil)}}Gn.checkDataType=pg;function G0(n,e,t,r){if(n.length===1)return pg(n[0],e,t,r);let i;const o=(0,H4.toHash)(n);if(o.array&&o.object){const s=(0,Ot._)`typeof ${e} != "object"`;i=o.null?s:(0,Ot._)`!${e} || ${s}`,delete o.null,delete o.array,delete o.object}else i=Ot.nil;o.number&&delete o.integer;for(const s in o)i=(0,Ot.and)(i,pg(s,e,t,r));return i}Gn.checkDataTypes=G0;const rN={message:({schema:n})=>`must be ${n}`,params:({schema:n,schemaValue:e})=>typeof n=="string"?(0,Ot._)`{type: ${n}}`:(0,Ot._)`{type: ${e}}`};function J0(n){const e=iN(n);(0,YR.reportError)(e,rN)}Gn.reportTypeError=J0;function iN(n){const{gen:e,data:t,schema:r}=n,i=(0,H4.schemaRefOrVal)(n,r,"type");return{gen:e,keyword:"type",data:t,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:n}}var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.assignDefaults=void 0;const Ra=Nt,oN=Ue;function sN(n,e){const{properties:t,items:r}=n.schema;if(e==="object"&&t)for(const i in t)Gb(n,i,t[i].default);else e==="array"&&Array.isArray(r)&&r.forEach((i,o)=>Gb(n,o,i.default))}Eh.assignDefaults=sN;function Gb(n,e,t){const{gen:r,compositeRule:i,data:o,opts:s}=n;if(t===void 0)return;const a=(0,Ra._)`${o}${(0,Ra.getProperty)(e)}`;if(i){(0,oN.checkStrictMode)(n,`default is ignored for: ${a}`);return}let l=(0,Ra._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,Ra._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,Ra._)`${a} = ${(0,Ra.stringify)(t)}`)}var ho={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateUnion=Tt.validateArray=Tt.usePattern=Tt.callValidateCode=Tt.schemaProperties=Tt.allSchemaProperties=Tt.noPropertyInData=Tt.propertyInData=Tt.isOwnProperty=Tt.hasPropFunc=Tt.reportMissingProp=Tt.checkMissingProp=Tt.checkReportMissingProp=void 0;const mn=Nt,Q0=Ue,as=Oo,aN=Ue;function lN(n,e){const{gen:t,data:r,it:i}=n;t.if(X0(t,r,e,i.opts.ownProperties),()=>{n.setParams({missingProperty:(0,mn._)`${e}`},!0),n.error()})}Tt.checkReportMissingProp=lN;function cN({gen:n,data:e,it:{opts:t}},r,i){return(0,mn.or)(...r.map(o=>(0,mn.and)(X0(n,e,o,t.ownProperties),(0,mn._)`${i} = ${o}`)))}Tt.checkMissingProp=cN;function uN(n,e){n.setParams({missingProperty:e},!0),n.error()}Tt.reportMissingProp=uN;function G4(n){return n.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,mn._)`Object.prototype.hasOwnProperty`})}Tt.hasPropFunc=G4;function Y0(n,e,t){return(0,mn._)`${G4(n)}.call(${e}, ${t})`}Tt.isOwnProperty=Y0;function dN(n,e,t,r){const i=(0,mn._)`${e}${(0,mn.getProperty)(t)} !== undefined`;return r?(0,mn._)`${i} && ${Y0(n,e,t)}`:i}Tt.propertyInData=dN;function X0(n,e,t,r){const i=(0,mn._)`${e}${(0,mn.getProperty)(t)} === undefined`;return r?(0,mn.or)(i,(0,mn.not)(Y0(n,e,t))):i}Tt.noPropertyInData=X0;function J4(n){return n?Object.keys(n).filter(e=>e!=="__proto__"):[]}Tt.allSchemaProperties=J4;function fN(n,e){return J4(e).filter(t=>!(0,Q0.alwaysValidSchema)(n,e[t]))}Tt.schemaProperties=fN;function hN({schemaCode:n,data:e,it:{gen:t,topSchemaRef:r,schemaPath:i,errorPath:o},it:s},a,l,c){const u=c?(0,mn._)`${n}, ${e}, ${r}${i}`:e,d=[[as.default.instancePath,(0,mn.strConcat)(as.default.instancePath,o)],[as.default.parentData,s.parentData],[as.default.parentDataProperty,s.parentDataProperty],[as.default.rootData,as.default.rootData]];s.opts.dynamicRef&&d.push([as.default.dynamicAnchors,as.default.dynamicAnchors]);const f=(0,mn._)`${u}, ${t.object(...d)}`;return l!==mn.nil?(0,mn._)`${a}.call(${l}, ${f})`:(0,mn._)`${a}(${f})`}Tt.callValidateCode=hN;const pN=(0,mn._)`new RegExp`;function mN({gen:n,it:{opts:e}},t){const r=e.unicodeRegExp?"u":"",{regExp:i}=e.code,o=i(t,r);return n.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,mn._)`${i.code==="new RegExp"?pN:(0,aN.useFunc)(n,i)}(${t}, ${r})`})}Tt.usePattern=mN;function gN(n){const{gen:e,data:t,keyword:r,it:i}=n,o=e.name("valid");if(i.allErrors){const a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(o,!0),s(()=>e.break()),o;function s(a){const l=e.const("len",(0,mn._)`${t}.length`);e.forRange("i",0,l,c=>{n.subschema({keyword:r,dataProp:c,dataPropType:Q0.Type.Num},o),e.if((0,mn.not)(o),a)})}}Tt.validateArray=gN;function vN(n){const{gen:e,schema:t,keyword:r,it:i}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(l=>(0,Q0.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=e.let("valid",!1),a=e.name("_valid");e.block(()=>t.forEach((l,c)=>{const u=n.subschema({keyword:r,schemaProp:c,compositeRule:!0},a);e.assign(s,(0,mn._)`${s} || ${a}`),n.mergeValidEvaluated(u,a)||e.if((0,mn.not)(s))})),n.result(s,()=>n.reset(),()=>n.error(!0))}Tt.validateUnion=vN;Object.defineProperty(ho,"__esModule",{value:!0});ho.validateKeywordUsage=ho.validSchemaType=ho.funcKeywordCode=ho.macroKeywordCode=void 0;const Sr=Nt,ta=Oo,yN=Tt,bN=xu;function xN(n,e){const{gen:t,keyword:r,schema:i,parentSchema:o,it:s}=n,a=e.macro.call(s.self,i,o,s),l=Q4(t,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const c=t.name("valid");n.subschema({schema:a,schemaPath:Sr.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},c),n.pass(c,()=>n.error(!0))}ho.macroKeywordCode=xN;function wN(n,e){var t;const{gen:r,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=n;$N(l,e);const c=!a&&e.compile?e.compile.call(l.self,o,s,l):e.validate,u=Q4(r,i,c),d=r.let("valid");n.block$data(d,f),n.ok((t=e.valid)!==null&&t!==void 0?t:d);function f(){if(e.errors===!1)g(),e.modifying&&Jb(n),v(()=>n.error());else{const m=e.async?h():p();e.modifying&&Jb(n),v(()=>jN(n,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,Sr._)`await `),y=>r.assign(d,!1).if((0,Sr._)`${y} instanceof ${l.ValidationError}`,()=>r.assign(m,(0,Sr._)`${y}.errors`),()=>r.throw(y))),m}function p(){const m=(0,Sr._)`${u}.errors`;return r.assign(m,null),g(Sr.nil),m}function g(m=e.async?(0,Sr._)`await `:Sr.nil){const y=l.opts.passContext?ta.default.this:ta.default.self,b=!("compile"in e&&!a||e.schema===!1);r.assign(d,(0,Sr._)`${m}${(0,yN.callValidateCode)(n,u,y,b)}`,e.modifying)}function v(m){var y;r.if((0,Sr.not)((y=e.valid)!==null&&y!==void 0?y:d),m)}}ho.funcKeywordCode=wN;function Jb(n){const{gen:e,data:t,it:r}=n;e.if(r.parentData,()=>e.assign(t,(0,Sr._)`${r.parentData}[${r.parentDataProperty}]`))}function jN(n,e){const{gen:t}=n;t.if((0,Sr._)`Array.isArray(${e})`,()=>{t.assign(ta.default.vErrors,(0,Sr._)`${ta.default.vErrors} === null ? ${e} : ${ta.default.vErrors}.concat(${e})`).assign(ta.default.errors,(0,Sr._)`${ta.default.vErrors}.length`),(0,bN.extendErrors)(n)},()=>n.error())}function $N({schemaEnv:n},e){if(e.async&&!n.$async)throw new Error("async keyword in sync schema")}function Q4(n,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return n.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Sr.stringify)(t)})}function kN(n,e,t=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(n):r==="object"?n&&typeof n=="object"&&!Array.isArray(n):typeof n==r||t&&typeof n>"u")}ho.validSchemaType=kN;function CN({schema:n,opts:e,self:t,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(n,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(n[o])){const l=`keyword "${o}" value is invalid at path "${r}": `+t.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(l);else throw new Error(l)}}ho.validateKeywordUsage=CN;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.extendSubschemaMode=Os.extendSubschemaData=Os.getSubschema=void 0;const ao=Nt,Y4=Ue;function SN(n,{keyword:e,schemaProp:t,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const a=n.schema[e];return t===void 0?{schema:a,schemaPath:(0,ao._)`${n.schemaPath}${(0,ao.getProperty)(e)}`,errSchemaPath:`${n.errSchemaPath}/${e}`}:{schema:a[t],schemaPath:(0,ao._)`${n.schemaPath}${(0,ao.getProperty)(e)}${(0,ao.getProperty)(t)}`,errSchemaPath:`${n.errSchemaPath}/${e}/${(0,Y4.escapeFragment)(t)}`}}if(r!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Os.getSubschema=SN;function ON(n,e,{dataProp:t,dataPropType:r,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=e;if(t!==void 0){const{errorPath:c,dataPathArr:u,opts:d}=e,f=a.let("data",(0,ao._)`${e.data}${(0,ao.getProperty)(t)}`,!0);l(f),n.errorPath=(0,ao.str)`${c}${(0,Y4.getErrorPath)(t,r,d.jsPropertySyntax)}`,n.parentDataProperty=(0,ao._)`${t}`,n.dataPathArr=[...u,n.parentDataProperty]}if(i!==void 0){const c=i instanceof ao.Name?i:a.let("data",i,!0);l(c),s!==void 0&&(n.propertyName=s)}o&&(n.dataTypes=o);function l(c){n.data=c,n.dataLevel=e.dataLevel+1,n.dataTypes=[],e.definedProperties=new Set,n.parentData=e.data,n.dataNames=[...e.dataNames,c]}}Os.extendSubschemaData=ON;function EN(n,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(n.compositeRule=r),i!==void 0&&(n.createErrors=i),o!==void 0&&(n.allErrors=o),n.jtdDiscriminator=e,n.jtdMetadata=t}Os.extendSubschemaMode=EN;var hr={},X4=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},Z4={exports:{}},ws=Z4.exports=function(n,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var r=typeof t=="function"?t:t.pre||function(){},i=t.post||function(){};Ud(e,r,i,n,"",n)};ws.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ws.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ws.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ws.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ud(n,e,t,r,i,o,s,a,l,c){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,o,s,a,l,c);for(var u in r){var d=r[u];if(Array.isArray(d)){if(u in ws.arrayKeywords)for(var f=0;f<d.length;f++)Ud(n,e,t,d[f],i+"/"+u+"/"+f,o,i,u,r,f)}else if(u in ws.propsKeywords){if(d&&typeof d=="object")for(var h in d)Ud(n,e,t,d[h],i+"/"+u+"/"+AN(h),o,i,u,r,h)}else(u in ws.keywords||n.allKeys&&!(u in ws.skipKeywords))&&Ud(n,e,t,d,i+"/"+u,o,i,u,r)}t(r,i,o,s,a,l,c)}}function AN(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}var MN=Z4.exports;Object.defineProperty(hr,"__esModule",{value:!0});hr.getSchemaRefs=hr.resolveUrl=hr.normalizeId=hr._getFullPath=hr.getFullPath=hr.inlineRef=void 0;const PN=Ue,_N=X4,TN=MN,RN=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function NN(n,e=!0){return typeof n=="boolean"?!0:e===!0?!mg(n):e?e3(n)<=e:!1}hr.inlineRef=NN;const DN=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function mg(n){for(const e in n){if(DN.has(e))return!0;const t=n[e];if(Array.isArray(t)&&t.some(mg)||typeof t=="object"&&mg(t))return!0}return!1}function e3(n){let e=0;for(const t in n){if(t==="$ref")return 1/0;if(e++,!RN.has(t)&&(typeof n[t]=="object"&&(0,PN.eachItem)(n[t],r=>e+=e3(r)),e===1/0))return 1/0}return e}function t3(n,e="",t){t!==!1&&(e=fl(e));const r=n.parse(e);return n3(n,r)}hr.getFullPath=t3;function n3(n,e){return n.serialize(e).split("#")[0]+"#"}hr._getFullPath=n3;const IN=/#\/?$/;function fl(n){return n?n.replace(IN,""):""}hr.normalizeId=fl;function zN(n,e,t){return t=fl(t),n.resolve(e,t)}hr.resolveUrl=zN;const LN=/^[a-z_][-a-z0-9._]*$/i;function BN(n,e){if(typeof n=="boolean")return{};const{schemaId:t,uriResolver:r}=this.opts,i=fl(n[t]||e),o={"":i},s=t3(r,i,!1),a={},l=new Set;return TN(n,{allKeys:!0},(d,f,h,p)=>{if(p===void 0)return;const g=s+f;let v=o[p];typeof d[t]=="string"&&(v=m.call(this,d[t])),y.call(this,d.$anchor),y.call(this,d.$dynamicAnchor),o[f]=v;function m(b){const j=this.opts.uriResolver.resolve;if(b=fl(v?j(v,b):b),l.has(b))throw u(b);l.add(b);let x=this.refs[b];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?c(d,x.schema,b):b!==fl(g)&&(b[0]==="#"?(c(d,a[b],b),a[b]=d):this.refs[b]=g),b}function y(b){if(typeof b=="string"){if(!LN.test(b))throw new Error(`invalid anchor "${b}"`);m.call(this,`#${b}`)}}}),a;function c(d,f,h){if(f!==void 0&&!_N(d,f))throw u(h)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}hr.getSchemaRefs=BN;Object.defineProperty(Ii,"__esModule",{value:!0});Ii.getData=Ii.KeywordCxt=Ii.validateFunctionCode=void 0;const r3=kl,Qb=Gn,Z0=qo,Nf=Gn,qN=Eh,Cc=ho,_p=Os,ot=Nt,vt=Oo,FN=hr,Fo=Ue,rc=xu;function VN(n){if(s3(n)&&(a3(n),o3(n))){WN(n);return}i3(n,()=>(0,r3.topBoolOrEmptySchema)(n))}Ii.validateFunctionCode=VN;function i3({gen:n,validateName:e,schema:t,schemaEnv:r,opts:i},o){i.code.es5?n.func(e,(0,ot._)`${vt.default.data}, ${vt.default.valCxt}`,r.$async,()=>{n.code((0,ot._)`"use strict"; ${Yb(t,i)}`),HN(n,i),n.code(o)}):n.func(e,(0,ot._)`${vt.default.data}, ${UN(i)}`,r.$async,()=>n.code(Yb(t,i)).code(o))}function UN(n){return(0,ot._)`{${vt.default.instancePath}="", ${vt.default.parentData}, ${vt.default.parentDataProperty}, ${vt.default.rootData}=${vt.default.data}${n.dynamicRef?(0,ot._)`, ${vt.default.dynamicAnchors}={}`:ot.nil}}={}`}function HN(n,e){n.if(vt.default.valCxt,()=>{n.var(vt.default.instancePath,(0,ot._)`${vt.default.valCxt}.${vt.default.instancePath}`),n.var(vt.default.parentData,(0,ot._)`${vt.default.valCxt}.${vt.default.parentData}`),n.var(vt.default.parentDataProperty,(0,ot._)`${vt.default.valCxt}.${vt.default.parentDataProperty}`),n.var(vt.default.rootData,(0,ot._)`${vt.default.valCxt}.${vt.default.rootData}`),e.dynamicRef&&n.var(vt.default.dynamicAnchors,(0,ot._)`${vt.default.valCxt}.${vt.default.dynamicAnchors}`)},()=>{n.var(vt.default.instancePath,(0,ot._)`""`),n.var(vt.default.parentData,(0,ot._)`undefined`),n.var(vt.default.parentDataProperty,(0,ot._)`undefined`),n.var(vt.default.rootData,vt.default.data),e.dynamicRef&&n.var(vt.default.dynamicAnchors,(0,ot._)`{}`)})}function WN(n){const{schema:e,opts:t,gen:r}=n;i3(n,()=>{t.$comment&&e.$comment&&c3(n),YN(n),r.let(vt.default.vErrors,null),r.let(vt.default.errors,0),t.unevaluated&&KN(n),l3(n),eD(n)})}function KN(n){const{gen:e,validateName:t}=n;n.evaluated=e.const("evaluated",(0,ot._)`${t}.evaluated`),e.if((0,ot._)`${n.evaluated}.dynamicProps`,()=>e.assign((0,ot._)`${n.evaluated}.props`,(0,ot._)`undefined`)),e.if((0,ot._)`${n.evaluated}.dynamicItems`,()=>e.assign((0,ot._)`${n.evaluated}.items`,(0,ot._)`undefined`))}function Yb(n,e){const t=typeof n=="object"&&n[e.schemaId];return t&&(e.code.source||e.code.process)?(0,ot._)`/*# sourceURL=${t} */`:ot.nil}function GN(n,e){if(s3(n)&&(a3(n),o3(n))){JN(n,e);return}(0,r3.boolOrEmptySchema)(n,e)}function o3({schema:n,self:e}){if(typeof n=="boolean")return!n;for(const t in n)if(e.RULES.all[t])return!0;return!1}function s3(n){return typeof n.schema!="boolean"}function JN(n,e){const{schema:t,gen:r,opts:i}=n;i.$comment&&t.$comment&&c3(n),XN(n),ZN(n);const o=r.const("_errs",vt.default.errors);l3(n,o),r.var(e,(0,ot._)`${o} === ${vt.default.errors}`)}function a3(n){(0,Fo.checkUnknownRules)(n),QN(n)}function l3(n,e){if(n.opts.jtd)return Xb(n,[],!1,e);const t=(0,Qb.getSchemaTypes)(n.schema),r=(0,Qb.coerceAndCheckDataType)(n,t);Xb(n,t,!r,e)}function QN(n){const{schema:e,errSchemaPath:t,opts:r,self:i}=n;e.$ref&&r.ignoreKeywordsWithRef&&(0,Fo.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function YN(n){const{schema:e,opts:t}=n;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,Fo.checkStrictMode)(n,"default is ignored in the schema root")}function XN(n){const e=n.schema[n.opts.schemaId];e&&(n.baseId=(0,FN.resolveUrl)(n.opts.uriResolver,n.baseId,e))}function ZN(n){if(n.schema.$async&&!n.schemaEnv.$async)throw new Error("async schema in sync schema")}function c3({gen:n,schemaEnv:e,schema:t,errSchemaPath:r,opts:i}){const o=t.$comment;if(i.$comment===!0)n.code((0,ot._)`${vt.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,ot.str)`${r}/$comment`,a=n.scopeValue("root",{ref:e.root});n.code((0,ot._)`${vt.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function eD(n){const{gen:e,schemaEnv:t,validateName:r,ValidationError:i,opts:o}=n;t.$async?e.if((0,ot._)`${vt.default.errors} === 0`,()=>e.return(vt.default.data),()=>e.throw((0,ot._)`new ${i}(${vt.default.vErrors})`)):(e.assign((0,ot._)`${r}.errors`,vt.default.vErrors),o.unevaluated&&tD(n),e.return((0,ot._)`${vt.default.errors} === 0`))}function tD({gen:n,evaluated:e,props:t,items:r}){t instanceof ot.Name&&n.assign((0,ot._)`${e}.props`,t),r instanceof ot.Name&&n.assign((0,ot._)`${e}.items`,r)}function Xb(n,e,t,r){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:c}=n,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Fo.schemaHasRulesButRef)(o,u))){i.block(()=>f3(n,"$ref",u.all.$ref.definition));return}l.jtd||nD(n,e),i.block(()=>{for(const f of u.rules)d(f);d(u.post)});function d(f){(0,Z0.shouldUseGroup)(o,f)&&(f.type?(i.if((0,Nf.checkDataType)(f.type,s,l.strictNumbers)),Zb(n,f),e.length===1&&e[0]===f.type&&t&&(i.else(),(0,Nf.reportTypeError)(n)),i.endIf()):Zb(n,f),a||i.if((0,ot._)`${vt.default.errors} === ${r||0}`))}}function Zb(n,e){const{gen:t,schema:r,opts:{useDefaults:i}}=n;i&&(0,qN.assignDefaults)(n,e.type),t.block(()=>{for(const o of e.rules)(0,Z0.shouldUseRule)(r,o)&&f3(n,o.keyword,o.definition,e.type)})}function nD(n,e){n.schemaEnv.meta||!n.opts.strictTypes||(rD(n,e),n.opts.allowUnionTypes||iD(n,e),oD(n,n.dataTypes))}function rD(n,e){if(e.length){if(!n.dataTypes.length){n.dataTypes=e;return}e.forEach(t=>{u3(n.dataTypes,t)||ev(n,`type "${t}" not allowed by context "${n.dataTypes.join(",")}"`)}),aD(n,e)}}function iD(n,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ev(n,"use allowUnionTypes to allow union type keyword")}function oD(n,e){const t=n.self.RULES.all;for(const r in t){const i=t[r];if(typeof i=="object"&&(0,Z0.shouldUseRule)(n.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>sD(e,s))&&ev(n,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function sD(n,e){return n.includes(e)||e==="number"&&n.includes("integer")}function u3(n,e){return n.includes(e)||e==="integer"&&n.includes("number")}function aD(n,e){const t=[];for(const r of n.dataTypes)u3(e,r)?t.push(r):e.includes("integer")&&r==="number"&&t.push("integer");n.dataTypes=t}function ev(n,e){const t=n.schemaEnv.baseId+n.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,Fo.checkStrictMode)(n,e,n.opts.strictTypes)}class d3{constructor(e,t,r){if((0,Cc.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Fo.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",h3(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Cc.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",vt.default.errors))}result(e,t,r){this.failResult((0,ot.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,ot.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail((0,ot._)`${t} !== undefined && (${(0,ot.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?rc.reportExtraError:rc.reportError)(this,this.def.error,t)}$dataError(){(0,rc.reportError)(this,this.def.$dataError||rc.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,rc.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=ot.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=ot.nil,t=ot.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:o,def:s}=this;r.if((0,ot.or)((0,ot._)`${i} === undefined`,t)),e!==ot.nil&&r.assign(e,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==ot.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:i,it:o}=this;return(0,ot.or)(s(),a());function s(){if(r.length){if(!(t instanceof ot.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,ot._)`${(0,Nf.checkDataTypes)(l,t,o.opts.strictNumbers,Nf.DataType.Wrong)}`}return ot.nil}function a(){if(i.validateSchema){const l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,ot._)`!${l}(${t})`}return ot.nil}}subschema(e,t){const r=(0,_p.getSubschema)(this.it,e);(0,_p.extendSubschemaData)(r,this.it,e),(0,_p.extendSubschemaMode)(r,e);const i={...this.it,...r,items:void 0,props:void 0};return GN(i,t),i}mergeEvaluated(e,t){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=Fo.mergeEvaluated.props(i,e.props,r.props,t)),r.items!==!0&&e.items!==void 0&&(r.items=Fo.mergeEvaluated.items(i,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(t,()=>this.mergeEvaluated(e,ot.Name)),!0}}Ii.KeywordCxt=d3;function f3(n,e,t,r){const i=new d3(n,t,e);"code"in t?t.code(i,r):i.$data&&t.validate?(0,Cc.funcKeywordCode)(i,t):"macro"in t?(0,Cc.macroKeywordCode)(i,t):(t.compile||t.validate)&&(0,Cc.funcKeywordCode)(i,t)}const lD=/^\/(?:[^~]|~0|~1)*$/,cD=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function h3(n,{dataLevel:e,dataNames:t,dataPathArr:r}){let i,o;if(n==="")return vt.default.rootData;if(n[0]==="/"){if(!lD.test(n))throw new Error(`Invalid JSON-pointer: ${n}`);i=n,o=vt.default.rootData}else{const c=cD.exec(n);if(!c)throw new Error(`Invalid JSON-pointer: ${n}`);const u=+c[1];if(i=c[2],i==="#"){if(u>=e)throw new Error(l("property/index",u));return r[e-u]}if(u>e)throw new Error(l("data",u));if(o=t[e-u],!i)return o}let s=o;const a=i.split("/");for(const c of a)c&&(o=(0,ot._)`${o}${(0,ot.getProperty)((0,Fo.unescapeJsonPointer)(c))}`,s=(0,ot._)`${s} && ${o}`);return s;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}Ii.getData=h3;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});class uD extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}wu.default=uD;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});const Tp=hr;class dD extends Error{constructor(e,t,r,i){super(i||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,Tp.resolveUrl)(e,t,r),this.missingSchema=(0,Tp.normalizeId)((0,Tp.getFullPath)(e,this.missingRef))}}Ll.default=dD;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.resolveSchema=Ir.getCompilingSchema=Ir.resolveRef=Ir.compileSchema=Ir.SchemaEnv=void 0;const Oi=Nt,fD=wu,Xs=Oo,Pi=hr,ex=Ue,hD=Ii;class Ah{constructor(e){var t;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,Pi.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ir.SchemaEnv=Ah;function tv(n){const e=p3.call(this,n);if(e)return e;const t=(0,Pi.getFullPath)(this.opts.uriResolver,n.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new Oi.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o});let a;n.$async&&(a=s.scopeValue("Error",{ref:fD.default,code:(0,Oi._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");n.validateName=l;const c={gen:s,allErrors:this.opts.allErrors,data:Xs.default.data,parentData:Xs.default.parentData,parentDataProperty:Xs.default.parentDataProperty,dataNames:[Xs.default.data],dataPathArr:[Oi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:n.schema,code:(0,Oi.stringify)(n.schema)}:{ref:n.schema}),validateName:l,ValidationError:a,schema:n.schema,schemaEnv:n,rootId:t,baseId:n.baseId||t,schemaPath:Oi.nil,errSchemaPath:n.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Oi._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(n),(0,hD.validateFunctionCode)(c),s.optimize(this.opts.code.optimize);const d=s.toString();u=`${s.scopeRefs(Xs.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,n));const h=new Function(`${Xs.default.self}`,`${Xs.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=n.schema,h.schemaEnv=n,n.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){const{props:p,items:g}=c;h.evaluated={props:p instanceof Oi.Name?void 0:p,items:g instanceof Oi.Name?void 0:g,dynamicProps:p instanceof Oi.Name,dynamicItems:g instanceof Oi.Name},h.source&&(h.source.evaluated=(0,Oi.stringify)(h.evaluated))}return n.validate=h,n}catch(d){throw delete n.validate,delete n.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(n)}}Ir.compileSchema=tv;function pD(n,e,t){var r;t=(0,Pi.resolveUrl)(this.opts.uriResolver,e,t);const i=n.refs[t];if(i)return i;let o=vD.call(this,n,t);if(o===void 0){const s=(r=n.localRefs)===null||r===void 0?void 0:r[t],{schemaId:a}=this.opts;s&&(o=new Ah({schema:s,schemaId:a,root:n,baseId:e}))}if(o!==void 0)return n.refs[t]=mD.call(this,o)}Ir.resolveRef=pD;function mD(n){return(0,Pi.inlineRef)(n.schema,this.opts.inlineRefs)?n.schema:n.validate?n:tv.call(this,n)}function p3(n){for(const e of this._compilations)if(gD(e,n))return e}Ir.getCompilingSchema=p3;function gD(n,e){return n.schema===e.schema&&n.root===e.root&&n.baseId===e.baseId}function vD(n,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||Mh.call(this,n,e)}function Mh(n,e){const t=this.opts.uriResolver.parse(e),r=(0,Pi._getFullPath)(this.opts.uriResolver,t);let i=(0,Pi.getFullPath)(this.opts.uriResolver,n.baseId,void 0);if(Object.keys(n.schema).length>0&&r===i)return Rp.call(this,t,n);const o=(0,Pi.normalizeId)(r),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=Mh.call(this,n,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:Rp.call(this,t,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||tv.call(this,s),o===(0,Pi.normalizeId)(e)){const{schema:a}=s,{schemaId:l}=this.opts,c=a[l];return c&&(i=(0,Pi.resolveUrl)(this.opts.uriResolver,i,c)),new Ah({schema:a,schemaId:l,root:n,baseId:i})}return Rp.call(this,t,s)}}Ir.resolveSchema=Mh;const yD=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Rp(n,{baseId:e,schema:t,root:r}){var i;if(((i=n.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of n.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const l=t[(0,ex.unescapeFragment)(a)];if(l===void 0)return;t=l;const c=typeof t=="object"&&t[this.opts.schemaId];!yD.has(a)&&c&&(e=(0,Pi.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,ex.schemaHasRulesButRef)(t,this.RULES)){const a=(0,Pi.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=Mh.call(this,r,a)}const{schemaId:s}=this.opts;if(o=o||new Ah({schema:t,schemaId:s,root:r,baseId:e}),o.schema!==o.root.schema)return o}const bD="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",xD="Meta-schema for $data reference (JSON AnySchema extension proposal)",wD="object",jD=["$data"],$D={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},kD=!1,CD={$id:bD,description:xD,type:wD,required:jD,properties:$D,additionalProperties:kD};var nv={},Ph={exports:{}};const SD={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var OD={HEX:SD};const{HEX:ED}=OD;function m3(n){if(v3(n,".")<3)return{host:n,isIPV4:!1};const e=n.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[t]=e;return t?{host:MD(t,"."),isIPV4:!0}:{host:n,isIPV4:!1}}function gg(n,e=!1){let t="",r=!0;for(const i of n){if(ED[i]===void 0)return;i!=="0"&&r===!0&&(r=!1),r||(t+=i)}return e&&t.length===0&&(t="0"),t}function AD(n){let e=0;const t={error:!1,address:"",zone:""},r=[],i=[];let o=!1,s=!1,a=!1;function l(){if(i.length){if(o===!1){const c=gg(i);if(c!==void 0)r.push(c);else return t.error=!0,!1}i.length=0}return!0}for(let c=0;c<n.length;c++){const u=n[c];if(!(u==="["||u==="]"))if(u===":"){if(s===!0&&(a=!0),!l())break;if(e++,r.push(":"),e>7){t.error=!0;break}c-1>=0&&n[c-1]===":"&&(s=!0);continue}else if(u==="%"){if(!l())break;o=!0}else{i.push(u);continue}}return i.length&&(o?t.zone=i.join(""):a?r.push(i.join("")):r.push(gg(i))),t.address=r.join(""),t}function g3(n,e={}){if(v3(n,":")<2)return{host:n,isIPV6:!1};const t=AD(n);if(t.error)return{host:n,isIPV6:!1};{let r=t.address,i=t.address;return t.zone&&(r+="%"+t.zone,i+="%25"+t.zone),{host:r,escapedHost:i,isIPV6:!0}}}function MD(n,e){let t="",r=!0;const i=n.length;for(let o=0;o<i;o++){const s=n[o];s==="0"&&r?(o+1<=i&&n[o+1]===e||o+1===i)&&(t+=s,r=!1):(s===e?r=!0:r=!1,t+=s)}return t}function v3(n,e){let t=0;for(let r=0;r<n.length;r++)n[r]===e&&t++;return t}const tx=/^\.\.?\//u,nx=/^\/\.(?:\/|$)/u,rx=/^\/\.\.(?:\/|$)/u,PD=/^\/?(?:.|\n)*?(?=\/|$)/u;function _D(n){const e=[];for(;n.length;)if(n.match(tx))n=n.replace(tx,"");else if(n.match(nx))n=n.replace(nx,"/");else if(n.match(rx))n=n.replace(rx,"/"),e.pop();else if(n==="."||n==="..")n="";else{const t=n.match(PD);if(t){const r=t[0];n=n.slice(r.length),e.push(r)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function TD(n,e){const t=e!==!0?escape:unescape;return n.scheme!==void 0&&(n.scheme=t(n.scheme)),n.userinfo!==void 0&&(n.userinfo=t(n.userinfo)),n.host!==void 0&&(n.host=t(n.host)),n.path!==void 0&&(n.path=t(n.path)),n.query!==void 0&&(n.query=t(n.query)),n.fragment!==void 0&&(n.fragment=t(n.fragment)),n}function RD(n,e){const t=[];if(n.userinfo!==void 0&&(t.push(n.userinfo),t.push("@")),n.host!==void 0){let r=unescape(n.host);const i=m3(r);if(i.isIPV4)r=i.host;else{const o=g3(i.host,{isIPV4:!1});o.isIPV6===!0?r=`[${o.escapedHost}]`:r=n.host}t.push(r)}return(typeof n.port=="number"||typeof n.port=="string")&&(t.push(":"),t.push(String(n.port))),t.length?t.join(""):void 0}var ND={recomposeAuthority:RD,normalizeComponentEncoding:TD,removeDotSegments:_D,normalizeIPv4:m3,normalizeIPv6:g3,stringArrayToHexStripped:gg};const DD=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,ID=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function y3(n){return typeof n.secure=="boolean"?n.secure:String(n.scheme).toLowerCase()==="wss"}function b3(n){return n.host||(n.error=n.error||"HTTP URIs must have a host."),n}function x3(n){const e=String(n.scheme).toLowerCase()==="https";return(n.port===(e?443:80)||n.port==="")&&(n.port=void 0),n.path||(n.path="/"),n}function zD(n){return n.secure=y3(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n}function LD(n){if((n.port===(y3(n)?443:80)||n.port==="")&&(n.port=void 0),typeof n.secure=="boolean"&&(n.scheme=n.secure?"wss":"ws",n.secure=void 0),n.resourceName){const[e,t]=n.resourceName.split("?");n.path=e&&e!=="/"?e:void 0,n.query=t,n.resourceName=void 0}return n.fragment=void 0,n}function BD(n,e){if(!n.path)return n.error="URN can not be parsed",n;const t=n.path.match(ID);if(t){const r=e.scheme||n.scheme||"urn";n.nid=t[1].toLowerCase(),n.nss=t[2];const i=`${r}:${e.nid||n.nid}`,o=rv[i];n.path=void 0,o&&(n=o.parse(n,e))}else n.error=n.error||"URN can not be parsed.";return n}function qD(n,e){const t=e.scheme||n.scheme||"urn",r=n.nid.toLowerCase(),i=`${t}:${e.nid||r}`,o=rv[i];o&&(n=o.serialize(n,e));const s=n,a=n.nss;return s.path=`${r||e.nid}:${a}`,e.skipEscape=!0,s}function FD(n,e){const t=n;return t.uuid=t.nss,t.nss=void 0,!e.tolerant&&(!t.uuid||!DD.test(t.uuid))&&(t.error=t.error||"UUID is not valid."),t}function VD(n){const e=n;return e.nss=(n.uuid||"").toLowerCase(),e}const w3={scheme:"http",domainHost:!0,parse:b3,serialize:x3},UD={scheme:"https",domainHost:w3.domainHost,parse:b3,serialize:x3},Hd={scheme:"ws",domainHost:!0,parse:zD,serialize:LD},HD={scheme:"wss",domainHost:Hd.domainHost,parse:Hd.parse,serialize:Hd.serialize},WD={scheme:"urn",parse:BD,serialize:qD,skipNormalize:!0},KD={scheme:"urn:uuid",parse:FD,serialize:VD,skipNormalize:!0},rv={http:w3,https:UD,ws:Hd,wss:HD,urn:WD,"urn:uuid":KD};var GD=rv;const{normalizeIPv6:JD,normalizeIPv4:QD,removeDotSegments:pc,recomposeAuthority:YD,normalizeComponentEncoding:fd}=ND,iv=GD;function XD(n,e){return typeof n=="string"?n=po(Ko(n,e),e):typeof n=="object"&&(n=Ko(po(n,e),e)),n}function ZD(n,e,t){const r=Object.assign({scheme:"null"},t),i=j3(Ko(n,r),Ko(e,r),r,!0);return po(i,{...r,skipEscape:!0})}function j3(n,e,t,r){const i={};return r||(n=Ko(po(n,t),t),e=Ko(po(e,t),t)),t=t||{},!t.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=pc(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=pc(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=pc(e.path):((n.userinfo!==void 0||n.host!==void 0||n.port!==void 0)&&!n.path?i.path="/"+e.path:n.path?i.path=n.path.slice(0,n.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=pc(i.path)),i.query=e.query):(i.path=n.path,e.query!==void 0?i.query=e.query:i.query=n.query),i.userinfo=n.userinfo,i.host=n.host,i.port=n.port),i.scheme=n.scheme),i.fragment=e.fragment,i}function eI(n,e,t){return typeof n=="string"?(n=unescape(n),n=po(fd(Ko(n,t),!0),{...t,skipEscape:!0})):typeof n=="object"&&(n=po(fd(n,!0),{...t,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=po(fd(Ko(e,t),!0),{...t,skipEscape:!0})):typeof e=="object"&&(e=po(fd(e,!0),{...t,skipEscape:!0})),n.toLowerCase()===e.toLowerCase()}function po(n,e){const t={host:n.host,scheme:n.scheme,userinfo:n.userinfo,port:n.port,path:n.path,query:n.query,nid:n.nid,nss:n.nss,uuid:n.uuid,fragment:n.fragment,reference:n.reference,resourceName:n.resourceName,secure:n.secure,error:""},r=Object.assign({},e),i=[],o=iv[(r.scheme||t.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(t,r),t.path!==void 0&&(r.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),r.reference!=="suffix"&&t.scheme&&i.push(t.scheme,":");const s=YD(t,r);if(s!==void 0&&(r.reference!=="suffix"&&i.push("//"),i.push(s),t.path&&t.path.charAt(0)!=="/"&&i.push("/")),t.path!==void 0){let a=t.path;!r.absolutePath&&(!o||!o.absolutePath)&&(a=pc(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return t.query!==void 0&&i.push("?",t.query),t.fragment!==void 0&&i.push("#",t.fragment),i.join("")}const tI=Array.from({length:127},(n,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function nI(n){let e=0;for(let t=0,r=n.length;t<r;++t)if(e=n.charCodeAt(t),e>126||tI[e])return!0;return!1}const rI=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ko(n,e){const t=Object.assign({},e),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=n.indexOf("%")!==-1;let o=!1;t.reference==="suffix"&&(n=(t.scheme?t.scheme+":":"")+"//"+n);const s=n.match(rI);if(s){if(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5]),r.host){const l=QD(r.host);if(l.isIPV4===!1){const c=JD(l.host,{isIPV4:!1});r.host=c.host.toLowerCase(),o=c.isIPV6}else r.host=l.host,o=!0}r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&!r.path&&r.query===void 0?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");const a=iv[(t.scheme||r.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!a||!a.unicodeSupport)&&r.host&&(t.domainHost||a&&a.domainHost)&&o===!1&&nI(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(l){r.error=r.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(i&&r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),i&&r.host!==void 0&&(r.host=unescape(r.host)),r.path!==void 0&&r.path.length&&(r.path=escape(unescape(r.path))),r.fragment!==void 0&&r.fragment.length&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),a&&a.parse&&a.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}const ov={SCHEMES:iv,normalize:XD,resolve:ZD,resolveComponents:j3,equal:eI,serialize:po,parse:Ko};Ph.exports=ov;Ph.exports.default=ov;Ph.exports.fastUri=ov;var iI=Ph.exports;Object.defineProperty(nv,"__esModule",{value:!0});const $3=iI;$3.code='require("ajv/dist/runtime/uri").default';nv.default=$3;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var e=Ii;Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var t=Nt;Object.defineProperty(n,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const r=wu,i=Ll,o=ya,s=Ir,a=Nt,l=hr,c=Gn,u=Ue,d=CD,f=nv,h=(M,E)=>new RegExp(M,E);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function b(M){var E,ee,H,k,P,D,N,se,$e,Y,Pe,Ve,wt,jt,at,Fe,ye,Gt,Me,At,Ce,Je,ae,mt,we;const A=M.strict,V=(E=M.code)===null||E===void 0?void 0:E.optimize,X=V===!0||V===void 0?1:V||0,oe=(H=(ee=M.code)===null||ee===void 0?void 0:ee.regExp)!==null&&H!==void 0?H:h,me=(k=M.uriResolver)!==null&&k!==void 0?k:f.default;return{strictSchema:(D=(P=M.strictSchema)!==null&&P!==void 0?P:A)!==null&&D!==void 0?D:!0,strictNumbers:(se=(N=M.strictNumbers)!==null&&N!==void 0?N:A)!==null&&se!==void 0?se:!0,strictTypes:(Y=($e=M.strictTypes)!==null&&$e!==void 0?$e:A)!==null&&Y!==void 0?Y:"log",strictTuples:(Ve=(Pe=M.strictTuples)!==null&&Pe!==void 0?Pe:A)!==null&&Ve!==void 0?Ve:"log",strictRequired:(jt=(wt=M.strictRequired)!==null&&wt!==void 0?wt:A)!==null&&jt!==void 0?jt:!1,code:M.code?{...M.code,optimize:X,regExp:oe}:{optimize:X,regExp:oe},loopRequired:(at=M.loopRequired)!==null&&at!==void 0?at:y,loopEnum:(Fe=M.loopEnum)!==null&&Fe!==void 0?Fe:y,meta:(ye=M.meta)!==null&&ye!==void 0?ye:!0,messages:(Gt=M.messages)!==null&&Gt!==void 0?Gt:!0,inlineRefs:(Me=M.inlineRefs)!==null&&Me!==void 0?Me:!0,schemaId:(At=M.schemaId)!==null&&At!==void 0?At:"$id",addUsedSchema:(Ce=M.addUsedSchema)!==null&&Ce!==void 0?Ce:!0,validateSchema:(Je=M.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(ae=M.validateFormats)!==null&&ae!==void 0?ae:!0,unicodeRegExp:(mt=M.unicodeRegExp)!==null&&mt!==void 0?mt:!0,int32range:(we=M.int32range)!==null&&we!==void 0?we:!0,uriResolver:me}}class j{constructor(E={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,E=this.opts={...E,...b(E)};const{es5:ee,lines:H}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:ee,lines:H}),this.logger=Z(E.logger);const k=E.validateFormats;E.validateFormats=!1,this.RULES=(0,o.getRules)(),x.call(this,v,E,"NOT SUPPORTED"),x.call(this,m,E,"DEPRECATED","warn"),this._metaOpts=F.call(this),E.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),E.keywords&&R.call(this,E.keywords),typeof E.meta=="object"&&this.addMetaSchema(E.meta),_.call(this),E.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:E,meta:ee,schemaId:H}=this.opts;let k=d;H==="id"&&(k={...d},k.id=k.$id,delete k.$id),ee&&E&&this.addMetaSchema(k,k[H],!1)}defaultMeta(){const{meta:E,schemaId:ee}=this.opts;return this.opts.defaultMeta=typeof E=="object"?E[ee]||E:void 0}validate(E,ee){let H;if(typeof E=="string"){if(H=this.getSchema(E),!H)throw new Error(`no schema with key or ref "${E}"`)}else H=this.compile(E);const k=H(ee);return"$async"in H||(this.errors=H.errors),k}compile(E,ee){const H=this._addSchema(E,ee);return H.validate||this._compileSchemaEnv(H)}compileAsync(E,ee){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:H}=this.opts;return k.call(this,E,ee);async function k(Y,Pe){await P.call(this,Y.$schema);const Ve=this._addSchema(Y,Pe);return Ve.validate||D.call(this,Ve)}async function P(Y){Y&&!this.getSchema(Y)&&await k.call(this,{$ref:Y},!0)}async function D(Y){try{return this._compileSchemaEnv(Y)}catch(Pe){if(!(Pe instanceof i.default))throw Pe;return N.call(this,Pe),await se.call(this,Pe.missingSchema),D.call(this,Y)}}function N({missingSchema:Y,missingRef:Pe}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${Pe} cannot be resolved`)}async function se(Y){const Pe=await $e.call(this,Y);this.refs[Y]||await P.call(this,Pe.$schema),this.refs[Y]||this.addSchema(Pe,Y,ee)}async function $e(Y){const Pe=this._loading[Y];if(Pe)return Pe;try{return await(this._loading[Y]=H(Y))}finally{delete this._loading[Y]}}}addSchema(E,ee,H,k=this.opts.validateSchema){if(Array.isArray(E)){for(const D of E)this.addSchema(D,void 0,H,k);return this}let P;if(typeof E=="object"){const{schemaId:D}=this.opts;if(P=E[D],P!==void 0&&typeof P!="string")throw new Error(`schema ${D} must be string`)}return ee=(0,l.normalizeId)(ee||P),this._checkUnique(ee),this.schemas[ee]=this._addSchema(E,H,ee,k,!0),this}addMetaSchema(E,ee,H=this.opts.validateSchema){return this.addSchema(E,ee,!0,H),this}validateSchema(E,ee){if(typeof E=="boolean")return!0;let H;if(H=E.$schema,H!==void 0&&typeof H!="string")throw new Error("$schema must be a string");if(H=H||this.opts.defaultMeta||this.defaultMeta(),!H)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(H,E);if(!k&&ee){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return k}getSchema(E){let ee;for(;typeof(ee=S.call(this,E))=="string";)E=ee;if(ee===void 0){const{schemaId:H}=this.opts,k=new s.SchemaEnv({schema:{},schemaId:H});if(ee=s.resolveSchema.call(this,k,E),!ee)return;this.refs[E]=ee}return ee.validate||this._compileSchemaEnv(ee)}removeSchema(E){if(E instanceof RegExp)return this._removeAllSchemas(this.schemas,E),this._removeAllSchemas(this.refs,E),this;switch(typeof E){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ee=S.call(this,E);return typeof ee=="object"&&this._cache.delete(ee.schema),delete this.schemas[E],delete this.refs[E],this}case"object":{const ee=E;this._cache.delete(ee);let H=E[this.opts.schemaId];return H&&(H=(0,l.normalizeId)(H),delete this.schemas[H],delete this.refs[H]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(E){for(const ee of E)this.addKeyword(ee);return this}addKeyword(E,ee){let H;if(typeof E=="string")H=E,typeof ee=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ee.keyword=H);else if(typeof E=="object"&&ee===void 0){if(ee=E,H=ee.keyword,Array.isArray(H)&&!H.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,H,ee),!ee)return(0,u.eachItem)(H,P=>T.call(this,P)),this;ie.call(this,ee);const k={...ee,type:(0,c.getJSONTypes)(ee.type),schemaType:(0,c.getJSONTypes)(ee.schemaType)};return(0,u.eachItem)(H,k.type.length===0?P=>T.call(this,P,k):P=>k.type.forEach(D=>T.call(this,P,k,D))),this}getKeyword(E){const ee=this.RULES.all[E];return typeof ee=="object"?ee.definition:!!ee}removeKeyword(E){const{RULES:ee}=this;delete ee.keywords[E],delete ee.all[E];for(const H of ee.rules){const k=H.rules.findIndex(P=>P.keyword===E);k>=0&&H.rules.splice(k,1)}return this}addFormat(E,ee){return typeof ee=="string"&&(ee=new RegExp(ee)),this.formats[E]=ee,this}errorsText(E=this.errors,{separator:ee=", ",dataVar:H="data"}={}){return!E||E.length===0?"No errors":E.map(k=>`${H}${k.instancePath} ${k.message}`).reduce((k,P)=>k+ee+P)}$dataMetaSchema(E,ee){const H=this.RULES.all;E=JSON.parse(JSON.stringify(E));for(const k of ee){const P=k.split("/").slice(1);let D=E;for(const N of P)D=D[N];for(const N in H){const se=H[N];if(typeof se!="object")continue;const{$data:$e}=se.definition,Y=D[N];$e&&Y&&(D[N]=L(Y))}}return E}_removeAllSchemas(E,ee){for(const H in E){const k=E[H];(!ee||ee.test(H))&&(typeof k=="string"?delete E[H]:k&&!k.meta&&(this._cache.delete(k.schema),delete E[H]))}}_addSchema(E,ee,H,k=this.opts.validateSchema,P=this.opts.addUsedSchema){let D;const{schemaId:N}=this.opts;if(typeof E=="object")D=E[N];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof E!="boolean")throw new Error("schema must be object or boolean")}let se=this._cache.get(E);if(se!==void 0)return se;H=(0,l.normalizeId)(D||H);const $e=l.getSchemaRefs.call(this,E,H);return se=new s.SchemaEnv({schema:E,schemaId:N,meta:ee,baseId:H,localRefs:$e}),this._cache.set(se.schema,se),P&&!H.startsWith("#")&&(H&&this._checkUnique(H),this.refs[H]=se),k&&this.validateSchema(E,!0),se}_checkUnique(E){if(this.schemas[E]||this.refs[E])throw new Error(`schema with key or id "${E}" already exists`)}_compileSchemaEnv(E){if(E.meta?this._compileMetaSchema(E):s.compileSchema.call(this,E),!E.validate)throw new Error("ajv implementation error");return E.validate}_compileMetaSchema(E){const ee=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,E)}finally{this.opts=ee}}}j.ValidationError=r.default,j.MissingRefError=i.default,n.default=j;function x(M,E,ee,H="error"){for(const k in M){const P=k;P in E&&this.logger[H](`${ee}: option ${k}. ${M[P]}`)}}function S(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function _(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const E in M)this.addSchema(M[E],E)}function B(){for(const M in this.opts.formats){const E=this.opts.formats[M];E&&this.addFormat(M,E)}}function R(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const E in M){const ee=M[E];ee.keyword||(ee.keyword=E),this.addKeyword(ee)}}function F(){const M={...this.opts};for(const E of p)delete M[E];return M}const Q={log(){},warn(){},error(){}};function Z(M){if(M===!1)return Q;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const J=/^[a-z_$][a-z0-9_$:-]*$/i;function U(M,E){const{RULES:ee}=this;if((0,u.eachItem)(M,H=>{if(ee.keywords[H])throw new Error(`Keyword ${H} is already defined`);if(!J.test(H))throw new Error(`Keyword ${H} has invalid name`)}),!!E&&E.$data&&!("code"in E||"validate"in E))throw new Error('$data keyword must have "code" or "validate" function')}function T(M,E,ee){var H;const k=E==null?void 0:E.post;if(ee&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let D=k?P.post:P.rules.find(({type:se})=>se===ee);if(D||(D={type:ee,rules:[]},P.rules.push(D)),P.keywords[M]=!0,!E)return;const N={keyword:M,definition:{...E,type:(0,c.getJSONTypes)(E.type),schemaType:(0,c.getJSONTypes)(E.schemaType)}};E.before?re.call(this,D,N,E.before):D.rules.push(N),P.all[M]=N,(H=E.implements)===null||H===void 0||H.forEach(se=>this.addKeyword(se))}function re(M,E,ee){const H=M.rules.findIndex(k=>k.keyword===ee);H>=0?M.rules.splice(H,0,E):(M.rules.push(E),this.logger.warn(`rule ${ee} is not defined`))}function ie(M){let{metaSchema:E}=M;E!==void 0&&(M.$data&&this.opts.$data&&(E=L(E)),M.validateSchema=this.compile(E,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(M){return{anyOf:[M,G]}}})(D4);var sv={},av={},lv={};Object.defineProperty(lv,"__esModule",{value:!0});const oI={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};lv.default=oI;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.callRef=ba.getValidate=void 0;const sI=Ll,ix=Tt,Tr=Nt,Na=Oo,ox=Ir,hd=Ue,aI={keyword:"$ref",schemaType:"string",code(n){const{gen:e,schema:t,it:r}=n,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=r,{root:c}=o;if((t==="#"||t==="#/")&&i===c.baseId)return d();const u=ox.resolveRef.call(l,c,i,t);if(u===void 0)throw new sI.default(r.opts.uriResolver,i,t);if(u instanceof ox.SchemaEnv)return f(u);return h(u);function d(){if(o===c)return Wd(n,s,o,o.$async);const p=e.scopeValue("root",{ref:c});return Wd(n,(0,Tr._)`${p}.validate`,c,c.$async)}function f(p){const g=k3(n,p);Wd(n,g,p,p.$async)}function h(p){const g=e.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Tr.stringify)(p)}:{ref:p}),v=e.name("valid"),m=n.subschema({schema:p,dataTypes:[],schemaPath:Tr.nil,topSchemaRef:g,errSchemaPath:t},v);n.mergeEvaluated(m),n.ok(v)}}};function k3(n,e){const{gen:t}=n;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,Tr._)`${t.scopeValue("wrapper",{ref:e})}.validate`}ba.getValidate=k3;function Wd(n,e,t,r){const{gen:i,it:o}=n,{allErrors:s,schemaEnv:a,opts:l}=o,c=l.passContext?Na.default.this:Tr.nil;r?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Tr._)`await ${(0,ix.callValidateCode)(n,e,c)}`),h(e),s||i.assign(p,!0)},g=>{i.if((0,Tr._)`!(${g} instanceof ${o.ValidationError})`,()=>i.throw(g)),f(g),s||i.assign(p,!1)}),n.ok(p)}function d(){n.result((0,ix.callValidateCode)(n,e,c),()=>h(e),()=>f(e))}function f(p){const g=(0,Tr._)`${p}.errors`;i.assign(Na.default.vErrors,(0,Tr._)`${Na.default.vErrors} === null ? ${g} : ${Na.default.vErrors}.concat(${g})`),i.assign(Na.default.errors,(0,Tr._)`${Na.default.vErrors}.length`)}function h(p){var g;if(!o.opts.unevaluated)return;const v=(g=t==null?void 0:t.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=hd.mergeEvaluated.props(i,v.props,o.props));else{const m=i.var("props",(0,Tr._)`${p}.evaluated.props`);o.props=hd.mergeEvaluated.props(i,m,o.props,Tr.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=hd.mergeEvaluated.items(i,v.items,o.items));else{const m=i.var("items",(0,Tr._)`${p}.evaluated.items`);o.items=hd.mergeEvaluated.items(i,m,o.items,Tr.Name)}}}ba.callRef=Wd;ba.default=aI;Object.defineProperty(av,"__esModule",{value:!0});const lI=lv,cI=ba,uI=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",lI.default,cI.default];av.default=uI;var cv={},uv={};Object.defineProperty(uv,"__esModule",{value:!0});const Df=Nt,ls=Df.operators,If={maximum:{okStr:"<=",ok:ls.LTE,fail:ls.GT},minimum:{okStr:">=",ok:ls.GTE,fail:ls.LT},exclusiveMaximum:{okStr:"<",ok:ls.LT,fail:ls.GTE},exclusiveMinimum:{okStr:">",ok:ls.GT,fail:ls.LTE}},dI={message:({keyword:n,schemaCode:e})=>(0,Df.str)`must be ${If[n].okStr} ${e}`,params:({keyword:n,schemaCode:e})=>(0,Df._)`{comparison: ${If[n].okStr}, limit: ${e}}`},fI={keyword:Object.keys(If),type:"number",schemaType:"number",$data:!0,error:dI,code(n){const{keyword:e,data:t,schemaCode:r}=n;n.fail$data((0,Df._)`${t} ${If[e].fail} ${r} || isNaN(${t})`)}};uv.default=fI;var dv={};Object.defineProperty(dv,"__esModule",{value:!0});const Sc=Nt,hI={message:({schemaCode:n})=>(0,Sc.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,Sc._)`{multipleOf: ${n}}`},pI={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:hI,code(n){const{gen:e,data:t,schemaCode:r,it:i}=n,o=i.opts.multipleOfPrecision,s=e.let("res"),a=o?(0,Sc._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,Sc._)`${s} !== parseInt(${s})`;n.fail$data((0,Sc._)`(${r} === 0 || (${s} = ${t}/${r}, ${a}))`)}};dv.default=pI;var fv={},hv={};Object.defineProperty(hv,"__esModule",{value:!0});function C3(n){const e=n.length;let t=0,r=0,i;for(;r<e;)t++,i=n.charCodeAt(r++),i>=55296&&i<=56319&&r<e&&(i=n.charCodeAt(r),(i&64512)===56320&&r++);return t}hv.default=C3;C3.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(fv,"__esModule",{value:!0});const na=Nt,mI=Ue,gI=hv,vI={message({keyword:n,schemaCode:e}){const t=n==="maxLength"?"more":"fewer";return(0,na.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:n})=>(0,na._)`{limit: ${n}}`},yI={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:vI,code(n){const{keyword:e,data:t,schemaCode:r,it:i}=n,o=e==="maxLength"?na.operators.GT:na.operators.LT,s=i.opts.unicode===!1?(0,na._)`${t}.length`:(0,na._)`${(0,mI.useFunc)(n.gen,gI.default)}(${t})`;n.fail$data((0,na._)`${s} ${o} ${r}`)}};fv.default=yI;var pv={};Object.defineProperty(pv,"__esModule",{value:!0});const bI=Tt,zf=Nt,xI={message:({schemaCode:n})=>(0,zf.str)`must match pattern "${n}"`,params:({schemaCode:n})=>(0,zf._)`{pattern: ${n}}`},wI={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:xI,code(n){const{data:e,$data:t,schema:r,schemaCode:i,it:o}=n,s=o.opts.unicodeRegExp?"u":"",a=t?(0,zf._)`(new RegExp(${i}, ${s}))`:(0,bI.usePattern)(n,r);n.fail$data((0,zf._)`!${a}.test(${e})`)}};pv.default=wI;var mv={};Object.defineProperty(mv,"__esModule",{value:!0});const Oc=Nt,jI={message({keyword:n,schemaCode:e}){const t=n==="maxProperties"?"more":"fewer";return(0,Oc.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:n})=>(0,Oc._)`{limit: ${n}}`},$I={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:jI,code(n){const{keyword:e,data:t,schemaCode:r}=n,i=e==="maxProperties"?Oc.operators.GT:Oc.operators.LT;n.fail$data((0,Oc._)`Object.keys(${t}).length ${i} ${r}`)}};mv.default=$I;var gv={};Object.defineProperty(gv,"__esModule",{value:!0});const ic=Tt,Ec=Nt,kI=Ue,CI={message:({params:{missingProperty:n}})=>(0,Ec.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,Ec._)`{missingProperty: ${n}}`},SI={keyword:"required",type:"object",schemaType:"array",$data:!0,error:CI,code(n){const{gen:e,schema:t,schemaCode:r,data:i,$data:o,it:s}=n,{opts:a}=s;if(!o&&t.length===0)return;const l=t.length>=a.loopRequired;if(s.allErrors?c():u(),a.strictRequired){const h=n.parentSchema.properties,{definedProperties:p}=n.it;for(const g of t)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const v=s.schemaEnv.baseId+s.errSchemaPath,m=`required property "${g}" is not defined at "${v}" (strictRequired)`;(0,kI.checkStrictMode)(s,m,s.opts.strictRequired)}}function c(){if(l||o)n.block$data(Ec.nil,d);else for(const h of t)(0,ic.checkReportMissingProp)(n,h)}function u(){const h=e.let("missing");if(l||o){const p=e.let("valid",!0);n.block$data(p,()=>f(h,p)),n.ok(p)}else e.if((0,ic.checkMissingProp)(n,t,h)),(0,ic.reportMissingProp)(n,h),e.else()}function d(){e.forOf("prop",r,h=>{n.setParams({missingProperty:h}),e.if((0,ic.noPropertyInData)(e,i,h,a.ownProperties),()=>n.error())})}function f(h,p){n.setParams({missingProperty:h}),e.forOf(h,r,()=>{e.assign(p,(0,ic.propertyInData)(e,i,h,a.ownProperties)),e.if((0,Ec.not)(p),()=>{n.error(),e.break()})},Ec.nil)}}};gv.default=SI;var vv={};Object.defineProperty(vv,"__esModule",{value:!0});const Ac=Nt,OI={message({keyword:n,schemaCode:e}){const t=n==="maxItems"?"more":"fewer";return(0,Ac.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:n})=>(0,Ac._)`{limit: ${n}}`},EI={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:OI,code(n){const{keyword:e,data:t,schemaCode:r}=n,i=e==="maxItems"?Ac.operators.GT:Ac.operators.LT;n.fail$data((0,Ac._)`${t}.length ${i} ${r}`)}};vv.default=EI;var yv={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});const S3=X4;S3.code='require("ajv/dist/runtime/equal").default';ju.default=S3;Object.defineProperty(yv,"__esModule",{value:!0});const Np=Gn,lr=Nt,AI=Ue,MI=ju,PI={message:({params:{i:n,j:e}})=>(0,lr.str)`must NOT have duplicate items (items ## ${e} and ${n} are identical)`,params:({params:{i:n,j:e}})=>(0,lr._)`{i: ${n}, j: ${e}}`},_I={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:PI,code(n){const{gen:e,data:t,$data:r,schema:i,parentSchema:o,schemaCode:s,it:a}=n;if(!r&&!i)return;const l=e.let("valid"),c=o.items?(0,Np.getSchemaTypes)(o.items):[];n.block$data(l,u,(0,lr._)`${s} === false`),n.ok(l);function u(){const p=e.let("i",(0,lr._)`${t}.length`),g=e.let("j");n.setParams({i:p,j:g}),e.assign(l,!0),e.if((0,lr._)`${p} > 1`,()=>(d()?f:h)(p,g))}function d(){return c.length>0&&!c.some(p=>p==="object"||p==="array")}function f(p,g){const v=e.name("item"),m=(0,Np.checkDataTypes)(c,v,a.opts.strictNumbers,Np.DataType.Wrong),y=e.const("indices",(0,lr._)`{}`);e.for((0,lr._)`;${p}--;`,()=>{e.let(v,(0,lr._)`${t}[${p}]`),e.if(m,(0,lr._)`continue`),c.length>1&&e.if((0,lr._)`typeof ${v} == "string"`,(0,lr._)`${v} += "_"`),e.if((0,lr._)`typeof ${y}[${v}] == "number"`,()=>{e.assign(g,(0,lr._)`${y}[${v}]`),n.error(),e.assign(l,!1).break()}).code((0,lr._)`${y}[${v}] = ${p}`)})}function h(p,g){const v=(0,AI.useFunc)(e,MI.default),m=e.name("outer");e.label(m).for((0,lr._)`;${p}--;`,()=>e.for((0,lr._)`${g} = ${p}; ${g}--;`,()=>e.if((0,lr._)`${v}(${t}[${p}], ${t}[${g}])`,()=>{n.error(),e.assign(l,!1).break(m)})))}}};yv.default=_I;var bv={};Object.defineProperty(bv,"__esModule",{value:!0});const vg=Nt,TI=Ue,RI=ju,NI={message:"must be equal to constant",params:({schemaCode:n})=>(0,vg._)`{allowedValue: ${n}}`},DI={keyword:"const",$data:!0,error:NI,code(n){const{gen:e,data:t,$data:r,schemaCode:i,schema:o}=n;r||o&&typeof o=="object"?n.fail$data((0,vg._)`!${(0,TI.useFunc)(e,RI.default)}(${t}, ${i})`):n.fail((0,vg._)`${o} !== ${t}`)}};bv.default=DI;var xv={};Object.defineProperty(xv,"__esModule",{value:!0});const mc=Nt,II=Ue,zI=ju,LI={message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,mc._)`{allowedValues: ${n}}`},BI={keyword:"enum",schemaType:"array",$data:!0,error:LI,code(n){const{gen:e,data:t,$data:r,schema:i,schemaCode:o,it:s}=n;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const c=()=>l??(l=(0,II.useFunc)(e,zI.default));let u;if(a||r)u=e.let("valid"),n.block$data(u,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=e.const("vSchema",o);u=(0,mc.or)(...i.map((p,g)=>f(h,g)))}n.pass(u);function d(){e.assign(u,!1),e.forOf("v",o,h=>e.if((0,mc._)`${c()}(${t}, ${h})`,()=>e.assign(u,!0).break()))}function f(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,mc._)`${c()}(${t}, ${h}[${p}])`:(0,mc._)`${t} === ${g}`}}};xv.default=BI;Object.defineProperty(cv,"__esModule",{value:!0});const qI=uv,FI=dv,VI=fv,UI=pv,HI=mv,WI=gv,KI=vv,GI=yv,JI=bv,QI=xv,YI=[qI.default,FI.default,VI.default,UI.default,HI.default,WI.default,KI.default,GI.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},JI.default,QI.default];cv.default=YI;var wv={},Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.validateAdditionalItems=void 0;const ra=Nt,yg=Ue,XI={message:({params:{len:n}})=>(0,ra.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,ra._)`{limit: ${n}}`},ZI={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:XI,code(n){const{parentSchema:e,it:t}=n,{items:r}=e;if(!Array.isArray(r)){(0,yg.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}O3(n,r)}};function O3(n,e){const{gen:t,schema:r,data:i,keyword:o,it:s}=n;s.items=!0;const a=t.const("len",(0,ra._)`${i}.length`);if(r===!1)n.setParams({len:e.length}),n.pass((0,ra._)`${a} <= ${e.length}`);else if(typeof r=="object"&&!(0,yg.alwaysValidSchema)(s,r)){const c=t.var("valid",(0,ra._)`${a} <= ${e.length}`);t.if((0,ra.not)(c),()=>l(c)),n.ok(c)}function l(c){t.forRange("i",e.length,a,u=>{n.subschema({keyword:o,dataProp:u,dataPropType:yg.Type.Num},c),s.allErrors||t.if((0,ra.not)(c),()=>t.break())})}}Bl.validateAdditionalItems=O3;Bl.default=ZI;var jv={},ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.validateTuple=void 0;const sx=Nt,Kd=Ue,ez=Tt,tz={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:e,it:t}=n;if(Array.isArray(e))return E3(n,"additionalItems",e);t.items=!0,!(0,Kd.alwaysValidSchema)(t,e)&&n.ok((0,ez.validateArray)(n))}};function E3(n,e,t=n.schema){const{gen:r,parentSchema:i,data:o,keyword:s,it:a}=n;u(i),a.opts.unevaluated&&t.length&&a.items!==!0&&(a.items=Kd.mergeEvaluated.items(r,t.length,a.items));const l=r.name("valid"),c=r.const("len",(0,sx._)`${o}.length`);t.forEach((d,f)=>{(0,Kd.alwaysValidSchema)(a,d)||(r.if((0,sx._)`${c} > ${f}`,()=>n.subschema({keyword:s,schemaProp:f,dataProp:f},l)),n.ok(l))});function u(d){const{opts:f,errSchemaPath:h}=a,p=t.length,g=p===d.minItems&&(p===d.maxItems||d[e]===!1);if(f.strictTuples&&!g){const v=`"${s}" is ${p}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;(0,Kd.checkStrictMode)(a,v,f.strictTuples)}}}ql.validateTuple=E3;ql.default=tz;Object.defineProperty(jv,"__esModule",{value:!0});const nz=ql,rz={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,nz.validateTuple)(n,"items")};jv.default=rz;var $v={};Object.defineProperty($v,"__esModule",{value:!0});const ax=Nt,iz=Ue,oz=Tt,sz=Bl,az={message:({params:{len:n}})=>(0,ax.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,ax._)`{limit: ${n}}`},lz={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:az,code(n){const{schema:e,parentSchema:t,it:r}=n,{prefixItems:i}=t;r.items=!0,!(0,iz.alwaysValidSchema)(r,e)&&(i?(0,sz.validateAdditionalItems)(n,i):n.ok((0,oz.validateArray)(n)))}};$v.default=lz;var kv={};Object.defineProperty(kv,"__esModule",{value:!0});const ci=Nt,pd=Ue,cz={message:({params:{min:n,max:e}})=>e===void 0?(0,ci.str)`must contain at least ${n} valid item(s)`:(0,ci.str)`must contain at least ${n} and no more than ${e} valid item(s)`,params:({params:{min:n,max:e}})=>e===void 0?(0,ci._)`{minContains: ${n}}`:(0,ci._)`{minContains: ${n}, maxContains: ${e}}`},uz={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:cz,code(n){const{gen:e,schema:t,parentSchema:r,data:i,it:o}=n;let s,a;const{minContains:l,maxContains:c}=r;o.opts.next?(s=l===void 0?1:l,a=c):s=1;const u=e.const("len",(0,ci._)`${i}.length`);if(n.setParams({min:s,max:a}),a===void 0&&s===0){(0,pd.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,pd.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),n.fail();return}if((0,pd.alwaysValidSchema)(o,t)){let g=(0,ci._)`${u} >= ${s}`;a!==void 0&&(g=(0,ci._)`${g} && ${u} <= ${a}`),n.pass(g);return}o.items=!0;const d=e.name("valid");a===void 0&&s===1?h(d,()=>e.if(d,()=>e.break())):s===0?(e.let(d,!0),a!==void 0&&e.if((0,ci._)`${i}.length > 0`,f)):(e.let(d,!1),f()),n.result(d,()=>n.reset());function f(){const g=e.name("_valid"),v=e.let("count",0);h(g,()=>e.if(g,()=>p(v)))}function h(g,v){e.forRange("i",0,u,m=>{n.subschema({keyword:"contains",dataProp:m,dataPropType:pd.Type.Num,compositeRule:!0},g),v()})}function p(g){e.code((0,ci._)`${g}++`),a===void 0?e.if((0,ci._)`${g} >= ${s}`,()=>e.assign(d,!0).break()):(e.if((0,ci._)`${g} > ${a}`,()=>e.assign(d,!1).break()),s===1?e.assign(d,!0):e.if((0,ci._)`${g} >= ${s}`,()=>e.assign(d,!0)))}}};kv.default=uz;var A3={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSchemaDeps=n.validatePropertyDeps=n.error=void 0;const e=Nt,t=Ue,r=Tt;n.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,e.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:n.error,code(l){const[c,u]=o(l);s(l,c),a(l,u)}};function o({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?c:u;f[d]=l[d]}return[c,u]}function s(l,c=l.schema){const{gen:u,data:d,it:f}=l;if(Object.keys(c).length===0)return;const h=u.let("missing");for(const p in c){const g=c[p];if(g.length===0)continue;const v=(0,r.propertyInData)(u,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),f.allErrors?u.if(v,()=>{for(const m of g)(0,r.checkReportMissingProp)(l,m)}):(u.if((0,e._)`${v} && (${(0,r.checkMissingProp)(l,g,h)})`),(0,r.reportMissingProp)(l,h),u.else())}}n.validatePropertyDeps=s;function a(l,c=l.schema){const{gen:u,data:d,keyword:f,it:h}=l,p=u.name("valid");for(const g in c)(0,t.alwaysValidSchema)(h,c[g])||(u.if((0,r.propertyInData)(u,d,g,h.opts.ownProperties),()=>{const v=l.subschema({keyword:f,schemaProp:g},p);l.mergeValidEvaluated(v,p)},()=>u.var(p,!0)),l.ok(p))}n.validateSchemaDeps=a,n.default=i})(A3);var Cv={};Object.defineProperty(Cv,"__esModule",{value:!0});const M3=Nt,dz=Ue,fz={message:"property name must be valid",params:({params:n})=>(0,M3._)`{propertyName: ${n.propertyName}}`},hz={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:fz,code(n){const{gen:e,schema:t,data:r,it:i}=n;if((0,dz.alwaysValidSchema)(i,t))return;const o=e.name("valid");e.forIn("key",r,s=>{n.setParams({propertyName:s}),n.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),e.if((0,M3.not)(o),()=>{n.error(!0),i.allErrors||e.break()})}),n.ok(o)}};Cv.default=hz;var _h={};Object.defineProperty(_h,"__esModule",{value:!0});const md=Tt,Ei=Nt,pz=Oo,gd=Ue,mz={message:"must NOT have additional properties",params:({params:n})=>(0,Ei._)`{additionalProperty: ${n.additionalProperty}}`},gz={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:mz,code(n){const{gen:e,schema:t,parentSchema:r,data:i,errsCount:o,it:s}=n;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,gd.alwaysValidSchema)(s,t))return;const c=(0,md.allSchemaProperties)(r.properties),u=(0,md.allSchemaProperties)(r.patternProperties);d(),n.ok((0,Ei._)`${o} === ${pz.default.errors}`);function d(){e.forIn("key",i,v=>{!c.length&&!u.length?p(v):e.if(f(v),()=>p(v))})}function f(v){let m;if(c.length>8){const y=(0,gd.schemaRefOrVal)(s,r.properties,"properties");m=(0,md.isOwnProperty)(e,y,v)}else c.length?m=(0,Ei.or)(...c.map(y=>(0,Ei._)`${v} === ${y}`)):m=Ei.nil;return u.length&&(m=(0,Ei.or)(m,...u.map(y=>(0,Ei._)`${(0,md.usePattern)(n,y)}.test(${v})`))),(0,Ei.not)(m)}function h(v){e.code((0,Ei._)`delete ${i}[${v}]`)}function p(v){if(l.removeAdditional==="all"||l.removeAdditional&&t===!1){h(v);return}if(t===!1){n.setParams({additionalProperty:v}),n.error(),a||e.break();return}if(typeof t=="object"&&!(0,gd.alwaysValidSchema)(s,t)){const m=e.name("valid");l.removeAdditional==="failing"?(g(v,m,!1),e.if((0,Ei.not)(m),()=>{n.reset(),h(v)})):(g(v,m),a||e.if((0,Ei.not)(m),()=>e.break()))}}function g(v,m,y){const b={keyword:"additionalProperties",dataProp:v,dataPropType:gd.Type.Str};y===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),n.subschema(b,m)}}};_h.default=gz;var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});const vz=Ii,lx=Tt,Dp=Ue,cx=_h,yz={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:e,schema:t,parentSchema:r,data:i,it:o}=n;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&cx.default.code(new vz.KeywordCxt(o,cx.default,"additionalProperties"));const s=(0,lx.allSchemaProperties)(t);for(const d of s)o.definedProperties.add(d);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=Dp.mergeEvaluated.props(e,(0,Dp.toHash)(s),o.props));const a=s.filter(d=>!(0,Dp.alwaysValidSchema)(o,t[d]));if(a.length===0)return;const l=e.name("valid");for(const d of a)c(d)?u(d):(e.if((0,lx.propertyInData)(e,i,d,o.opts.ownProperties)),u(d),o.allErrors||e.else().var(l,!0),e.endIf()),n.it.definedProperties.add(d),n.ok(l);function c(d){return o.opts.useDefaults&&!o.compositeRule&&t[d].default!==void 0}function u(d){n.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};Sv.default=yz;var Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});const ux=Tt,vd=Nt,dx=Ue,fx=Ue,bz={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:e,schema:t,data:r,parentSchema:i,it:o}=n,{opts:s}=o,a=(0,ux.allSchemaProperties)(t),l=a.filter(g=>(0,dx.alwaysValidSchema)(o,t[g]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const c=s.strictSchema&&!s.allowMatchingProperties&&i.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof vd.Name)&&(o.props=(0,fx.evaluatedPropsToName)(e,o.props));const{props:d}=o;f();function f(){for(const g of a)c&&h(g),o.allErrors?p(g):(e.var(u,!0),p(g),e.if(u))}function h(g){for(const v in c)new RegExp(g).test(v)&&(0,dx.checkStrictMode)(o,`property ${v} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){e.forIn("key",r,v=>{e.if((0,vd._)`${(0,ux.usePattern)(n,g)}.test(${v})`,()=>{const m=l.includes(g);m||n.subschema({keyword:"patternProperties",schemaProp:g,dataProp:v,dataPropType:fx.Type.Str},u),o.opts.unevaluated&&d!==!0?e.assign((0,vd._)`${d}[${v}]`,!0):!m&&!o.allErrors&&e.if((0,vd.not)(u),()=>e.break())})})}}};Ov.default=bz;var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});const xz=Ue,wz={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:e,schema:t,it:r}=n;if((0,xz.alwaysValidSchema)(r,t)){n.fail();return}const i=e.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),n.failResult(i,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};Ev.default=wz;var Av={};Object.defineProperty(Av,"__esModule",{value:!0});const jz=Tt,$z={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:jz.validateUnion,error:{message:"must match a schema in anyOf"}};Av.default=$z;var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});const Gd=Nt,kz=Ue,Cz={message:"must match exactly one schema in oneOf",params:({params:n})=>(0,Gd._)`{passingSchemas: ${n.passing}}`},Sz={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Cz,code(n){const{gen:e,schema:t,parentSchema:r,it:i}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const o=t,s=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");n.setParams({passing:a}),e.block(c),n.result(s,()=>n.reset(),()=>n.error(!0));function c(){o.forEach((u,d)=>{let f;(0,kz.alwaysValidSchema)(i,u)?e.var(l,!0):f=n.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,Gd._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Gd._)`[${a}, ${d}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(a,d),f&&n.mergeEvaluated(f,Gd.Name)})})}}};Mv.default=Sz;var Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});const Oz=Ue,Ez={keyword:"allOf",schemaType:"array",code(n){const{gen:e,schema:t,it:r}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");const i=e.name("valid");t.forEach((o,s)=>{if((0,Oz.alwaysValidSchema)(r,o))return;const a=n.subschema({keyword:"allOf",schemaProp:s},i);n.ok(i),n.mergeEvaluated(a)})}};Pv.default=Ez;var _v={};Object.defineProperty(_v,"__esModule",{value:!0});const Lf=Nt,P3=Ue,Az={message:({params:n})=>(0,Lf.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,Lf._)`{failingKeyword: ${n.ifClause}}`},Mz={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Az,code(n){const{gen:e,parentSchema:t,it:r}=n;t.then===void 0&&t.else===void 0&&(0,P3.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=hx(r,"then"),o=hx(r,"else");if(!i&&!o)return;const s=e.let("valid",!0),a=e.name("_valid");if(l(),n.reset(),i&&o){const u=e.let("ifClause");n.setParams({ifClause:u}),e.if(a,c("then",u),c("else",u))}else i?e.if(a,c("then")):e.if((0,Lf.not)(a),c("else"));n.pass(s,()=>n.error(!0));function l(){const u=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);n.mergeEvaluated(u)}function c(u,d){return()=>{const f=n.subschema({keyword:u},a);e.assign(s,a),n.mergeValidEvaluated(f,s),d?e.assign(d,(0,Lf._)`${u}`):n.setParams({ifClause:u})}}}};function hx(n,e){const t=n.schema[e];return t!==void 0&&!(0,P3.alwaysValidSchema)(n,t)}_v.default=Mz;var Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});const Pz=Ue,_z={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:e,it:t}){e.if===void 0&&(0,Pz.checkStrictMode)(t,`"${n}" without "if" is ignored`)}};Tv.default=_z;Object.defineProperty(wv,"__esModule",{value:!0});const Tz=Bl,Rz=jv,Nz=ql,Dz=$v,Iz=kv,zz=A3,Lz=Cv,Bz=_h,qz=Sv,Fz=Ov,Vz=Ev,Uz=Av,Hz=Mv,Wz=Pv,Kz=_v,Gz=Tv;function Jz(n=!1){const e=[Vz.default,Uz.default,Hz.default,Wz.default,Kz.default,Gz.default,Lz.default,Bz.default,zz.default,qz.default,Fz.default];return n?e.push(Rz.default,Dz.default):e.push(Tz.default,Nz.default),e.push(Iz.default),e}wv.default=Jz;var Rv={},Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});const Dn=Nt,Qz={message:({schemaCode:n})=>(0,Dn.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,Dn._)`{format: ${n}}`},Yz={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Qz,code(n,e){const{gen:t,data:r,$data:i,schema:o,schemaCode:s,it:a}=n,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=a;if(!l.validateFormats)return;i?f():h();function f(){const p=t.scopeValue("formats",{ref:d.formats,code:l.code.formats}),g=t.const("fDef",(0,Dn._)`${p}[${s}]`),v=t.let("fType"),m=t.let("format");t.if((0,Dn._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>t.assign(v,(0,Dn._)`${g}.type || "string"`).assign(m,(0,Dn._)`${g}.validate`),()=>t.assign(v,(0,Dn._)`"string"`).assign(m,g)),n.fail$data((0,Dn.or)(y(),b()));function y(){return l.strictSchema===!1?Dn.nil:(0,Dn._)`${s} && !${m}`}function b(){const j=u.$async?(0,Dn._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,Dn._)`${m}(${r})`,x=(0,Dn._)`(typeof ${m} == "function" ? ${j} : ${m}.test(${r}))`;return(0,Dn._)`${m} && ${m} !== true && ${v} === ${e} && !${x}`}}function h(){const p=d.formats[o];if(!p){y();return}if(p===!0)return;const[g,v,m]=b(p);g===e&&n.pass(j());function y(){if(l.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function b(x){const S=x instanceof RegExp?(0,Dn.regexpCode)(x):l.code.formats?(0,Dn._)`${l.code.formats}${(0,Dn.getProperty)(o)}`:void 0,_=t.scopeValue("formats",{key:o,ref:x,code:S});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Dn._)`${_}.validate`]:["string",x,_]}function j(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Dn._)`await ${m}(${r})`}return typeof v=="function"?(0,Dn._)`${m}(${r})`:(0,Dn._)`${m}.test(${r})`}}}};Nv.default=Yz;Object.defineProperty(Rv,"__esModule",{value:!0});const Xz=Nv,Zz=[Xz.default];Rv.default=Zz;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.contentVocabulary=Cl.metadataVocabulary=void 0;Cl.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Cl.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(sv,"__esModule",{value:!0});const eL=av,tL=cv,nL=wv,rL=Rv,px=Cl,iL=[eL.default,tL.default,(0,nL.default)(),rL.default,px.metadataVocabulary,px.contentVocabulary];sv.default=iL;var Dv={},Th={};Object.defineProperty(Th,"__esModule",{value:!0});Th.DiscrError=void 0;var mx;(function(n){n.Tag="tag",n.Mapping="mapping"})(mx||(Th.DiscrError=mx={}));Object.defineProperty(Dv,"__esModule",{value:!0});const Fa=Nt,bg=Th,gx=Ir,oL=Ll,sL=Ue,aL={message:({params:{discrError:n,tagName:e}})=>n===bg.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:n,tag:e,tagName:t}})=>(0,Fa._)`{error: ${n}, tag: ${t}, tagValue: ${e}}`},lL={keyword:"discriminator",type:"object",schemaType:"object",error:aL,code(n){const{gen:e,data:t,schema:r,parentSchema:i,it:o}=n,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,Fa._)`${t}${(0,Fa.getProperty)(a)}`);e.if((0,Fa._)`typeof ${c} == "string"`,()=>u(),()=>n.error(!1,{discrError:bg.DiscrError.Tag,tag:c,tagName:a})),n.ok(l);function u(){const h=f();e.if(!1);for(const p in h)e.elseIf((0,Fa._)`${c} === ${p}`),e.assign(l,d(h[p]));e.else(),n.error(!1,{discrError:bg.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function d(h){const p=e.name("valid"),g=n.subschema({keyword:"oneOf",schemaProp:h},p);return n.mergeEvaluated(g,Fa.Name),p}function f(){var h;const p={},g=m(i);let v=!0;for(let j=0;j<s.length;j++){let x=s[j];if(x!=null&&x.$ref&&!(0,sL.schemaHasRulesButRef)(x,o.self.RULES)){const _=x.$ref;if(x=gx.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,_),x instanceof gx.SchemaEnv&&(x=x.schema),x===void 0)throw new oL.default(o.opts.uriResolver,o.baseId,_)}const S=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(g||m(x)),y(S,j)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:j}){return Array.isArray(j)&&j.includes(a)}function y(j,x){if(j.const)b(j.const,x);else if(j.enum)for(const S of j.enum)b(S,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(j,x){if(typeof j!="string"||j in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[j]=x}}}};Dv.default=lL;const cL="http://json-schema.org/draft-07/schema#",uL="http://json-schema.org/draft-07/schema#",dL="Core schema meta-schema",fL={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},hL=["object","boolean"],pL={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},mL={$schema:cL,$id:uL,title:dL,definitions:fL,type:hL,properties:pL,default:!0};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const t=D4,r=sv,i=Dv,o=mL,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends t.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.Ajv=l,n.exports=e=l,n.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Ii;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=Nt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=wu;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=Ll;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(Hb,Hb.exports);var gL={};(function(n){(function(e){function t(A){return A!==null?Object.prototype.toString.call(A)==="[object Array]":!1}function r(A){return A!==null?Object.prototype.toString.call(A)==="[object Object]":!1}function i(A,V){if(A===V)return!0;var X=Object.prototype.toString.call(A);if(X!==Object.prototype.toString.call(V))return!1;if(t(A)===!0){if(A.length!==V.length)return!1;for(var oe=0;oe<A.length;oe++)if(i(A[oe],V[oe])===!1)return!1;return!0}if(r(A)===!0){var me={};for(var Te in A)if(hasOwnProperty.call(A,Te)){if(i(A[Te],V[Te])===!1)return!1;me[Te]=!0}for(var nt in V)if(hasOwnProperty.call(V,nt)&&me[nt]!==!0)return!1;return!0}return!1}function o(A){if(A===""||A===!1||A===null)return!0;if(t(A)&&A.length===0)return!0;if(r(A)){for(var V in A)if(A.hasOwnProperty(V))return!1;return!0}else return!1}function s(A){for(var V=Object.keys(A),X=[],oe=0;oe<V.length;oe++)X.push(A[V[oe]]);return X}var a;typeof String.prototype.trimLeft=="function"?a=function(A){return A.trimLeft()}:a=function(A){return A.match(/^\s*(.*)/)[1]};var l=0,c=1,u=2,d=3,f=4,h=5,p=6,g=7,v=8,m=9,y={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},b="EOF",j="UnquotedIdentifier",x="QuotedIdentifier",S="Rbracket",_="Rparen",B="Comma",R="Colon",F="Rbrace",Q="Number",Z="Current",J="Expref",U="Pipe",T="Or",re="And",ie="EQ",G="GT",L="LT",M="GTE",E="LTE",ee="NE",H="Flatten",k="Star",P="Filter",D="Dot",N="Not",se="Lbrace",$e="Lbracket",Y="Lparen",Pe="Literal",Ve={".":D,"*":k,",":B,":":R,"{":se,"}":F,"]":S,"(":Y,")":_,"@":Z},wt={"<":!0,">":!0,"=":!0,"!":!0},jt={" ":!0,"	":!0,"\n":!0};function at(A){return A>="a"&&A<="z"||A>="A"&&A<="Z"||A==="_"}function Fe(A){return A>="0"&&A<="9"||A==="-"}function ye(A){return A>="a"&&A<="z"||A>="A"&&A<="Z"||A>="0"&&A<="9"||A==="_"}function Gt(){}Gt.prototype={tokenize:function(A){var V=[];this._current=0;for(var X,oe,me;this._current<A.length;)if(at(A[this._current]))X=this._current,oe=this._consumeUnquotedIdentifier(A),V.push({type:j,value:oe,start:X});else if(Ve[A[this._current]]!==void 0)V.push({type:Ve[A[this._current]],value:A[this._current],start:this._current}),this._current++;else if(Fe(A[this._current]))me=this._consumeNumber(A),V.push(me);else if(A[this._current]==="[")me=this._consumeLBracket(A),V.push(me);else if(A[this._current]==='"')X=this._current,oe=this._consumeQuotedIdentifier(A),V.push({type:x,value:oe,start:X});else if(A[this._current]==="'")X=this._current,oe=this._consumeRawStringLiteral(A),V.push({type:Pe,value:oe,start:X});else if(A[this._current]==="`"){X=this._current;var Te=this._consumeLiteral(A);V.push({type:Pe,value:Te,start:X})}else if(wt[A[this._current]]!==void 0)V.push(this._consumeOperator(A));else if(jt[A[this._current]]!==void 0)this._current++;else if(A[this._current]==="&")X=this._current,this._current++,A[this._current]==="&"?(this._current++,V.push({type:re,value:"&&",start:X})):V.push({type:J,value:"&",start:X});else if(A[this._current]==="|")X=this._current,this._current++,A[this._current]==="|"?(this._current++,V.push({type:T,value:"||",start:X})):V.push({type:U,value:"|",start:X});else{var nt=new Error("Unknown character:"+A[this._current]);throw nt.name="LexerError",nt}return V},_consumeUnquotedIdentifier:function(A){var V=this._current;for(this._current++;this._current<A.length&&ye(A[this._current]);)this._current++;return A.slice(V,this._current)},_consumeQuotedIdentifier:function(A){var V=this._current;this._current++;for(var X=A.length;A[this._current]!=='"'&&this._current<X;){var oe=this._current;A[oe]==="\\"&&(A[oe+1]==="\\"||A[oe+1]==='"')?oe+=2:oe++,this._current=oe}return this._current++,JSON.parse(A.slice(V,this._current))},_consumeRawStringLiteral:function(A){var V=this._current;this._current++;for(var X=A.length;A[this._current]!=="'"&&this._current<X;){var oe=this._current;A[oe]==="\\"&&(A[oe+1]==="\\"||A[oe+1]==="'")?oe+=2:oe++,this._current=oe}this._current++;var me=A.slice(V+1,this._current-1);return me.replace("\\'","'")},_consumeNumber:function(A){var V=this._current;this._current++;for(var X=A.length;Fe(A[this._current])&&this._current<X;)this._current++;var oe=parseInt(A.slice(V,this._current));return{type:Q,value:oe,start:V}},_consumeLBracket:function(A){var V=this._current;return this._current++,A[this._current]==="?"?(this._current++,{type:P,value:"[?",start:V}):A[this._current]==="]"?(this._current++,{type:H,value:"[]",start:V}):{type:$e,value:"[",start:V}},_consumeOperator:function(A){var V=this._current,X=A[V];if(this._current++,X==="!")return A[this._current]==="="?(this._current++,{type:ee,value:"!=",start:V}):{type:N,value:"!",start:V};if(X==="<")return A[this._current]==="="?(this._current++,{type:E,value:"<=",start:V}):{type:L,value:"<",start:V};if(X===">")return A[this._current]==="="?(this._current++,{type:M,value:">=",start:V}):{type:G,value:">",start:V};if(X==="="&&A[this._current]==="=")return this._current++,{type:ie,value:"==",start:V}},_consumeLiteral:function(A){this._current++;for(var V=this._current,X=A.length,oe;A[this._current]!=="`"&&this._current<X;){var me=this._current;A[me]==="\\"&&(A[me+1]==="\\"||A[me+1]==="`")?me+=2:me++,this._current=me}var Te=a(A.slice(V,this._current));return Te=Te.replace("\\`","`"),this._looksLikeJSON(Te)?oe=JSON.parse(Te):oe=JSON.parse('"'+Te+'"'),this._current++,oe},_looksLikeJSON:function(A){var V='[{"',X=["true","false","null"],oe="-0123456789";if(A==="")return!1;if(V.indexOf(A[0])>=0)return!0;if(X.indexOf(A)>=0)return!0;if(oe.indexOf(A[0])>=0)try{return JSON.parse(A),!0}catch{return!1}else return!1}};var Me={};Me[b]=0,Me[j]=0,Me[x]=0,Me[S]=0,Me[_]=0,Me[B]=0,Me[F]=0,Me[Q]=0,Me[Z]=0,Me[J]=0,Me[U]=1,Me[T]=2,Me[re]=3,Me[ie]=5,Me[G]=5,Me[L]=5,Me[M]=5,Me[E]=5,Me[ee]=5,Me[H]=9,Me[k]=20,Me[P]=21,Me[D]=40,Me[N]=45,Me[se]=50,Me[$e]=55,Me[Y]=60;function At(){}At.prototype={parse:function(A){this._loadTokens(A),this.index=0;var V=this.expression(0);if(this._lookahead(0)!==b){var X=this._lookaheadToken(0),oe=new Error("Unexpected token type: "+X.type+", value: "+X.value);throw oe.name="ParserError",oe}return V},_loadTokens:function(A){var V=new Gt,X=V.tokenize(A);X.push({type:b,value:"",start:A.length}),this.tokens=X},expression:function(A){var V=this._lookaheadToken(0);this._advance();for(var X=this.nud(V),oe=this._lookahead(0);A<Me[oe];)this._advance(),X=this.led(oe,X),oe=this._lookahead(0);return X},_lookahead:function(A){return this.tokens[this.index+A].type},_lookaheadToken:function(A){return this.tokens[this.index+A]},_advance:function(){this.index++},nud:function(A){var V,X,oe;switch(A.type){case Pe:return{type:"Literal",value:A.value};case j:return{type:"Field",name:A.value};case x:var me={type:"Field",name:A.value};if(this._lookahead(0)===Y)throw new Error("Quoted identifier not allowed for function names.");return me;case N:return X=this.expression(Me.Not),{type:"NotExpression",children:[X]};case k:return V={type:"Identity"},X=null,this._lookahead(0)===S?X={type:"Identity"}:X=this._parseProjectionRHS(Me.Star),{type:"ValueProjection",children:[V,X]};case P:return this.led(A.type,{type:"Identity"});case se:return this._parseMultiselectHash();case H:return V={type:H,children:[{type:"Identity"}]},X=this._parseProjectionRHS(Me.Flatten),{type:"Projection",children:[V,X]};case $e:return this._lookahead(0)===Q||this._lookahead(0)===R?(X=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},X)):this._lookahead(0)===k&&this._lookahead(1)===S?(this._advance(),this._advance(),X=this._parseProjectionRHS(Me.Star),{type:"Projection",children:[{type:"Identity"},X]}):this._parseMultiselectList();case Z:return{type:Z};case J:return oe=this.expression(Me.Expref),{type:"ExpressionReference",children:[oe]};case Y:for(var Te=[];this._lookahead(0)!==_;)this._lookahead(0)===Z?(oe={type:Z},this._advance()):oe=this.expression(0),Te.push(oe);return this._match(_),Te[0];default:this._errorToken(A)}},led:function(A,V){var X;switch(A){case D:var oe=Me.Dot;return this._lookahead(0)!==k?(X=this._parseDotRHS(oe),{type:"Subexpression",children:[V,X]}):(this._advance(),X=this._parseProjectionRHS(oe),{type:"ValueProjection",children:[V,X]});case U:return X=this.expression(Me.Pipe),{type:U,children:[V,X]};case T:return X=this.expression(Me.Or),{type:"OrExpression",children:[V,X]};case re:return X=this.expression(Me.And),{type:"AndExpression",children:[V,X]};case Y:for(var me=V.name,Te=[],nt,dt;this._lookahead(0)!==_;)this._lookahead(0)===Z?(nt={type:Z},this._advance()):nt=this.expression(0),this._lookahead(0)===B&&this._match(B),Te.push(nt);return this._match(_),dt={type:"Function",name:me,children:Te},dt;case P:var cn=this.expression(0);return this._match(S),this._lookahead(0)===H?X={type:"Identity"}:X=this._parseProjectionRHS(Me.Filter),{type:"FilterProjection",children:[V,X,cn]};case H:var Bn={type:H,children:[V]},Ht=this._parseProjectionRHS(Me.Flatten);return{type:"Projection",children:[Bn,Ht]};case ie:case ee:case G:case M:case L:case E:return this._parseComparator(V,A);case $e:var Qe=this._lookaheadToken(0);return Qe.type===Q||Qe.type===R?(X=this._parseIndexExpression(),this._projectIfSlice(V,X)):(this._match(k),this._match(S),X=this._parseProjectionRHS(Me.Star),{type:"Projection",children:[V,X]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(A){if(this._lookahead(0)===A)this._advance();else{var V=this._lookaheadToken(0),X=new Error("Expected "+A+", got: "+V.type);throw X.name="ParserError",X}},_errorToken:function(A){var V=new Error("Invalid token ("+A.type+'): "'+A.value+'"');throw V.name="ParserError",V},_parseIndexExpression:function(){if(this._lookahead(0)===R||this._lookahead(1)===R)return this._parseSliceExpression();var A={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(S),A},_projectIfSlice:function(A,V){var X={type:"IndexExpression",children:[A,V]};return V.type==="Slice"?{type:"Projection",children:[X,this._parseProjectionRHS(Me.Star)]}:X},_parseSliceExpression:function(){for(var A=[null,null,null],V=0,X=this._lookahead(0);X!==S&&V<3;){if(X===R)V++,this._advance();else if(X===Q)A[V]=this._lookaheadToken(0).value,this._advance();else{var oe=this._lookahead(0),me=new Error("Syntax error, unexpected token: "+oe.value+"("+oe.type+")");throw me.name="Parsererror",me}X=this._lookahead(0)}return this._match(S),{type:"Slice",children:A}},_parseComparator:function(A,V){var X=this.expression(Me[V]);return{type:"Comparator",name:V,children:[A,X]}},_parseDotRHS:function(A){var V=this._lookahead(0),X=[j,x,k];if(X.indexOf(V)>=0)return this.expression(A);if(V===$e)return this._match($e),this._parseMultiselectList();if(V===se)return this._match(se),this._parseMultiselectHash()},_parseProjectionRHS:function(A){var V;if(Me[this._lookahead(0)]<10)V={type:"Identity"};else if(this._lookahead(0)===$e)V=this.expression(A);else if(this._lookahead(0)===P)V=this.expression(A);else if(this._lookahead(0)===D)this._match(D),V=this._parseDotRHS(A);else{var X=this._lookaheadToken(0),oe=new Error("Sytanx error, unexpected token: "+X.value+"("+X.type+")");throw oe.name="ParserError",oe}return V},_parseMultiselectList:function(){for(var A=[];this._lookahead(0)!==S;){var V=this.expression(0);if(A.push(V),this._lookahead(0)===B&&(this._match(B),this._lookahead(0)===S))throw new Error("Unexpected token Rbracket")}return this._match(S),{type:"MultiSelectList",children:A}},_parseMultiselectHash:function(){for(var A=[],V=[j,x],X,oe,me,Te;;){if(X=this._lookaheadToken(0),V.indexOf(X.type)<0)throw new Error("Expecting an identifier token, got: "+X.type);if(oe=X.value,this._advance(),this._match(R),me=this.expression(0),Te={type:"KeyValuePair",name:oe,value:me},A.push(Te),this._lookahead(0)===B)this._match(B);else if(this._lookahead(0)===F){this._match(F);break}}return{type:"MultiSelectHash",children:A}}};function Ce(A){this.runtime=A}Ce.prototype={search:function(A,V){return this.visit(A,V)},visit:function(A,V){var X,oe,me,Te,nt,dt,cn,Bn,Ht,Qe;switch(A.type){case"Field":return V!==null&&r(V)?(dt=V[A.name],dt===void 0?null:dt):null;case"Subexpression":for(me=this.visit(A.children[0],V),Qe=1;Qe<A.children.length;Qe++)if(me=this.visit(A.children[1],me),me===null)return null;return me;case"IndexExpression":return cn=this.visit(A.children[0],V),Bn=this.visit(A.children[1],cn),Bn;case"Index":if(!t(V))return null;var $t=A.value;return $t<0&&($t=V.length+$t),me=V[$t],me===void 0&&(me=null),me;case"Slice":if(!t(V))return null;var Pn=A.children.slice(0),Hr=this.computeSliceParams(V.length,Pn),qn=Hr[0],un=Hr[1],ir=Hr[2];if(me=[],ir>0)for(Qe=qn;Qe<un;Qe+=ir)me.push(V[Qe]);else for(Qe=qn;Qe>un;Qe+=ir)me.push(V[Qe]);return me;case"Projection":var nn=this.visit(A.children[0],V);if(!t(nn))return null;for(Ht=[],Qe=0;Qe<nn.length;Qe++)oe=this.visit(A.children[1],nn[Qe]),oe!==null&&Ht.push(oe);return Ht;case"ValueProjection":if(nn=this.visit(A.children[0],V),!r(nn))return null;Ht=[];var fe=s(nn);for(Qe=0;Qe<fe.length;Qe++)oe=this.visit(A.children[1],fe[Qe]),oe!==null&&Ht.push(oe);return Ht;case"FilterProjection":if(nn=this.visit(A.children[0],V),!t(nn))return null;var Re=[],ft=[];for(Qe=0;Qe<nn.length;Qe++)X=this.visit(A.children[2],nn[Qe]),o(X)||Re.push(nn[Qe]);for(var qt=0;qt<Re.length;qt++)oe=this.visit(A.children[1],Re[qt]),oe!==null&&ft.push(oe);return ft;case"Comparator":switch(Te=this.visit(A.children[0],V),nt=this.visit(A.children[1],V),A.name){case ie:me=i(Te,nt);break;case ee:me=!i(Te,nt);break;case G:me=Te>nt;break;case M:me=Te>=nt;break;case L:me=Te<nt;break;case E:me=Te<=nt;break;default:throw new Error("Unknown comparator: "+A.name)}return me;case H:var Wt=this.visit(A.children[0],V);if(!t(Wt))return null;var en=[];for(Qe=0;Qe<Wt.length;Qe++)oe=Wt[Qe],t(oe)?en.push.apply(en,oe):en.push(oe);return en;case"Identity":return V;case"MultiSelectList":if(V===null)return null;for(Ht=[],Qe=0;Qe<A.children.length;Qe++)Ht.push(this.visit(A.children[Qe],V));return Ht;case"MultiSelectHash":if(V===null)return null;Ht={};var Xt;for(Qe=0;Qe<A.children.length;Qe++)Xt=A.children[Qe],Ht[Xt.name]=this.visit(Xt.value,V);return Ht;case"OrExpression":return X=this.visit(A.children[0],V),o(X)&&(X=this.visit(A.children[1],V)),X;case"AndExpression":return Te=this.visit(A.children[0],V),o(Te)===!0?Te:this.visit(A.children[1],V);case"NotExpression":return Te=this.visit(A.children[0],V),o(Te);case"Literal":return A.value;case U:return cn=this.visit(A.children[0],V),this.visit(A.children[1],cn);case Z:return V;case"Function":var Cr=[];for(Qe=0;Qe<A.children.length;Qe++)Cr.push(this.visit(A.children[Qe],V));return this.runtime.callFunction(A.name,Cr);case"ExpressionReference":var or=A.children[0];return or.jmespathType=J,or;default:throw new Error("Unknown node type: "+A.type)}},computeSliceParams:function(A,V){var X=V[0],oe=V[1],me=V[2],Te=[null,null,null];if(me===null)me=1;else if(me===0){var nt=new Error("Invalid slice, step cannot be 0");throw nt.name="RuntimeError",nt}var dt=me<0;return X===null?X=dt?A-1:0:X=this.capSliceRange(A,X,me),oe===null?oe=dt?-1:A:oe=this.capSliceRange(A,oe,me),Te[0]=X,Te[1]=oe,Te[2]=me,Te},capSliceRange:function(A,V,X){return V<0?(V+=A,V<0&&(V=X<0?-1:0)):V>=A&&(V=X<0?A-1:A),V}};function Je(A){this._interpreter=A,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[l]}]},avg:{_func:this._functionAvg,_signature:[{types:[v]}]},ceil:{_func:this._functionCeil,_signature:[{types:[l]}]},contains:{_func:this._functionContains,_signature:[{types:[u,d]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[u]},{types:[u]}]},floor:{_func:this._functionFloor,_signature:[{types:[l]}]},length:{_func:this._functionLength,_signature:[{types:[u,d,f]}]},map:{_func:this._functionMap,_signature:[{types:[p]},{types:[d]}]},max:{_func:this._functionMax,_signature:[{types:[v,m]}]},merge:{_func:this._functionMerge,_signature:[{types:[f],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[d]},{types:[p]}]},sum:{_func:this._functionSum,_signature:[{types:[v]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[u]},{types:[u]}]},min:{_func:this._functionMin,_signature:[{types:[v,m]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[d]},{types:[p]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[f]}]},values:{_func:this._functionValues,_signature:[{types:[f]}]},sort:{_func:this._functionSort,_signature:[{types:[m,v]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[d]},{types:[p]}]},join:{_func:this._functionJoin,_signature:[{types:[u]},{types:[m]}]},reverse:{_func:this._functionReverse,_signature:[{types:[u,d]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}Je.prototype={callFunction:function(A,V){var X=this.functionTable[A];if(X===void 0)throw new Error("Unknown function: "+A+"()");return this._validateArgs(A,V,X._signature),X._func.call(this,V)},_validateArgs:function(A,V,X){var oe;if(X[X.length-1].variadic){if(V.length<X.length)throw oe=X.length===1?" argument":" arguments",new Error("ArgumentError: "+A+"() takes at least"+X.length+oe+" but received "+V.length)}else if(V.length!==X.length)throw oe=X.length===1?" argument":" arguments",new Error("ArgumentError: "+A+"() takes "+X.length+oe+" but received "+V.length);for(var me,Te,nt,dt=0;dt<X.length;dt++){nt=!1,me=X[dt].types,Te=this._getTypeName(V[dt]);for(var cn=0;cn<me.length;cn++)if(this._typeMatches(Te,me[cn],V[dt])){nt=!0;break}if(!nt){var Bn=me.map(function(Ht){return y[Ht]}).join(",");throw new Error("TypeError: "+A+"() expected argument "+(dt+1)+" to be type "+Bn+" but received type "+y[Te]+" instead.")}}},_typeMatches:function(A,V,X){if(V===c)return!0;if(V===m||V===v||V===d){if(V===d)return A===d;if(A===d){var oe;V===v?oe=l:V===m&&(oe=u);for(var me=0;me<X.length;me++)if(!this._typeMatches(this._getTypeName(X[me]),oe,X[me]))return!1;return!0}}else return A===V},_getTypeName:function(A){switch(Object.prototype.toString.call(A)){case"[object String]":return u;case"[object Number]":return l;case"[object Array]":return d;case"[object Boolean]":return h;case"[object Null]":return g;case"[object Object]":return A.jmespathType===J?p:f}},_functionStartsWith:function(A){return A[0].lastIndexOf(A[1])===0},_functionEndsWith:function(A){var V=A[0],X=A[1];return V.indexOf(X,V.length-X.length)!==-1},_functionReverse:function(A){var V=this._getTypeName(A[0]);if(V===u){for(var X=A[0],oe="",me=X.length-1;me>=0;me--)oe+=X[me];return oe}else{var Te=A[0].slice(0);return Te.reverse(),Te}},_functionAbs:function(A){return Math.abs(A[0])},_functionCeil:function(A){return Math.ceil(A[0])},_functionAvg:function(A){for(var V=0,X=A[0],oe=0;oe<X.length;oe++)V+=X[oe];return V/X.length},_functionContains:function(A){return A[0].indexOf(A[1])>=0},_functionFloor:function(A){return Math.floor(A[0])},_functionLength:function(A){return r(A[0])?Object.keys(A[0]).length:A[0].length},_functionMap:function(A){for(var V=[],X=this._interpreter,oe=A[0],me=A[1],Te=0;Te<me.length;Te++)V.push(X.visit(oe,me[Te]));return V},_functionMerge:function(A){for(var V={},X=0;X<A.length;X++){var oe=A[X];for(var me in oe)V[me]=oe[me]}return V},_functionMax:function(A){if(A[0].length>0){var V=this._getTypeName(A[0][0]);if(V===l)return Math.max.apply(Math,A[0]);for(var X=A[0],oe=X[0],me=1;me<X.length;me++)oe.localeCompare(X[me])<0&&(oe=X[me]);return oe}else return null},_functionMin:function(A){if(A[0].length>0){var V=this._getTypeName(A[0][0]);if(V===l)return Math.min.apply(Math,A[0]);for(var X=A[0],oe=X[0],me=1;me<X.length;me++)X[me].localeCompare(oe)<0&&(oe=X[me]);return oe}else return null},_functionSum:function(A){for(var V=0,X=A[0],oe=0;oe<X.length;oe++)V+=X[oe];return V},_functionType:function(A){switch(this._getTypeName(A[0])){case l:return"number";case u:return"string";case d:return"array";case f:return"object";case h:return"boolean";case p:return"expref";case g:return"null"}},_functionKeys:function(A){return Object.keys(A[0])},_functionValues:function(A){for(var V=A[0],X=Object.keys(V),oe=[],me=0;me<X.length;me++)oe.push(V[X[me]]);return oe},_functionJoin:function(A){var V=A[0],X=A[1];return X.join(V)},_functionToArray:function(A){return this._getTypeName(A[0])===d?A[0]:[A[0]]},_functionToString:function(A){return this._getTypeName(A[0])===u?A[0]:JSON.stringify(A[0])},_functionToNumber:function(A){var V=this._getTypeName(A[0]),X;return V===l?A[0]:V===u&&(X=+A[0],!isNaN(X))?X:null},_functionNotNull:function(A){for(var V=0;V<A.length;V++)if(this._getTypeName(A[V])!==g)return A[V];return null},_functionSort:function(A){var V=A[0].slice(0);return V.sort(),V},_functionSortBy:function(A){var V=A[0].slice(0);if(V.length===0)return V;var X=this._interpreter,oe=A[1],me=this._getTypeName(X.visit(oe,V[0]));if([l,u].indexOf(me)<0)throw new Error("TypeError");for(var Te=this,nt=[],dt=0;dt<V.length;dt++)nt.push([dt,V[dt]]);nt.sort(function(Bn,Ht){var Qe=X.visit(oe,Bn[1]),$t=X.visit(oe,Ht[1]);if(Te._getTypeName(Qe)!==me)throw new Error("TypeError: expected "+me+", received "+Te._getTypeName(Qe));if(Te._getTypeName($t)!==me)throw new Error("TypeError: expected "+me+", received "+Te._getTypeName($t));return Qe>$t?1:Qe<$t?-1:Bn[0]-Ht[0]});for(var cn=0;cn<nt.length;cn++)V[cn]=nt[cn][1];return V},_functionMaxBy:function(A){for(var V=A[1],X=A[0],oe=this.createKeyFunction(V,[l,u]),me=-1/0,Te,nt,dt=0;dt<X.length;dt++)nt=oe(X[dt]),nt>me&&(me=nt,Te=X[dt]);return Te},_functionMinBy:function(A){for(var V=A[1],X=A[0],oe=this.createKeyFunction(V,[l,u]),me=1/0,Te,nt,dt=0;dt<X.length;dt++)nt=oe(X[dt]),nt<me&&(me=nt,Te=X[dt]);return Te},createKeyFunction:function(A,V){var X=this,oe=this._interpreter,me=function(Te){var nt=oe.visit(A,Te);if(V.indexOf(X._getTypeName(nt))<0){var dt="TypeError: expected one of "+V+", received "+X._getTypeName(nt);throw new Error(dt)}return nt};return me}};function ae(A){var V=new At,X=V.parse(A);return X}function mt(A){var V=new Gt;return V.tokenize(A)}function we(A,V){var X=new At,oe=new Je,me=new Ce(oe);oe._interpreter=me;var Te=X.parse(V);return me.search(Te,A)}e.tokenize=mt,e.compile=ae,e.search=we,e.strictDeepEqual=i})(n)})(gL);class vL{add(e,t,r){if(typeof arguments[0]!="string")for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][r?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(r){r.call(t&&t.context?t.context:t,t)})}}class yL{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(i=>{if(typeof i!="object"||!i.name||!i.init)throw new Error("Invalid JSEP plugin format");this.registered[i.name]||(i.init(this.jsep),this.registered[i.name]=i)})}}class pe{static get version(){return"1.3.9"}static toString(){return"JavaScript Expression Parser (JSEP) v"+pe.version}static addUnaryOp(e){return pe.max_unop_len=Math.max(e.length,pe.max_unop_len),pe.unary_ops[e]=1,pe}static addBinaryOp(e,t,r){return pe.max_binop_len=Math.max(e.length,pe.max_binop_len),pe.binary_ops[e]=t,r?pe.right_associative.add(e):pe.right_associative.delete(e),pe}static addIdentifierChar(e){return pe.additional_identifier_chars.add(e),pe}static addLiteral(e,t){return pe.literals[e]=t,pe}static removeUnaryOp(e){return delete pe.unary_ops[e],e.length===pe.max_unop_len&&(pe.max_unop_len=pe.getMaxKeyLen(pe.unary_ops)),pe}static removeAllUnaryOps(){return pe.unary_ops={},pe.max_unop_len=0,pe}static removeIdentifierChar(e){return pe.additional_identifier_chars.delete(e),pe}static removeBinaryOp(e){return delete pe.binary_ops[e],e.length===pe.max_binop_len&&(pe.max_binop_len=pe.getMaxKeyLen(pe.binary_ops)),pe.right_associative.delete(e),pe}static removeAllBinaryOps(){return pe.binary_ops={},pe.max_binop_len=0,pe}static removeLiteral(e){return delete pe.literals[e],pe}static removeAllLiterals(){return pe.literals={},pe}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new pe(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return pe.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!pe.binary_ops[String.fromCharCode(e)]||pe.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return pe.isIdentifierStart(e)||pe.isDecimalDigit(e)}throwError(e){const t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(pe.hooks[e]){const r={context:this,node:t};return pe.hooks.run(e,r),r.node}return t}searchHook(e){if(pe.hooks[e]){const t={context:this};return pe.hooks[e].find(function(r){return r.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===pe.SPACE_CODE||e===pe.TAB_CODE||e===pe.LF_CODE||e===pe.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),t=e.length===1?e[0]:{type:pe.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t=[],r,i;for(;this.index<this.expr.length;)if(r=this.code,r===pe.SEMCOL_CODE||r===pe.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())t.push(i);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,pe.max_binop_len),t=e.length;for(;t>0;){if(pe.binary_ops.hasOwnProperty(e)&&(!pe.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!pe.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,r,i,o,s,a,l,c;if(s=this.gobbleToken(),!s||(t=this.gobbleBinaryOp(),!t))return s;for(o={value:t,prec:pe.binaryPrecedence(t),right_a:pe.right_associative.has(t)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+t),i=[s,o,a];t=this.gobbleBinaryOp();){if(r=pe.binaryPrecedence(t),r===0){this.index-=t.length;break}o={value:t,prec:r,right_a:pe.right_associative.has(t)},c=t;const u=d=>o.right_a&&d.right_a?r>d.prec:r<=d.prec;for(;i.length>2&&u(i[i.length-2]);)a=i.pop(),t=i.pop().value,s=i.pop(),e={type:pe.BINARY_EXP,operator:t,left:s,right:a},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+c),i.push(o,e)}for(l=i.length-1,e=i[l];l>1;)e={type:pe.BINARY_EXP,operator:i[l-1].value,left:i[l-2],right:e},l-=2;return e}gobbleToken(){let e,t,r,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,pe.isDecimalDigit(e)||e===pe.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===pe.SQUOTE_CODE||e===pe.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===pe.OBRACK_CODE)i=this.gobbleArray();else{for(t=this.expr.substr(this.index,pe.max_unop_len),r=t.length;r>0;){if(pe.unary_ops.hasOwnProperty(t)&&(!pe.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!pe.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=r;const o=this.gobbleToken();return o||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:pe.UNARY_EXP,operator:t,argument:o,prefix:!0})}t=t.substr(0,--r)}pe.isIdentifierStart(e)?(i=this.gobbleIdentifier(),pe.literals.hasOwnProperty(i.name)?i={type:pe.LITERAL,value:pe.literals[i.name],raw:i.name}:i.name===pe.this_str&&(i={type:pe.THIS_EXP})):e===pe.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===pe.PERIOD_CODE||t===pe.OBRACK_CODE||t===pe.OPAREN_CODE||t===pe.QUMARK_CODE;){let r;if(t===pe.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==pe.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===pe.OBRACK_CODE?(e={type:pe.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},e.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),t=this.code,t!==pe.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===pe.OPAREN_CODE?e={type:pe.CALL_EXP,arguments:this.gobbleArguments(pe.CPAREN_CODE),callee:e}:(t===pe.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:pe.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e="",t,r;for(;pe.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===pe.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);pe.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,t==="e"||t==="E"){for(e+=this.expr.charAt(this.index++),t=this.char,(t==="+"||t==="-")&&(e+=this.expr.charAt(this.index++));pe.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);pe.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,pe.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===pe.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===pe.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:pe.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="";const t=this.index,r=this.expr.charAt(this.index++);let i=!1;for(;this.index<this.expr.length;){let o=this.expr.charAt(this.index++);if(o===r){i=!0;break}else if(o==="\\")switch(o=this.expr.charAt(this.index++),o){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=o}else e+=o}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:pe.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(pe.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,pe.isIdentifierPart(e));)this.index++;return{type:pe.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){const t=[];let r=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let o=this.code;if(o===e){r=!0,this.index++,e===pe.CPAREN_CODE&&i&&i>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(o===pe.COMMA_CODE){if(this.index++,i++,i!==t.length){if(e===pe.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===pe.CBRACK_CODE)for(let s=t.length;s<i;s++)t.push(null)}}else if(t.length!==i&&i!==0)this.throwError("Expected comma");else{const s=this.gobbleExpression();(!s||s.type===pe.COMPOUND)&&this.throwError("Expected comma"),t.push(s)}}return r||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(pe.CPAREN_CODE);if(this.code===pe.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:pe.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:pe.ARRAY_EXP,elements:this.gobbleArguments(pe.CBRACK_CODE)}}}const bL=new vL;Object.assign(pe,{hooks:bL,plugins:new yL(pe),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});pe.max_unop_len=pe.getMaxKeyLen(pe.unary_ops);pe.max_binop_len=pe.getMaxKeyLen(pe.binary_ops);const zs=n=>new pe(n).parse(),xL=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(pe).filter(n=>!xL.includes(n)&&zs[n]===void 0).forEach(n=>{zs[n]=pe[n]});zs.Jsep=pe;const wL="ConditionalExpression";var jL={name:"ternary",init(n){n.hooks.add("after-expression",function(t){if(t.node&&this.code===n.QUMARK_CODE){this.index++;const r=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===n.COLON_CODE){this.index++;const o=this.gobbleExpression();if(o||this.throwError("Expected expression"),t.node={type:wL,test:r,consequent:i,alternate:o},r.operator&&n.binary_ops[r.operator]<=.9){let s=r;for(;s.right.operator&&n.binary_ops[s.right.operator]<=.9;)s=s.right;t.node.test=s.right,s.right=t.node,t.node=r}}else this.throwError("Expected :")}})}};zs.plugins.register(jL);const vx=47,$L=92;var kL={name:"regex",init(n){n.hooks.add("gobble-token",function(t){if(this.code===vx){const r=++this.index;let i=!1;for(;this.index<this.expr.length;){if(this.code===vx&&!i){const o=this.expr.slice(r,this.index);let s="";for(;++this.index<this.expr.length;){const l=this.code;if(l>=97&&l<=122||l>=65&&l<=90||l>=48&&l<=57)s+=this.char;else break}let a;try{a=new RegExp(o,s)}catch(l){this.throwError(l.message)}return t.node={type:n.LITERAL,value:a,raw:this.expr.slice(r-1,this.index)},t.node=this.gobbleTokenProperty(t.node),t.node}this.code===n.OBRACK_CODE?i=!0:i&&this.code===n.CBRACK_CODE&&(i=!1),this.index+=this.code===$L?2:1}this.throwError("Unclosed Regex")}})}};const Ip=43,CL=45,Va={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|="]),updateOperators:[Ip,CL],assignmentPrecedence:.9,init(n){const e=[n.IDENTIFIER,n.MEMBER_EXP];Va.assignmentOperators.forEach(r=>n.addBinaryOp(r,Va.assignmentPrecedence,!0)),n.hooks.add("gobble-token",function(i){const o=this.code;Va.updateOperators.some(s=>s===o&&s===this.expr.charCodeAt(this.index+1))&&(this.index+=2,i.node={type:"UpdateExpression",operator:o===Ip?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!i.node.argument||!e.includes(i.node.argument.type))&&this.throwError(`Unexpected ${i.node.operator}`))}),n.hooks.add("after-token",function(i){if(i.node){const o=this.code;Va.updateOperators.some(s=>s===o&&s===this.expr.charCodeAt(this.index+1))&&(e.includes(i.node.type)||this.throwError(`Unexpected ${i.node.operator}`),this.index+=2,i.node={type:"UpdateExpression",operator:o===Ip?"++":"--",argument:i.node,prefix:!1})}}),n.hooks.add("after-expression",function(i){i.node&&t(i.node)});function t(r){Va.assignmentOperators.has(r.operator)?(r.type="AssignmentExpression",t(r.left),t(r.right)):r.operator||Object.values(r).forEach(i=>{i&&typeof i=="object"&&t(i)})}}};zs.plugins.register(kL,Va);zs.addUnaryOp("typeof");zs.addLiteral("null",null);zs.addLiteral("undefined",void 0);var SL=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],OL=["mainAxis","crossAxis","limiter"];function _3(n,e){if(n==null)return{};var t,r,i=function(s,a){if(s==null)return{};var l={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(a.includes(c))continue;l[c]=s[c]}return l}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function yx(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function st(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){yx(o,r,i,s,a,"next",l)}function a(l){yx(o,r,i,s,a,"throw",l)}s(void 0)})}}function bx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(t),!0).forEach(function(r){xg(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xg(n,e,t){return(e=function(r){var i=function(o,s){if(typeof o!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var l=a.call(o,s||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return typeof i=="symbol"?i:i+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ke(){}function Yn(n,e){for(var t in e)n[t]=e[t];return n}function T3(n){return n()}function xx(){return Object.create(null)}function tn(n){n.forEach(T3)}function ii(n){return typeof n=="function"}function Hn(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function yt(n,e){return n!=n?e==e:n!==e}function yn(n,e,t,r){if(n){var i=R3(n,e,t,r);return n[0](i)}}function R3(n,e,t,r){return n[1]&&r?Yn(t.ctx.slice(),n[1](r(e))):t.ctx}function bn(n,e,t,r){if(n[2]&&r){var i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){for(var o=[],s=Math.max(e.dirty.length,i.length),a=0;a<s;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function xn(n,e,t,r,i,o){if(i){var s=R3(e,t,r,o);n.p(s,i)}}function wn(n){if(n.ctx.length>32){for(var e=[],t=n.ctx.length/32,r=0;r<t;r++)e[r]=-1;return e}return-1}function N3(n){var e={};for(var t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Bf(n,e){var t={};for(var r in e=new Set(e),n)e.has(r)||r[0]==="$"||(t[r]=n[r]);return t}function Fr(n){return n??""}function $r(n){return n&&ii(n.destroy)?n.destroy:ke}var Iv=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function O(n,e){n.appendChild(e)}function ct(n,e,t){var r=function(o){if(!o)return document;var s=o.getRootNode?o.getRootNode():o.ownerDocument;return s&&s.host?s:o.ownerDocument}(n);if(!r.getElementById(e)){var i=I("style");i.id=e,i.textContent=t,function(o,s){O(o.head||o,s),s.sheet}(r,i)}}function K(n,e,t){n.insertBefore(e,t||null)}function W(n){n.parentNode&&n.parentNode.removeChild(n)}function Ln(n,e){for(var t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function I(n){return document.createElement(n)}function xo(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Se(n){return document.createTextNode(n)}function ne(){return Se(" ")}function Bt(){return Se("")}function ve(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Ls(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Hi(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function w(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}var Xc,EL=["width","height"];function wx(n,e){var t=Object.getOwnPropertyDescriptors(n.__proto__);for(var r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set&&EL.indexOf(r)===-1?n[r]=e[r]:w(n,r,e[r])}function Sl(n,e){for(var t in e)w(n,t,e[t])}function Xe(n,e){e=""+e,n.data!==e&&(n.data=e)}function Bs(n,e){n.value=e??""}function xr(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function he(n,e,t){n.classList.toggle(e,!!t)}function qf(n,e){return new n(e)}function Mc(n){Xc=n}function Fl(){if(!Xc)throw new Error("Function called outside component initialization");return Xc}function Vr(n){Fl().$$.on_mount.push(n)}function ri(n){Fl().$$.on_destroy.push(n)}function AL(){var n=Fl();return function(e,t){var{cancelable:r=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.$$.callbacks[e];if(i){var o=function(s,a){var{bubbles:l=!1,cancelable:c=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new CustomEvent(s,{detail:a,bubbles:l,cancelable:c})}(e,t,{cancelable:r});return i.slice().forEach(s=>{s.call(n,o)}),!o.defaultPrevented}return!0}}function Hs(n){return Fl().$$.context.get(n)}function gc(n,e){var t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}var Ua=[],xt=[],hl=[],wg=[],D3=Promise.resolve(),jg=!1;function I3(){jg||(jg=!0,D3.then(z3))}function kn(){return I3(),D3}function $g(n){hl.push(n)}function zr(n){wg.push(n)}var zp=new Set,Da=0;function z3(){if(Da===0){var n=Xc;do{try{for(;Da<Ua.length;){var e=Ua[Da];Da++,Mc(e),ML(e.$$)}}catch(i){throw Ua.length=0,Da=0,i}for(Mc(null),Ua.length=0,Da=0;xt.length;)xt.pop()();for(var t=0;t<hl.length;t+=1){var r=hl[t];zp.has(r)||(zp.add(r),r())}hl.length=0}while(Ua.length);for(;wg.length;)wg.pop()();jg=!1,zp.clear(),Mc(n)}}function ML(n){if(n.fragment!==null){n.update(),tn(n.before_update);var e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach($g)}}var aa,Jd=new Set;function be(){aa={r:0,c:[],p:aa}}function xe(){aa.r||tn(aa.c),aa=aa.p}function $(n,e){n&&n.i&&(Jd.delete(n),n.i(e))}function C(n,e,t,r){if(n&&n.o){if(Jd.has(n))return;Jd.add(n),aa.c.push(()=>{Jd.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function ut(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function PL(n,e){n.d(1),e.delete(n.key)}function zv(n,e){C(n,1,1,()=>{e.delete(n.key)})}function Rh(n,e,t,r,i,o,s,a,l,c,u,d){for(var f=n.length,h=o.length,p=f,g={};p--;)g[n[p].key]=p;var v=[],m=new Map,y=new Map,b=[];p=h;for(var j=function(){var J=d(i,o,p),U=t(J),T=s.get(U);T?b.push(()=>T.p(J,e)):(T=c(U,J)).c(),m.set(U,v[p]=T),U in g&&y.set(U,Math.abs(p-g[U]))};p--;)j();var x=new Set,S=new Set;function _(J){$(J,1),J.m(a,u),s.set(J.key,J),u=J.first,h--}for(;f&&h;){var B=v[h-1],R=n[f-1],F=B.key,Q=R.key;B===R?(u=B.first,f--,h--):m.has(Q)?!s.has(F)||x.has(F)?_(B):S.has(Q)?f--:y.get(F)>y.get(Q)?(S.add(F),_(B)):(x.add(Q),f--):(l(R,s),f--)}for(;f--;){var Z=n[f];m.has(Z.key)||l(Z,s)}for(;h;)_(v[h-1]);return tn(b),v}function Ur(n,e){for(var t={},r={},i={$$scope:1},o=n.length;o--;){var s=n[o],a=e[o];if(a){for(var l in s)l in a||(r[l]=1);for(var c in a)i[c]||(t[c]=a[c],i[c]=1);n[o]=a}else for(var u in s)i[u]=1}for(var d in r)d in t||(t[d]=void 0);return t}function wo(n){return typeof n=="object"&&n!==null?n:{}}function Lr(n,e,t){var r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function ue(n){n&&n.c()}function le(n,e,t){var{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),$g(()=>{var o=n.$$.on_mount.map(T3).filter(ii);n.$$.on_destroy?n.$$.on_destroy.push(...o):tn(o),n.$$.on_mount=[]}),i.forEach($g)}function ce(n,e){var t,r,i,o=n.$$;o.fragment!==null&&(t=o.after_update,r=[],i=[],hl.forEach(s=>t.indexOf(s)===-1?r.push(s):i.push(s)),i.forEach(s=>s()),hl=r,tn(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Ze(n,e,t,r,i,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[-1],l=Xc;Mc(n);var c=n.$$={fragment:null,ctx:[],props:o,update:ke,not_equal:i,bound:xx(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:xx(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);var u=!1;if(c.ctx=t?t(n,e.props||{},function(f,h){var p=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:h;return c.ctx&&i(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&function(g,v){g.$$.dirty[0]===-1&&(Ua.push(g),I3(),g.$$.dirty.fill(0)),g.$$.dirty[v/31|0]|=1<<v%31}(n,f)),h}):[],c.update(),u=!0,tn(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){var d=function(f){return Array.from(f.childNodes)}(e.target);c.fragment&&c.fragment.l(d),d.forEach(W)}else c.fragment&&c.fragment.c();e.intro&&$(n.$$.fragment),le(n,e.target,e.anchor),z3()}Mc(l)}let et=class{constructor(){xg(this,"$$",void 0),xg(this,"$$set",void 0)}$destroy(){ce(this,1),this.$destroy=ke}$on(e,t){if(!ii(t))return ke;var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){var t;this.$$set&&(t=e,Object.keys(t).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function Zn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){var i=function(o){try{if(typeof window<"u"&&window.localStorage!==void 0)return window.localStorage[o]}catch{}}("debug");return i!=null&&i.endsWith("*")?r.startsWith(i.slice(0,-1)):r===i}(n);if(!e)return _L;var t=function(r){for(var i=0,o=0;o<r.length;o++)i=(i<<5)-i+r.charCodeAt(o),i|=0;return jx[Math.abs(i)%jx.length]}(n);return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];console.log("%c".concat(n),"color:".concat(t),...i)}}function _L(){}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var jx=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"],TL=0;function Pc(){return++TL}function rr(n){return parseInt(n,10)}function Lv(n){return RL.test(n)}var RL=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Ut(n){return typeof n=="object"&&n!==null&&(n.constructor===void 0||n.constructor.name==="Object")}function Cn(n){return typeof n=="object"&&n!==null&&(n.constructor===void 0||n.constructor.name==="Object"||n.constructor.name==="Array")}function NL(n){return n===!0||n===!1}function kg(n){if(typeof n=="number")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n=="bigint")return kg(Number(n));try{var e=n&&n.valueOf();if(e!==n)return kg(e)}catch{return!1}return!1}function L3(n){(yd=yd||window.document.createElement("div")).style.color="",yd.style.color=n;var e=yd.style.color;return e!==""?e.replace(/\s+/g,"").toLowerCase():void 0}var yd=void 0;function DL(n){return typeof n=="string"&&n.length<99&&!!L3(n)}function Bv(n,e){if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"||n===void 0)return typeof n;if(typeof n=="bigint")return"number";if(n===null)return"null";if(Array.isArray(n))return"array";if(Ut(n))return"object";var t=e.stringify(n);return t&&Lv(t)?"number":t==="true"||t==="false"?"boolean":t==="null"?"null":"unknown"}var IL=/^https?:\/\/\S+$/;function Nh(n){return typeof n=="string"&&IL.test(n)}function Vl(n,e){if(n==="")return"";var t=n.trim();return t==="null"?null:t==="true"||t!=="false"&&(Lv(t)?e.parse(t):n)}var zL=1e4,LL=[];function $x(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Cg(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t={};if(!Array.isArray(n))throw new TypeError("Array expected");function r(s,a){(!Array.isArray(s)&&!Ut(s)||e&&a.length>0)&&(t[it(a)]=!0),Ut(s)&&Object.keys(s).forEach(l=>{r(s[l],a.concat(l))})}for(var i=Math.min(n.length,zL),o=0;o<i;o++)r(n[o],LL);return Object.keys(t).sort().map(bi)}function B3(n,e,t){if(!(e<=n))for(var r=n;r<e;r++)t(r)}function Ff(n,e){return n.length>e?n.slice(0,e):n}function kx(n){return Ee({},n)}function Cx(n){return Object.values(n)}function Sx(n,e,t,r){var i=n.slice(0),o=i.splice(e,t);return i.splice.apply(i,[e+r,0,...o]),i}function BL(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}function $u(n,e){try{return e.parse(n)}catch{return e.parse(mo(n))}}function q3(n,e){try{return $u(n,e)}catch{return}}function Dh(n,e){n=n.replace(V3,"");try{return e(n)}catch{}try{return e("["+n+"]")}catch{}try{return e("{"+n+"}")}catch{}throw new Error("Failed to parse partial JSON")}function F3(n){n=n.replace(V3,"");try{return mo(n)}catch{}try{var e=mo("["+n+"]");return e.substring(1,e.length-1)}catch{}try{var t=mo("{"+n+"}");return t.substring(1,t.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var V3=/,\s*$/;function Ol(n,e){var t=Ex.exec(e);if(t){var r=rr(t[2]),i=function(h,p){for(var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.length,m=0,y=g;y<v;y++)h.charAt(y)===p&&m++;return m}(n,`
`,0,r),o=r-n.lastIndexOf(`
`,r)-1;return{position:r,line:i,column:o,message:e.replace(Ex,()=>"line ".concat(i+1," column ").concat(o+1))}}var s=UL.exec(e),a=s?rr(s[1]):void 0,l=a!==void 0?a-1:void 0,c=HL.exec(e),u=c?rr(c[1]):void 0,d=u!==void 0?u-1:void 0,f=l!==void 0&&d!==void 0?function(h,p,g){for(var v=h.indexOf(`
`),m=1;m<p&&v!==-1;)v=h.indexOf(`
`,v+1),m++;return v!==-1?v+g+1:void 0}(n,l,d):void 0;return{position:f,line:l,column:d,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function Lp(n){return Ut(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':void 0:n.text===void 0?'Content must contain either a property "json" or a property "text"':typeof n.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':void 0:"Content must be an object"}function El(n){return Ut(n)&&typeof n.text=="string"}function Zc(n){return Ut(n)&&n.json!==void 0}function qL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JSON;return El(n)?n:{text:t.stringify(n.json,null,e)}}function Ox(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON;return Zc(n)?n:{json:e.parse(n.text)}}function Sg(n,e,t){return qL(n,e,t).text}function FL(n,e){return VL(n,e)>e}function VL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(El(n))return n.text.length;var t=n.json,r=0;return function i(o){if(Array.isArray(o)){if((r+=o.length-1+2)>e)return;for(var s=0;s<o.length;s++)if(i(o[s]),r>e)return}else if(Ut(o)){var a=Object.keys(o);r+=2+a.length+(a.length-1);for(var l=0;l<a.length;l++){var c=a[l],u=o[c];r+=c.length+2,i(u)}}else r+=typeof o=="string"?o.length+2:String(o).length}(t),r}var Ex=/(position|char) (\d+)/,UL=/line (\d+)/,HL=/column (\d+)/;function WL(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function Ax(n){var e=n.substring(0,999).trim();return!e.includes(`
`)&&KL.test(e)}var Tn,Yt,_i,zi,Li,yi,Es,KL=/[,:]\S/;function qv(n){var{escapeControlCharacters:e,escapeUnicodeCharacters:t}=n;return e?t?GL:JL:t?QL:YL}(function(n){n.text="text",n.tree="tree",n.table="table"})(Tn||(Tn={})),function(n){n.after="after",n.inside="inside",n.key="key",n.value="value",n.multi="multi",n.text="text"}(Yt||(Yt={})),function(n){n.after="after",n.key="key",n.value="value",n.inside="inside"}(_i||(_i={})),function(n){n.info="info",n.warning="warning",n.error="error"}(zi||(zi={})),function(n){n.key="key",n.value="value"}(Li||(Li={})),function(n){n.asc="asc",n.desc="desc"}(yi||(yi={})),function(n){n.no="no",n.self="self",n.nextInside="nextInside"}(Es||(Es={}));var GL={escapeValue:n=>U3(K3(String(n))),unescapeValue:n=>G3(H3(n))},JL={escapeValue:n=>K3(String(n)),unescapeValue:n=>G3(n)},QL={escapeValue:n=>U3(String(n)),unescapeValue:n=>H3(n)},YL={escapeValue:n=>String(n),unescapeValue:n=>n};function U3(n){return n.replace(/[^\x20-\x7F]/g,e=>{var t;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((t=e.codePointAt(0))===null||t===void 0?void 0:t.toString(16))).slice(-4)})}function H3(n){return n.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{var t=JSON.parse('"'+e+'"');return W3[t]||t}catch{return e}})}var W3={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},XL={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function K3(n){return n.replace(/["\b\f\n\r\t\\]/g,e=>W3[e]||e)}function G3(n){return n.replace(/\\["bfnrt\\]/g,e=>XL[e]||e)}function xa(n){return typeof n!="string"?String(n):n.endsWith(`
`)?n+`
`:n}function J3(n,e){return Ul(n,t=>t.nodeName.toUpperCase()===e.toUpperCase())}function js(n,e,t){return Ul(n,r=>function(i,o,s){return typeof i.getAttribute=="function"&&i.getAttribute(o)===s}(r,e,t))}function Ul(n,e){return!!Fv(n,e)}function Fv(n,e){for(var t=n;t&&!e(t);)t=t.parentNode;return t}function ku(n){var e,t;return(e=n==null||(t=n.ownerDocument)===null||t===void 0?void 0:t.defaultView)!==null&&e!==void 0?e:void 0}function Vv(n){var e=ku(n),t=e==null?void 0:e.document.activeElement;return!!t&&Ul(t,r=>r===n)}function Q3(n,e){return Fv(n,t=>t.nodeName===e)}function Bp(n){return js(n,"data-type","selectable-key")?Yt.key:js(n,"data-type","selectable-value")?Yt.value:js(n,"data-type","insert-selection-area-inside")?Yt.inside:js(n,"data-type","insert-selection-area-after")?Yt.after:Yt.multi}function Vf(n){return encodeURIComponent(it(n))}function Y3(n){var e,t=Fv(n,i=>!(i==null||!i.hasAttribute)&&i.hasAttribute("data-path")),r=(e=t==null?void 0:t.getAttribute("data-path"))!==null&&e!==void 0?e:void 0;return r?bi(decodeURIComponent(r)):void 0}function ZL(n){var{allElements:e,currentElement:t,direction:r,hasPrio:i=()=>!0,margin:o=10}=n,s=p5(e.filter(function(m){var y=m.getBoundingClientRect();return y.width>0&&y.height>0}),l),a=l(t);function l(m){var y=m.getBoundingClientRect();return{x:y.left+y.width/2,y:y.top+y.height/2,rect:y,element:m}}function c(m,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=m.x-y.x,x=(m.y-y.y)*b;return Math.sqrt(j*j+x*x)}var u=m=>c(m,a);if(r==="Left"||r==="Right"){var d=r==="Left"?s.filter(m=>{return y=a,m.rect.left+o<y.rect.left;var y}):s.filter(m=>{return y=a,m.rect.right>y.rect.right+o;var y}),f=d.filter(m=>{return y=m,b=a,Math.abs(y.y-b.y)<o;var y,b}),h=Tu(f,u)||Tu(d,m=>c(m,a,10));return h==null?void 0:h.element}if(r==="Up"||r==="Down"){var p=r==="Up"?s.filter(m=>{return y=a,m.y+o<y.y;var y}):s.filter(m=>{return y=a,m.y>y.y+o;var y}),g=p.filter(m=>i(m.element)),v=Tu(g,u)||Tu(p,u);return v==null?void 0:v.element}}function Uv(){var n,e,t,r;return typeof navigator<"u"&&(n=(e=(t=navigator)===null||t===void 0||(t=t.platform)===null||t===void 0?void 0:t.toUpperCase().includes("MAC"))!==null&&e!==void 0?e:(r=navigator)===null||r===void 0||(r=r.userAgentData)===null||r===void 0||(r=r.platform)===null||r===void 0?void 0:r.toUpperCase().includes("MAC"))!==null&&n!==void 0&&n}function Go(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",t=[];Hv(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uv)&&t.push("Ctrl"),n.altKey&&t.push("Alt"),n.shiftKey&&t.push("Shift");var r=n.key.length===1?n.key.toUpperCase():n.key;return r in eB||t.push(r),t.join(e)}function Hv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uv;return n.ctrlKey||n.metaKey&&e()}var eB={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0},{window:qp}=Iv;function tB(n){ct(n,"svelte-1r8q3m8",".jse-absolute-popup.svelte-1r8q3m8.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input.svelte-1r8q3m8{position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content.svelte-1r8q3m8{position:absolute}")}function Mx(n){var e,t,r,i,o,s,a=[n[0].props],l=n[0].component;function c(u,d){for(var f={},h=0;h<a.length;h+=1)f=Yn(f,a[h]);return d!==void 0&&1&d&&(f=Yn(f,Ur(a,[wo(u[0].props)]))),{props:f}}return l&&(i=qf(l,c(n))),{c(){e=I("div"),t=I("input"),r=ne(),i&&ue(i.$$.fragment),w(t,"type","text"),t.readOnly=!0,w(t,"tabindex","-1"),w(t,"class","jse-hidden-input svelte-1r8q3m8"),w(e,"class","jse-absolute-popup-content svelte-1r8q3m8"),w(e,"style",o=Px(n[1],n[0].options))},m(u,d){K(u,e,d),O(e,t),n[7](t),O(e,r),i&&le(i,e,null),s=!0},p(u,d){if(1&d&&l!==(l=u[0].component)){if(i){be();var f=i;C(f.$$.fragment,1,0,()=>{ce(f,1)}),xe()}l?(ue((i=qf(l,c(u,d))).$$.fragment),$(i.$$.fragment,1),le(i,e,null)):i=null}else if(l){var h=1&d?Ur(a,[wo(u[0].props)]):{};i.$set(h)}(!s||3&d&&o!==(o=Px(u[1],u[0].options)))&&w(e,"style",o)},i(u){s||(i&&$(i.$$.fragment,u),s=!0)},o(u){i&&C(i.$$.fragment,u),s=!1},d(u){u&&W(e),n[7](null),i&&ce(i)}}}function nB(n){var e,t,r,i,o=n[1]&&Mx(n);return{c(){e=I("div"),o&&o.c(),w(e,"role","none"),w(e,"class","jse-absolute-popup svelte-1r8q3m8")},m(s,a){K(s,e,a),o&&o.m(e,null),n[8](e),t=!0,r||(i=[ve(qp,"mousedown",n[3],!0),ve(qp,"keydown",n[4],!0),ve(qp,"wheel",n[5],!0),ve(e,"mousedown",rB),ve(e,"keydown",n[4])],r=!0)},p(s,a){var[l]=a;s[1]?o?(o.p(s,l),2&l&&$(o,1)):((o=Mx(s)).c(),$(o,1),o.m(e,null)):o&&(be(),C(o,1,1,()=>{o=null}),xe())},i(s){t||($(o),t=!0)},o(s){C(o),t=!1},d(s){s&&W(e),o&&o.d(),n[8](null),r=!1,tn(i)}}}function rB(n){n.stopPropagation()}function Px(n,e){var t=n.getBoundingClientRect(),{left:r,top:i,positionAbove:o,positionLeft:s}=function(){if(e.anchor){var{anchor:a,width:l=0,height:c=0,offsetTop:u=0,offsetLeft:d=0,position:f}=e,{left:h,top:p,bottom:g,right:v}=a.getBoundingClientRect(),m=f==="top"||p+c>window.innerHeight&&p>c,y=f==="left"||h+l>window.innerWidth&&h>l;return{left:y?v-d:h+d,top:m?p-u:g+u,positionAbove:m,positionLeft:y}}if(typeof e.left=="number"&&typeof e.top=="number"){var{left:b,top:j,width:x=0,height:S=0}=e;return{left:b,top:j,positionAbove:j+S>window.innerHeight&&j>S,positionLeft:b+x>window.innerWidth&&b>x}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}();return(o?"bottom: ".concat(t.top-i,"px;"):"top: ".concat(i-t.top,"px;"))+(s?"right: ".concat(t.left-r,"px;"):"left: ".concat(r-t.left,"px;"))}function iB(n,e,t){var r,i,{popup:o}=e,{closeAbsolutePopup:s}=e;function a(l){o.options&&o.options.closeOnOuterClick&&!Ul(l.target,c=>c===r)&&s(o.id)}return Vr(function(){i&&i.focus()}),n.$$set=l=>{"popup"in l&&t(0,o=l.popup),"closeAbsolutePopup"in l&&t(6,s=l.closeAbsolutePopup)},[o,r,i,function(l){a(l)},function(l){Go(l)==="Escape"&&(l.preventDefault(),l.stopPropagation(),s(o.id))},function(l){a(l)},s,function(l){xt[l?"unshift":"push"](()=>{t(2,i=l)})},function(l){xt[l?"unshift":"push"](()=>{t(1,r=l)})}]}let oB=class extends et{constructor(e){super(),Ze(this,e,iB,nB,Hn,{popup:0,closeAbsolutePopup:6},tB)}};function _x(n,e,t){var r=n.slice();return r[6]=e[t],r}function Tx(n){var e,t;return e=new oB({props:{popup:n[6],closeAbsolutePopup:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.popup=r[6]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function sB(n){for(var e,t,r=ut(n[0]),i=[],o=0;o<r.length;o+=1)i[o]=Tx(_x(n,r,o));var s=c=>C(i[c],1,1,()=>{i[c]=null}),a=n[3].default,l=yn(a,n,n[2],null);return{c(){for(var c=0;c<i.length;c+=1)i[c].c();e=ne(),l&&l.c()},m(c,u){for(var d=0;d<i.length;d+=1)i[d]&&i[d].m(c,u);K(c,e,u),l&&l.m(c,u),t=!0},p(c,u){var[d]=u;if(3&d){var f;for(r=ut(c[0]),f=0;f<r.length;f+=1){var h=_x(c,r,f);i[f]?(i[f].p(h,d),$(i[f],1)):(i[f]=Tx(h),i[f].c(),$(i[f],1),i[f].m(e.parentNode,e))}for(be(),f=r.length;f<i.length;f+=1)s(f);xe()}l&&l.p&&(!t||4&d)&&xn(l,a,c,c[2],t?bn(a,c[2],d,null):wn(c[2]),null)},i(c){if(!t){for(var u=0;u<r.length;u+=1)$(i[u]);$(l,c),t=!0}},o(c){i=i.filter(Boolean);for(var u=0;u<i.length;u+=1)C(i[u]);C(l,c),t=!1},d(c){c&&W(e),Ln(i,c),l&&l.d(c)}}}function aB(n,e,t){var r,i,{$$slots:o={},$$scope:s}=e,a=Zn("jsoneditor:AbsolutePopup"),l=[];function c(u){var d=l.findIndex(h=>h.id===u);if(d!==-1){var f=l[d];f.options.onClose&&f.options.onClose(),t(0,l=l.filter(h=>h.id!==u))}}return r="absolute-popup",i={openAbsolutePopup:function(u,d,f){a("open...",d,f);var h={id:Pc(),component:u,props:d||{},options:f||{}};return t(0,l=[...l,h]),h.id},closeAbsolutePopup:c},Fl().$$.context.set(r,i),n.$$set=u=>{"$$scope"in u&&t(2,s=u.$$scope)},n.$$.update=()=>{1&n.$$.dirty&&a("popups",l)},[l,c,s,o]}let Wv=class extends et{constructor(e){super(),Ze(this,e,aB,sB,yt,{})}};function Cu(n,e){for(var t=new Set(e),r=n.replace(/ \(copy( \d+)?\)$/,""),i=n,o=1;t.has(i);){var s="copy"+(o>1?" "+o:"");i="".concat(r," (").concat(s,")"),o++}return i}function Jo(n,e){var t=e-3;return n.length>e?n.substring(0,t)+"...":n}function lB(n){if(n==="")return"";var e=n.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var t=Number(n),r=parseFloat(n);return isNaN(t)||isNaN(r)?n:t}}var cB={id:"jsonquery",name:"JSONQuery",description:`
<p>
  Enter a <a href="https://jsonquerylang.org" target="_blank" 
  rel="noopener noreferrer">JSON Query</a> function to filter, sort, or transform the data.
  You can use functions like <code>get</code>, <code>filter</code>,
  <code>sort</code>, <code>pick</code>, <code>groupBy</code>, <code>uniq</code>, etcetera. 
  Example query: <code>filter(.age >= 18)</code>
</p>
`,createQuery:function(n,e){var{filter:t,sort:r,projection:i}=e,o=[];t&&t.path&&t.relation&&t.value&&o.push(["filter",[(s=t.relation,Ck("1 ".concat(s," 1"))[0]),bd(t.path),lB(t.value)]]);var s;return r&&r.path&&r.direction&&o.push(["sort",bd(r.path),r.direction==="desc"?"desc":"asc"]),i&&i.paths&&(i.paths.length>1?o.push(["pick",...i.paths.map(bd)]):o.push(["map",bd(i.paths[0])])),zE(["pipe",...o])},executeQuery:function(n,e){return e.trim()!==""?LE(n,e):n}};function bd(n){return["get",...n]}function uB(n){var e;return{c(){e=xo("g")},m(t,r){K(t,e,r),e.innerHTML=n[0]},p(t,r){var[i]=r;1&i&&(e.innerHTML=t[0])},i:ke,o:ke,d(t){t&&W(e)}}}function dB(n,e,t){var r=870711,i="",{data:o}=e;function s(a){if(!a||!a.raw)return"";var l=a.raw,c={};return l=l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(u,d)=>{var f="fa-".concat((r+=1).toString(16));return c[d]=f,' id="'.concat(f,'"')}),l=l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(u,d,f,h)=>{var p=d||h;return p&&c[p]?"#".concat(c[p]):u}),l}return n.$$set=a=>{"data"in a&&t(1,o=a.data)},n.$$.update=()=>{2&n.$$.dirty&&t(0,i=s(o))},[i,o]}let fB=class extends et{constructor(e){super(),Ze(this,e,dB,uB,Hn,{data:1})}};function hB(n){ct(n,"svelte-1mc5hvj",".fa-icon.svelte-1mc5hvj{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1mc5hvj{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1mc5hvj{transform:scale(1, -1)}.fa-spin.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1mc5hvj{color:#fff}.fa-pulse.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s infinite steps(8)}@keyframes svelte-1mc5hvj-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function pB(n){for(var e,t,r,i,o=n[12].default,s=yn(o,n,n[11],null),a=[{version:"1.1"},{class:t="fa-icon "+n[0]},{width:n[1]},{height:n[2]},{"aria-label":n[9]},{role:r=n[9]?"img":"presentation"},{viewBox:n[3]},{style:n[8]},n[10]],l={},c=0;c<a.length;c+=1)l=Yn(l,a[c]);return{c(){e=xo("svg"),s&&s.c(),Sl(e,l),he(e,"fa-spin",n[4]),he(e,"fa-pulse",n[6]),he(e,"fa-inverse",n[5]),he(e,"fa-flip-horizontal",n[7]==="horizontal"),he(e,"fa-flip-vertical",n[7]==="vertical"),he(e,"svelte-1mc5hvj",!0)},m(u,d){K(u,e,d),s&&s.m(e,null),i=!0},p(u,d){var[f]=d;s&&s.p&&(!i||2048&f)&&xn(s,o,u,u[11],i?bn(o,u[11],f,null):wn(u[11]),null),Sl(e,l=Ur(a,[{version:"1.1"},(!i||1&f&&t!==(t="fa-icon "+u[0]))&&{class:t},(!i||2&f)&&{width:u[1]},(!i||4&f)&&{height:u[2]},(!i||512&f)&&{"aria-label":u[9]},(!i||512&f&&r!==(r=u[9]?"img":"presentation"))&&{role:r},(!i||8&f)&&{viewBox:u[3]},(!i||256&f)&&{style:u[8]},1024&f&&u[10]])),he(e,"fa-spin",u[4]),he(e,"fa-pulse",u[6]),he(e,"fa-inverse",u[5]),he(e,"fa-flip-horizontal",u[7]==="horizontal"),he(e,"fa-flip-vertical",u[7]==="vertical"),he(e,"svelte-1mc5hvj",!0)},i(u){i||($(s,u),i=!0)},o(u){C(s,u),i=!1},d(u){u&&W(e),s&&s.d(u)}}}function mB(n,e,t){var r=["class","width","height","box","spin","inverse","pulse","flip","style","label"],i=Bf(e,r),{$$slots:o={},$$scope:s}=e,{class:a=""}=e,{width:l}=e,{height:c}=e,{box:u="0 0 0 0"}=e,{spin:d=!1}=e,{inverse:f=!1}=e,{pulse:h=!1}=e,{flip:p="none"}=e,{style:g=""}=e,{label:v=""}=e;return n.$$set=m=>{e=Yn(Yn({},e),N3(m)),t(10,i=Bf(e,r)),"class"in m&&t(0,a=m.class),"width"in m&&t(1,l=m.width),"height"in m&&t(2,c=m.height),"box"in m&&t(3,u=m.box),"spin"in m&&t(4,d=m.spin),"inverse"in m&&t(5,f=m.inverse),"pulse"in m&&t(6,h=m.pulse),"flip"in m&&t(7,p=m.flip),"style"in m&&t(8,g=m.style),"label"in m&&t(9,v=m.label),"$$scope"in m&&t(11,s=m.$$scope)},[a,l,c,u,d,f,h,p,g,v,i,s,o]}let gB=class extends et{constructor(e){super(),Ze(this,e,mB,pB,Hn,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,style:8,label:9},hB)}};function Rx(n,e,t){var r=n.slice();return r[24]=e[t],r}function Nx(n,e,t){var r=n.slice();return r[27]=e[t],r}function Dx(n){for(var e,t=[n[27]],r={},i=0;i<t.length;i+=1)r=Yn(r,t[i]);return{c(){Sl(e=xo("path"),r)},m(o,s){K(o,e,s)},p(o,s){Sl(e,r=Ur(t,[64&s&&o[27]]))},d(o){o&&W(e)}}}function Ix(n){for(var e,t=[n[24]],r={},i=0;i<t.length;i+=1)r=Yn(r,t[i]);return{c(){Sl(e=xo("polygon"),r)},m(o,s){K(o,e,s)},p(o,s){Sl(e,r=Ur(t,[64&s&&o[24]]))},d(o){o&&W(e)}}}function zx(n){var e,t,r;function i(s){n[16](s)}var o={};return n[6]!==void 0&&(o.data=n[6]),e=new fB({props:o}),xt.push(()=>Lr(e,"data",i)),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),r=!0},p(s,a){var l={};!t&&64&a&&(t=!0,l.data=s[6],zr(()=>t=!1)),e.$set(l)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),r=!1},d(s){ce(e,s)}}}function vB(n){var e,t=n[15].default,r=yn(t,n,n[17],null),i=r||function(o){for(var s,a,l,c,u,d,f,h=ut(((s=o[6])===null||s===void 0?void 0:s.paths)||[]),p=[],g=0;g<h.length;g+=1)p[g]=Dx(Nx(o,h,g));for(var v=ut(((a=o[6])===null||a===void 0?void 0:a.polygons)||[]),m=[],y=0;y<v.length;y+=1)m[y]=Ix(Rx(o,v,y));var b=((l=o[6])===null||l===void 0?void 0:l.raw)&&zx(o);return{c(){for(var j=0;j<p.length;j+=1)p[j].c();c=ne();for(var x=0;x<m.length;x+=1)m[x].c();u=ne(),b&&b.c(),d=Bt()},m(j,x){for(var S=0;S<p.length;S+=1)p[S]&&p[S].m(j,x);K(j,c,x);for(var _=0;_<m.length;_+=1)m[_]&&m[_].m(j,x);K(j,u,x),b&&b.m(j,x),K(j,d,x),f=!0},p(j,x){var S;if(64&x){var _,B;for(h=ut(((_=j[6])===null||_===void 0?void 0:_.paths)||[]),B=0;B<h.length;B+=1){var R=Nx(j,h,B);p[B]?p[B].p(R,x):(p[B]=Dx(R),p[B].c(),p[B].m(c.parentNode,c))}for(;B<p.length;B+=1)p[B].d(1);p.length=h.length}if(64&x){var F,Q;for(v=ut(((F=j[6])===null||F===void 0?void 0:F.polygons)||[]),Q=0;Q<v.length;Q+=1){var Z=Rx(j,v,Q);m[Q]?m[Q].p(Z,x):(m[Q]=Ix(Z),m[Q].c(),m[Q].m(u.parentNode,u))}for(;Q<m.length;Q+=1)m[Q].d(1);m.length=v.length}(S=j[6])!==null&&S!==void 0&&S.raw?b?(b.p(j,x),64&x&&$(b,1)):((b=zx(j)).c(),$(b,1),b.m(d.parentNode,d)):b&&(be(),C(b,1,1,()=>{b=null}),xe())},i(j){f||($(b),f=!0)},o(j){C(b),f=!1},d(j){j&&(W(c),W(u),W(d)),Ln(p,j),Ln(m,j),b&&b.d(j)}}}(n);return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){r?r.p&&(!e||131072&s)&&xn(r,t,o,o[17],e?bn(t,o[17],s,null):wn(o[17]),null):i&&i.p&&(!e||64&s)&&i.p(o,e?s:-1)},i(o){e||($(i,o),e=!0)},o(o){C(i,o),e=!1},d(o){i&&i.d(o)}}}function yB(n){for(var e,t,r=[{label:n[5]},{width:n[7]},{height:n[8]},{box:n[10]},{style:n[9]},{spin:n[1]},{flip:n[4]},{inverse:n[2]},{pulse:n[3]},{class:n[0]},n[11]],i={$$slots:{default:[vB]},$$scope:{ctx:n}},o=0;o<r.length;o+=1)i=Yn(i,r[o]);return e=new gB({props:i}),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),t=!0},p(s,a){var[l]=a,c=4031&l?Ur(r,[32&l&&{label:s[5]},128&l&&{width:s[7]},256&l&&{height:s[8]},1024&l&&{box:s[10]},512&l&&{style:s[9]},2&l&&{spin:s[1]},16&l&&{flip:s[4]},4&l&&{inverse:s[2]},8&l&&{pulse:s[3]},1&l&&{class:s[0]},2048&l&&wo(s[11])]):{};131136&l&&(c.$$scope={dirty:l,ctx:s}),e.$set(c)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function bB(n,e,t){var r,i,o,s=["class","data","scale","spin","inverse","pulse","flip","label","style"],a=Bf(e,s),{$$slots:l={},$$scope:c}=e,{class:u=""}=e,{data:d}=e,{scale:f=1}=e,{spin:h=!1}=e,{inverse:p=!1}=e,{pulse:g=!1}=e,{flip:v}=e,{label:m=""}=e,{style:y=""}=e,b=10,j=10;function x(){var _=1;return f!==void 0&&(_=Number(f)),isNaN(_)||_<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*_}function S(){return r?Math.max(r.width,r.height)/16:1}return n.$$set=_=>{e=Yn(Yn({},e),N3(_)),t(11,a=Bf(e,s)),"class"in _&&t(0,u=_.class),"data"in _&&t(12,d=_.data),"scale"in _&&t(13,f=_.scale),"spin"in _&&t(1,h=_.spin),"inverse"in _&&t(2,p=_.inverse),"pulse"in _&&t(3,g=_.pulse),"flip"in _&&t(4,v=_.flip),"label"in _&&t(5,m=_.label),"style"in _&&t(14,y=_.style),"$$scope"in _&&t(17,c=_.$$scope)},n.$$.update=()=>{28672&n.$$.dirty&&(t(6,r=function(_){var B;if(_){if(!("definition"in _)){if("iconName"in _&&"icon"in _){_.iconName;var[R,F,,,Q]=_.icon;B={width:R,height:F,paths:(Array.isArray(Q)?Q:[Q]).map(Z=>({d:Z}))}}else B=_[Object.keys(_)[0]];return B}console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead")}}(d)),t(7,b=r?r.width/S()*x():0),t(8,j=r?r.height/S()*x():0),t(9,i=function(){var _="";y!==null&&(_+=y);var B=x();return B===1?_.length===0?"":_:(_===""||_.endsWith(";")||(_+="; "),"".concat(_,"font-size: ").concat(B,"em"))}()),t(10,o=r?"0 0 ".concat(r.width," ").concat(r.height):"0 0 ".concat(b," ").concat(j)))},[u,h,p,g,v,m,r,b,j,i,o,a,d,f,y,l,function(_){t(6,r=_),t(12,d),t(14,y),t(13,f)},c]}let Mt=class extends et{constructor(e){super(),Ze(this,e,bB,yB,Hn,{class:0,data:12,scale:13,spin:1,inverse:2,pulse:3,flip:4,label:5,style:14})}};function xB(n){ct(n,"svelte-1ryp01u",".jse-boolean-toggle.svelte-1ryp01u{padding:0;margin:1px 0 0;vertical-align:top;display:inline-flex;color:var(--jse-value-color-boolean, #ff8c00)}.jse-boolean-toggle.svelte-1ryp01u:not(.jse-readonly){cursor:pointer}")}function wB(n){var e,t,r,i,o,s,a;return t=new Mt({props:{data:n[0]===!0?fm:hm}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"role","checkbox"),w(e,"tabindex","-1"),w(e,"aria-checked",r=n[0]===!0),w(e,"class","jse-boolean-toggle svelte-1ryp01u"),w(e,"title",i=n[1]?"Boolean value ".concat(n[0]):"Click to toggle this boolean value"),he(e,"jse-readonly",n[1])},m(l,c){K(l,e,c),le(t,e,null),o=!0,s||(a=ve(e,"mousedown",n[2]),s=!0)},p(l,c){var[u]=c,d={};1&u&&(d.data=l[0]===!0?fm:hm),t.$set(d),(!o||1&u&&r!==(r=l[0]===!0))&&w(e,"aria-checked",r),(!o||3&u&&i!==(i=l[1]?"Boolean value ".concat(l[0]):"Click to toggle this boolean value"))&&w(e,"title",i),(!o||2&u)&&he(e,"jse-readonly",l[1])},i(l){o||($(t.$$.fragment,l),o=!0)},o(l){C(t.$$.fragment,l),o=!1},d(l){l&&W(e),ce(t),s=!1,a()}}}function jB(n,e,t){var{path:r}=e,{value:i}=e,{readOnly:o}=e,{onPatch:s}=e,{focus:a}=e;return n.$$set=l=>{"path"in l&&t(3,r=l.path),"value"in l&&t(0,i=l.value),"readOnly"in l&&t(1,o=l.readOnly),"onPatch"in l&&t(4,s=l.onPatch),"focus"in l&&t(5,a=l.focus)},[i,o,function(l){l.stopPropagation(),o||(s([{op:"replace",path:it(r),value:!i}]),a())},r,s,a]}let $B=class extends et{constructor(e){super(),Ze(this,e,jB,wB,yt,{path:3,value:0,readOnly:1,onPatch:4,focus:5},xB)}};function kB(n){ct(n,"svelte-s1wu8v",".jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup,.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));line-height:normal}.jse-color-picker-popup.svelte-s1wu8v .picker_slider,.jse-color-picker-popup.svelte-s1wu8v .picker_sl,.jse-color-picker-popup.svelte-s1wu8v .picker_editor input,.jse-color-picker-popup.svelte-s1wu8v .picker_sample,.jse-color-picker-popup.svelte-s1wu8v .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px)}.jse-color-picker-popup.svelte-s1wu8v .picker_editor input{background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-color-picker-popup.svelte-s1wu8v .picker_done button{background:var(--jse-button-background, #e0e0e0);color:var(--jse-button-color, var(--jse-text-color, #4d4d4d))}.jse-color-picker-popup.svelte-s1wu8v .picker_done button:hover{background:var(--jse-button-background-highlight, #e7e7e7)}")}function CB(n){var e;return{c(){w(e=I("div"),"class","jse-color-picker-popup svelte-s1wu8v")},m(t,r){K(t,e,r),n[4](e)},p:ke,i:ke,o:ke,d(t){t&&W(e),n[4](null)}}}function SB(n,e,t){var r,{color:i}=e,{onChange:o}=e,{showOnTop:s}=e,a=()=>{};return Vr(st(function*(){var l,c=new((l=yield V8(()=>import("./vanilla-picker-B6E6ObS_.js"),[]))===null||l===void 0?void 0:l.default)({parent:r,color:i,popup:s?"top":"bottom",onDone(u){var d=u.rgba[3]===1?u.hex.substring(0,7):u.hex;o(d)}});c.show(),a=()=>{c.destroy()}})),ri(()=>{a()}),n.$$set=l=>{"color"in l&&t(1,i=l.color),"onChange"in l&&t(2,o=l.onChange),"showOnTop"in l&&t(3,s=l.showOnTop)},[r,i,o,s,function(l){xt[l?"unshift":"push"](()=>{t(0,r=l)})}]}let OB=class extends et{constructor(e){super(),Ze(this,e,SB,CB,Hn,{color:1,onChange:2,showOnTop:3},kB)}};function EB(n){ct(n,"svelte-xeg9n6",".jse-color-picker-button.svelte-xeg9n6{font-size:var(--jse-font-size-mono, 14px);width:var(--jse-color-picker-button-size, 1em);height:var(--jse-color-picker-button-size, 1em);box-sizing:border-box;padding:0;margin:2px 0 0 calc(0.5 * var(--jse-padding, 10px));display:inline-flex;vertical-align:top;border:1px solid var(--jse-text-color, #4d4d4d);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-xeg9n6:not(.jse-readonly){cursor:pointer}")}function AB(n){var e,t,r,i;return{c(){w(e=I("button"),"type","button"),w(e,"class","jse-color-picker-button svelte-xeg9n6"),xr(e,"background",n[2]),w(e,"title",t=n[1]?"Color ".concat(n[0]):"Click to open a color picker"),he(e,"jse-readonly",n[1])},m(o,s){K(o,e,s),r||(i=ve(e,"click",n[3]),r=!0)},p(o,s){var[a]=s;4&a&&xr(e,"background",o[2]),3&a&&t!==(t=o[1]?"Color ".concat(o[0]):"Click to open a color picker")&&w(e,"title",t),2&a&&he(e,"jse-readonly",o[1])},i:ke,o:ke,d(o){o&&W(e),r=!1,i()}}}function MB(n,e,t){var r,{openAbsolutePopup:i}=Hs("absolute-popup"),{path:o}=e,{value:s}=e,{readOnly:a}=e,{onPatch:l}=e,{focus:c}=e;function u(f){l([{op:"replace",path:it(o),value:f}]),d()}function d(){c()}return n.$$set=f=>{"path"in f&&t(4,o=f.path),"value"in f&&t(0,s=f.value),"readOnly"in f&&t(1,a=f.readOnly),"onPatch"in f&&t(5,l=f.onPatch),"focus"in f&&t(6,c=f.focus)},n.$$.update=()=>{1&n.$$.dirty&&t(2,r=L3(s))},[s,a,r,function(f){var h,p;if(!a){var g=f.target,v=g.getBoundingClientRect().top,m=(h=(p=ku(g))===null||p===void 0?void 0:p.innerHeight)!==null&&h!==void 0?h:0;i(OB,{color:s,onChange:u,showOnTop:m-v<300&&v>300},{anchor:g,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:300})}},o,l,c]}let PB=class extends et{constructor(e){super(),Ze(this,e,MB,AB,yt,{path:4,value:0,readOnly:1,onPatch:5,focus:6},EB)}};var Lx=50,_B=200,TB=400,RB=1200,Bx=1e3,eu=100,Xa=100,Og=2e4,qs=[{start:0,end:eu}],NB=104857600,DB=1048576,Eg=10485760,IB=10240,Kv="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",Gv="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",Qo="hover-insert-inside",tu="hover-insert-after",Ag="hover-collection",Fp="valid",qx="repairable",Do=336,Io=260,Qd=100,zB={[yi.asc]:"ascending",[yi.desc]:"descending"};function X3(n){for(var e=uO(n,a=>a.start),t=[e[0]],r=0;r<e.length;r++){var i=t.length-1,o=t[i],s=e[r];s.start<=o.end?t[i]={start:Math.min(o.start,s.start),end:Math.max(o.end,s.end)}:t.push(s)}return t}function Mg(n){return Uf(n)+eu}function Uf(n){return Math.floor(n/eu)*eu}function Z3(n){return!!n&&(n.type==="space"||n.space===!0)}function Ih(n){return!!n&&(n.type==="separator"||n.separator===!0)}function LB(n){return!!n&&n.type==="label"&&typeof n.text=="string"}function Su(n){return!!n&&typeof n.onClick=="function"}function Jv(n){return!!n&&n.type==="dropdown-button"&&Su(n.main)&&Array.isArray(n.items)}function BB(n){return!!n&&n.type==="row"&&Array.isArray(n.items)}function qB(n){return!!n&&n.type==="column"&&Array.isArray(n.items)}function Fx(n){return Ut(n)&&Ut(n.parseError)}function FB(n){return Ut(n)&&Array.isArray(n.validationErrors)}function VB(n){return Ut(n)&&Array.isArray(n.path)&&typeof n.message=="string"&&"severity"in n}function UB(n){return Ut(n)&&VB(n)&&typeof n.isChildError=="boolean"}function HB(n){return Ut(n)&&typeof n.action=="function"&&Ut(n.props)}function wi(n){return n!==void 0&&n.type==="object"}function Qn(n){return n!==void 0&&n.type==="array"}function Qv(n){return n!==void 0&&n.type==="value"}function Al(n){return wi(n)||Qn(n)}function e6(n){return n!==void 0&&Array.isArray(n.searchResults)}function Pg(n){var{json:e,expand:t}=n,r=function(i){var{json:o,factory:s}=i;return Array.isArray(o)?s.createArrayDocumentState():Ut(o)?s.createObjectDocumentState():o!==void 0?s.createValueDocumentState():void 0}({json:e,factory:Zv});return t&&r&&(r=io(e,r,[],t)),r}function Yv(){var{expanded:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{expanded:!1};return{type:"array",expanded:n,visibleSections:qs,items:[]}}function Xv(){var{expanded:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{expanded:!1};return{type:"object",expanded:n,properties:{}}}var Zv={createObjectDocumentState:Xv,createArrayDocumentState:Yv,createValueDocumentState:function(){return{type:"value"}}};function t6(n,e,t,r){var{createObjectDocumentState:i,createArrayDocumentState:o,createValueDocumentState:s}=r;return function a(l,c,u){if(Array.isArray(l)){var d=Qn(c)?c:o();if(u.length===0)return d;var f=rr(u[0]),h=a(l[f],d.items[f],u.slice(1));return Rr(d,["items",u[0]],h)}if(Ut(l)){var p=wi(c)?c:i();if(u.length===0)return p;var g=u[0],v=a(l[g],p.properties[g],u.slice(1));return Rr(p,["properties",g],v)}return Qv(c)?c:s()}(n,e,t)}function Zr(n,e){return nu(n,e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],(t,r)=>{if(t!==void 0&&r!==void 0)return Array.isArray(t)?Qn(r)?r:Yv({expanded:!!Al(r)&&r.expanded}):Ut(t)?wi(r)?r:Xv({expanded:!!Al(r)&&r.expanded}):Qv(r)?r:void 0},()=>!0)}function nu(n,e,t,r,i){var o=r(n,e,t);if(Array.isArray(n)&&Qn(o)&&i(o)){var s=[];return e1(n,o.visibleSections,l=>{var c=t.concat(String(l)),u=nu(n[l],o.items[l],c,r,i);u!==void 0&&(s[l]=u)}),$x(s,o.items)?o:Ee(Ee({},o),{},{items:s})}if(Ut(n)&&wi(o)&&i(o)){var a={};return Object.keys(n).forEach(l=>{var c=t.concat(l),u=nu(n[l],o.properties[l],c,r,i);u!==void 0&&(a[l]=u)}),$x(Object.values(a),Object.values(o.properties))?o:Ee(Ee({},o),{},{properties:a})}return o}function e1(n,e,t){e.forEach(r=>{var{start:i,end:o}=r;B3(i,Math.min(n.length,o),t)})}function ru(n,e){for(var t=n,r=[],i=0;i<e.length;){if(Array.isArray(t)){var o=e[i];r.push("items",o),t=t[rr(o)]}else{if(!Ut(t))throw new Error("Cannot convert path: Object or Array expected at index ".concat(i));var s=e[i];r.push("properties",s),t=t[s]}i++}return r}function io(n,e,t,r){for(var i=e,o=function(a){var l=t.slice(0,a);i=Pl(n,i,l,(c,u)=>{var d=Al(u)&&!u.expanded?Ee(Ee({},u),{},{expanded:!0}):u;return Qn(d)?function(f,h){if(function(v,m){return v.some(y=>m>=y.start&&m<y.end)}(f.visibleSections,h))return f;var p=Uf(h),g={start:p,end:Mg(p)};return Ee(Ee({},f),{},{visibleSections:X3(f.visibleSections.concat(g))})}(d,rr(t[a])):d})},s=0;s<t.length;s++)o(s);return Pl(n,i,t,(a,l)=>function(c,u,d,f){return nu(c,u,d,(h,p,g)=>Array.isArray(h)&&f(g)?Qn(p)?p.expanded?p:Ee(Ee({},p),{},{expanded:!0}):Yv({expanded:!0}):Ut(h)&&f(g)?wi(p)?p.expanded?p:Ee(Ee({},p),{},{expanded:!0}):Xv({expanded:!0}):p,h=>Al(h)&&h.expanded)}(a,l,[],r))}function Vx(n,e,t,r){return Pl(n,e,t,(i,o)=>r?function(s,a,l){return nu(s,a,l,(c,u)=>Ux(u),()=>!0)}(i,o,t):Ux(o))}function Ux(n){return Qn(n)&&n.expanded?Ee(Ee({},n),{},{expanded:!1,visibleSections:qs}):wi(n)&&n.expanded?Ee(Ee({},n),{},{expanded:!1}):n}function n6(n,e,t){var r={json:n,documentState:e},i=t.reduce((o,s)=>({json:Ni(o.json,[s]),documentState:WB(o.json,o.documentState,s)}),r);return{json:i.json,documentState:Zr(i.json,i.documentState)}}function WB(n,e,t){if(ck(t))return Hx(n,e,t,void 0);if(uk(t))return Wx(n,e,t);if(n0(t)){var r=Di(n,t.path),i=jo(n,e,r);return i?zh(n,e,r,{type:"value",enforceString:i}):e}return am(t)||tl(t)?function(o,s,a){if(tl(a)&&a.from===a.path)return s;var l=s,c=Di(o,a.from),u=Ml(o,l,c);return tl(a)&&(l=Wx(o,l,{op:"remove",path:a.from})),l=Hx(o,l,{op:"add",path:a.path,value:null},u),l}(n,e,t):e}function Ml(n,e,t){try{return De(e,ru(n,t))}catch{return}}function t1(n,e,t,r,i){var o=t6(n,e,t,i);return o0(o,ru(n,t),s=>{var a=De(n,t);return r(a,s)})}function zh(n,e,t,r){return function(i,o,s,a,l){var c=t6(i,o,s,l);return Rr(c,ru(i,s),a)}(n,e,t,r,Zv)}function Pl(n,e,t,r){return t1(n,e,t,r,Zv)}function Hx(n,e,t,r){var i=Di(n,t.path),o=e;return zh(n,o=Pl(n,o,_t(i),(s,a)=>{if(!Qn(a))return a;var l=rr(kt(i)),{items:c,visibleSections:u}=a;return Ee(Ee({},a),{},{items:l<c.length?BL(c,l,r!==void 0?[r]:Array(1)):c,visibleSections:r6(u,l,1)})}),i,r)}function Wx(n,e,t){var r=Di(n,t.path),i=_t(r),o=De(n,i);return Array.isArray(o)?Pl(n,e,i,(s,a)=>{if(!Qn(a))return a;var l=rr(kt(r)),{items:c,visibleSections:u}=a;return Ee(Ee({},a),{},{items:c.slice(0,l).concat(c.slice(l+1)),visibleSections:r6(u,l,-1)})}):function(s,a,l){var c=ru(s,l);return hi(a,c)?lh(a,ru(s,l)):a}(n,e,r)}function r6(n,e,t){return function(r){for(var i=r.slice(0),o=1;o<i.length;)i[o-1].end===i[o].start&&(i[o-1]={start:i[o-1].start,end:i[o].end},i.splice(o)),o++;return i}(n.map(r=>({start:r.start>e?r.start+t:r.start,end:r.end>e?r.end+t:r.end})))}function jo(n,e,t){var r,i=De(n,t),o=Ml(n,e,t),s=Qv(o)?o.enforceString:void 0;return typeof s=="boolean"?s:typeof(r=i)=="string"&&typeof Vl(r,JSON)!="string"}function Ou(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=n.indexOf(e);return r!==-1?t?n.slice(r):n.slice(r+1):[]}function n1(n,e){var t=[];return function r(i,o,s){t.push(s),vn(i)&&Qn(o)&&o.expanded&&e1(i,o.visibleSections,a=>{r(i[a],o.items[a],s.concat(String(a)))}),An(i)&&wi(o)&&o.expanded&&Object.keys(i).forEach(a=>{r(i[a],o.properties[a],s.concat(a))})}(n,e,[]),t}function i6(n,e){var t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];return function i(o,s){r.push({path:s,type:_i.value});var a=Ml(n,e,s);if(o&&Al(a)&&a.expanded){if(t&&r.push({path:s,type:_i.inside}),vn(o)){var l=Qn(a)?a.visibleSections:qs;e1(o,l,c=>{var u=s.concat(String(c));i(o[c],u),t&&r.push({path:u,type:_i.after})})}An(o)&&Object.keys(o).forEach(c=>{var u=s.concat(c);r.push({path:u,type:_i.key}),i(o[c],u),t&&r.push({path:u,type:_i.after})})}}(n,[]),r}function Vp(n,e,t){var r=n1(n,e),i=r.map(it).indexOf(it(t));if(i!==-1&&i<r.length-1)return r[i+1]}function No(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:IB;return io(n,e,t,FL({json:De(n,t)},r)?vc:r1)}function vc(n){return n.length===0||n.length===1&&n[0]==="0"}function Kx(n){return n.length===0}function r1(){return!0}function _g(){return!1}function Mr(n){return n&&n.type===Yt.after||!1}function En(n){return n&&n.type===Yt.inside||!1}function zn(n){return n&&n.type===Yt.key||!1}function Ft(n){return n&&n.type===Yt.value||!1}function Jt(n){return n&&n.type===Yt.multi||!1}function Lh(n){return Jt(n)&&Ct(n.focusPath,n.anchorPath)}function i1(n){return Jt(n)||Mr(n)||En(n)||zn(n)||Ft(n)}function Up(n){return n&&n.type===Yt.text||!1}function As(n,e){var t=[];return function(r,i,o){if(i){var s=ua(i),a=Ke(i);if(Ct(s,a))return o(s);if(r!==void 0){var l=s6(s,a);if(s.length===l.length||a.length===l.length)return o(l);var c=yr(s,a),u=zo(r,c),d=Ms(r,c),f=Uo(r,c,u),h=Uo(r,c,d);if(!(f===-1||h===-1)){var p=De(r,l);if(An(p)){for(var g=Object.keys(p),v=f;v<=h;v++){var m=o(l.concat(g[v]));if(m!==void 0)return m}return}if(vn(p)){for(var y=f;y<=h;y++){var b=o(l.concat(String(y)));if(b!==void 0)return b}return}throw new Error("Failed to create selection")}}}}(n,e,r=>{t.push(r)}),t}function o6(n){return En(n)?n.path:_t(Ke(n))}function zo(n,e){if(!Jt(e))return e.path;var t=Uo(n,e,e.anchorPath);return Uo(n,e,e.focusPath)<t?e.focusPath:e.anchorPath}function Ms(n,e){if(!Jt(e))return e.path;var t=Uo(n,e,e.anchorPath);return Uo(n,e,e.focusPath)>t?e.focusPath:e.anchorPath}function Gx(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t){var i=r?Ke(t):zo(n,t),o=function(l,c,u){var d=n1(l,c),f=d.map(it),h=it(u),p=f.indexOf(h);if(p!==-1&&p>0)return d[p-1]}(n,e,i);if(r)return En(t)||Mr(t)?o!==void 0?yr(i,i):void 0:o!==void 0?yr(ua(t),o):void 0;if(Mr(t)||En(t))return Et(i);if(zn(t)){if(o===void 0||o.length===0)return;var s=_t(o),a=De(n,s);return Array.isArray(a)||Lt(o)?Et(o):Xo(o)}return Ft(t),o!==void 0?Et(o):void 0}}function Jx(n,e,t,r){if(!t)return{caret:void 0,previous:void 0,next:void 0};var i=i6(n,e,r),o=i.findIndex(s=>Ct(s.path,Ke(t))&&String(s.type)===String(t.type));return{caret:o!==-1?i[o]:void 0,previous:o!==-1&&o>0?i[o-1]:void 0,next:o!==-1&&o<i.length-1?i[o+1]:void 0}}function Ia(n,e){for(var t=n1(n,e),r=0;r<t.length-1&&t[r+1].length>t[r].length;)r++;var i=t[r];return i===void 0||i.length===0||Array.isArray(De(n,_t(i)))?Et(i):Xo(i)}function _l(n,e){if(e.length===1){var t=Lo(e);if(t.op==="replace")return Et(Di(n,t.path))}if(!Lt(e)&&e.every(s=>s.op==="move")){var r=Lo(e),i=e.slice(1);if((am(r)||tl(r))&&r.from!==r.path&&i.every(s=>(am(s)||tl(s))&&s.from===s.path))return Xo(Di(n,r.path))}var o=e.filter(s=>s.op!=="test"&&s.op!=="remove"&&(s.op!=="move"||s.from!==s.path)&&typeof s.path=="string").map(s=>Di(n,s.path));if(!Lt(o))return{type:Yt.multi,anchorPath:Lo(o),focusPath:kt(o)}}function s6(n,e){for(var t=0;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function Hf(n){return zn(n)||Ft(n)||Lh(n)}function Qx(n,e){return Hf(e)&&Cn(De(n,Ke(e)))?Ke(e):_t(Ke(e))}function Yo(n,e){if(n.length<e.length)return!1;for(var t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function lo(n){if(Un(n)){var{type:e,path:t}=n;return{type:e,path:t}}return n}function Xo(n){return{type:Yt.key,path:n}}function o1(n,e){return{type:Yt.key,path:n,edit:!0,initialValue:e}}function Et(n){return{type:Yt.value,path:n}}function Wf(n,e){return{type:Yt.value,path:n,edit:!0,initialValue:e}}function Zo(n){return{type:Yt.inside,path:n}}function Vo(n){return{type:Yt.after,path:n}}function yr(n,e){var t=s6(n,e),r=n.length>t.length&&e.length>t.length;return{type:Yt.multi,anchorPath:r?t.concat(n[t.length]):t,focusPath:r?t.concat(e[t.length]):t}}function a6(n,e,t,r){if(zn(e))return String(kt(e.path));if(Ft(e)){var i=De(n,e.path);return typeof i=="string"?i:r.stringify(i,null,t)}if(Jt(e)){if(Lt(e.focusPath))return r.stringify(n,null,t);var o=o6(e),s=De(n,o);if(Array.isArray(s)){if(Lh(e)){var a=De(n,e.focusPath);return r.stringify(a,null,t)}return As(n,e).map(l=>{var c=De(n,l);return"".concat(r.stringify(c,null,t),",")}).join(`
`)}return As(n,e).map(l=>{var c=kt(l),u=De(n,l);return"".concat(r.stringify(c),": ").concat(r.stringify(u,null,t),",")}).join(`
`)}}function Un(n){return(zn(n)||Ft(n))&&n.edit===!0}function Hl(n){return zn(n)||Ft(n)||Jt(n)}function xd(n){return zn(n)||Ft(n)||Lh(n)}function Tg(n){switch(n.type){case _i.key:return Xo(n.path);case _i.value:return Et(n.path);case _i.after:return Vo(n.path);case _i.inside:return Zo(n.path)}}function Yx(n,e){switch(n){case Yt.key:return Xo(e);case Yt.value:return Et(e);case Yt.after:return Vo(e);case Yt.inside:return Zo(e);case Yt.multi:case Yt.text:return yr(e,e)}}function l6(n,e,t){if(e)return iu(n,e,t)||Yo(Jt(e)?_t(e.focusPath):e.path,t)?e:void 0}function iu(n,e,t){if(n===void 0||!e)return!1;if(zn(e)||En(e)||Mr(e))return Ct(e.path,t);if(Ft(e))return Yo(t,e.path);if(Jt(e)){var r=zo(n,e),i=Ms(n,e),o=_t(e.focusPath);if(!Yo(t,o)||t.length<=o.length)return!1;var s=Uo(n,e,r),a=Uo(n,e,i),l=Uo(n,e,t);return l!==-1&&l>=s&&l<=a}return!1}function Uo(n,e,t){var r=_t(e.focusPath);if(!Yo(t,r)||t.length<=r.length)return-1;var i=t[r.length],o=De(n,r);if(An(o))return Object.keys(o).indexOf(i);if(vn(o)){var s=rr(i);if(s<o.length)return s}return-1}function Ke(n){return Jt(n)?n.focusPath:n.path}function ua(n){return Jt(n)?n.anchorPath:n.path}function Wi(){for(var n=[],e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i of t)if(typeof i=="string"&&n.push(i),i&&typeof i=="object")for(var o in i)Object.hasOwnProperty.call(i,o)&&i[o]&&n.push(o);return n.join(" ")}function Rg(n,e,t){return Wi("jse-value","jse-"+Bv(n,t),{"jse-url":Nh(n),"jse-empty":typeof n=="string"&&n.length===0,"jse-table-cell":e===Tn.table})}function KB(n){ct(n,"svelte-l3ivvc",".jse-value.jse-string.svelte-l3ivvc{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-l3ivvc,.jse-value.jse-array.svelte-l3ivvc{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-l3ivvc{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-l3ivvc{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-l3ivvc{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-l3ivvc{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-l3ivvc{color:var(--jse-value-color-url, #008000);text-decoration:underline}div.jse-editable-div.svelte-l3ivvc{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:text !important;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-l3ivvc{overflow-wrap:normal}div.jse-editable-div.jse-table-cell.svelte-l3ivvc{overflow-wrap:normal;white-space:nowrap}div.jse-editable-div[contenteditable=true].svelte-l3ivvc{outline:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff);position:relative;display:inline-block;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-l3ivvc:not(:focus){outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-l3ivvc::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2))}")}function GB(n){var e,t,r,i;return{c(){w(e=I("div"),"role","textbox"),w(e,"aria-label",n[1]),w(e,"tabindex","0"),w(e,"class",t=Fr(Wi("jse-editable-div",n[3],{"jse-short-text":n[0]}))+" svelte-l3ivvc"),w(e,"contenteditable","true"),w(e,"spellcheck","false")},m(o,s){K(o,e,s),n[15](e),r||(i=[ve(e,"input",n[4]),ve(e,"keydown",n[5]),ve(e,"paste",n[6]),ve(e,"blur",n[7])],r=!0)},p(o,s){var[a]=s;2&a&&w(e,"aria-label",o[1]),9&a&&t!==(t=Fr(Wi("jse-editable-div",o[3],{"jse-short-text":o[0]}))+" svelte-l3ivvc")&&w(e,"class",t)},i:ke,o:ke,d(o){o&&W(e),n[15](null),r=!1,tn(i)}}}function JB(n,e,t){var r,i,o=Zn("jsoneditor:EditableDiv"),{value:s}=e,{initialValue:a}=e,{shortText:l=!1}=e,{label:c}=e,{onChange:u}=e,{onCancel:d}=e,{onFind:f}=e,{onPaste:h=tr}=e,{onValueClass:p=()=>""}=e,g=!1;function v(){return r?function(y){return y.replace(/\n$/,"")}(r.innerText):""}function m(y){r&&t(2,r.innerText=xa(y),r)}return Vr(()=>{o("onMount",{value:s,initialValue:a}),m(a!==void 0?a:s),r&&function(y){if(y.firstChild!=null){var b=document.createRange(),j=window.getSelection();b.setStart(y,1),b.collapse(!0),j==null||j.removeAllRanges(),j==null||j.addRange(b)}else y.focus()}(r)}),ri(()=>{var y=v();o("onDestroy",{closed:g,value:s,newValue:y}),g||y===s||u(y,Es.no)}),n.$$set=y=>{"value"in y&&t(8,s=y.value),"initialValue"in y&&t(9,a=y.initialValue),"shortText"in y&&t(0,l=y.shortText),"label"in y&&t(1,c=y.label),"onChange"in y&&t(10,u=y.onChange),"onCancel"in y&&t(11,d=y.onCancel),"onFind"in y&&t(12,f=y.onFind),"onPaste"in y&&t(13,h=y.onPaste),"onValueClass"in y&&t(14,p=y.onValueClass)},n.$$.update=()=>{16640&n.$$.dirty&&t(3,i=p(s))},[l,c,r,i,function(){var y=v();y===""&&m(""),t(3,i=p(y))},function(y){y.stopPropagation();var b=Go(y);if(b==="Escape"&&(g=!0,d()),b==="Enter"||b==="Tab"){g=!0;var j=v();u(j,Es.nextInside)}b==="Ctrl+F"&&(y.preventDefault(),f(!1)),b==="Ctrl+H"&&(y.preventDefault(),f(!0))},function(y){if(y.stopPropagation(),h&&y.clipboardData){var b=y.clipboardData.getData("text/plain");h(b)}},function(){var y=document.hasFocus(),b=v();o("handleBlur",{hasFocus:y,closed:g,value:s,newValue:b}),document.hasFocus()&&!g&&(g=!0,b!==s&&u(b,Es.self))},s,a,u,d,f,h,p,function(y){xt[y?"unshift":"push"](()=>{t(2,r=y)})}]}class c6 extends et{constructor(e){super(),Ze(this,e,JB,GB,yt,{value:8,initialValue:9,shortText:0,label:1,onChange:10,onCancel:11,onFind:12,onPaste:13,onValueClass:14},KB)}}function QB(n){var e,t;return e=new c6({props:{value:n[2].escapeValue(n[0]),initialValue:Un(n[1])?n[1].initialValue:void 0,label:"Edit value",onChange:n[4],onCancel:n[5],onPaste:n[6],onFind:n[3],onValueClass:n[7]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};5&o&&(s.value=r[2].escapeValue(r[0])),2&o&&(s.initialValue=Un(r[1])?r[1].initialValue:void 0),8&o&&(s.onFind=r[3]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function YB(n,e,t){var{path:r}=e,{value:i}=e,{selection:o}=e,{mode:s}=e,{parser:a}=e,{normalization:l}=e,{enforceString:c}=e,{onPatch:u}=e,{onPasteJson:d}=e,{onSelect:f}=e,{onFind:h}=e,{focus:p}=e,{findNextInside:g}=e;function v(y){return c?y:Vl(y,a)}function m(){f(Et(r)),p()}return n.$$set=y=>{"path"in y&&t(8,r=y.path),"value"in y&&t(0,i=y.value),"selection"in y&&t(1,o=y.selection),"mode"in y&&t(9,s=y.mode),"parser"in y&&t(10,a=y.parser),"normalization"in y&&t(2,l=y.normalization),"enforceString"in y&&t(11,c=y.enforceString),"onPatch"in y&&t(12,u=y.onPatch),"onPasteJson"in y&&t(13,d=y.onPasteJson),"onSelect"in y&&t(14,f=y.onSelect),"onFind"in y&&t(3,h=y.onFind),"focus"in y&&t(15,p=y.focus),"findNextInside"in y&&t(16,g=y.findNextInside)},[i,o,l,h,function(y,b){u([{op:"replace",path:it(r),value:v(l.unescapeValue(y))}],(j,x,S)=>{if(!S||Ct(r,Ke(S)))return{state:x,selection:b===Es.nextInside?g(r):Et(r)}}),p()},m,function(y){try{var b=a.parse(y);Cn(b)&&d({path:r,contents:b,onPasteAsJson:()=>{m();var j=[{op:"replace",path:it(r),value:b}];u(j,(x,S)=>({state:No(x,S,r)}))}})}catch{}},function(y){return Rg(v(l.unescapeValue(y)),s,a)},r,s,a,c,u,d,f,p,g]}class XB extends et{constructor(e){super(),Ze(this,e,YB,QB,yt,{path:8,value:0,selection:1,mode:9,parser:10,normalization:2,enforceString:11,onPatch:12,onPasteJson:13,onSelect:14,onFind:3,focus:15,findNextInside:16})}}function Za(n,e,t){var r=_t(e),i=De(n,r);if(vn(i)){var o=rr(kt(e));return t.map((c,u)=>({op:"add",path:it(r.concat(String(o+u))),value:c.value}))}if(An(i)){var s=kt(e),a=Object.keys(i),l=s!==void 0?Ou(a,s,!0):[];return[...t.map(c=>{var u=Cu(c.key,a);return{op:"add",path:it(r.concat(u)),value:c.value}}),...l.map(c=>wa(r,c))]}throw new Error("Cannot create insert operations: parent must be an Object or Array")}function Ng(n,e,t){var r=De(n,e);if(Array.isArray(r)){var i=r.length;return t.map((o,s)=>({op:"add",path:it(e.concat(String(i+s))),value:o.value}))}return t.map(o=>{var s=Cu(o.key,Object.keys(r));return{op:"add",path:it(e.concat(s)),value:o.value}})}function Eu(n,e,t,r){var i=Cu(r,e.filter(s=>s!==t)),o=Ou(e,t,!1);return[{op:"move",from:it(n.concat(t)),path:it(n.concat(i))},...o.map(s=>wa(n,s))]}function u6(n,e){var t=kt(e);if(Lt(t))throw new Error("Cannot duplicate root object");var r=_t(t),i=kt(t),o=De(n,r);if(vn(o)){var s=kt(e),a=s?rr(kt(s))+1:0;return[...e.map((u,d)=>({op:"copy",from:it(u),path:it(r.concat(String(d+a)))}))]}if(An(o)){var l=Object.keys(o),c=i!==void 0?Ou(l,i,!1):[];return[...e.map(u=>{var d=Cu(kt(u),l);return{op:"copy",from:it(u),path:it(r.concat(d))}}),...c.map(u=>wa(r,u))]}throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function d6(n,e,t,r){if(zn(e)){var i=q3(t,r),o=_t(e.path),s=De(n,o);return Eu(o,Object.keys(s),kt(e.path),typeof i=="string"?i:t)}if(Ft(e)||Jt(e)&&Lt(e.focusPath))try{return[{op:"replace",path:it(Ke(e)),value:Dh(t,S=>$u(S,r))}]}catch{return[{op:"replace",path:it(Ke(e)),value:t}]}if(Jt(e)){var a=Hp(t,r);return function(S,_,B){var R=Lo(_),F=_t(R),Q=De(S,F);if(vn(Q)){var Z=Lo(_),J=Z?rr(kt(Z)):0;return[...Kf(_),...B.map((E,ee)=>({op:"add",path:it(F.concat(String(ee+J))),value:E.value}))]}if(An(Q)){var U=kt(_),T=_t(U),re=kt(U),ie=Object.keys(Q),G=re!==void 0?Ou(ie,re,!1):[],L=new Set(_.map(E=>kt(E))),M=ie.filter(E=>!L.has(E));return[...Kf(_),...B.map(E=>{var ee=Cu(E.key,M);return{op:"add",path:it(T.concat(ee)),value:E.value}}),...G.map(E=>wa(T,E))]}throw new Error("Cannot create replace operations: parent must be an Object or Array")}(n,As(n,e),a)}if(Mr(e)){var l=Hp(t,r),c=e.path,u=_t(c),d=De(n,u);if(vn(d)){var f=rr(kt(c));return Za(n,u.concat(String(f+1)),l)}if(An(d)){var h=String(kt(c)),p=Object.keys(d);if(Lt(p)||kt(p)===h)return Ng(n,u,l);var g=p.indexOf(h),v=p[g+1];return Za(n,u.concat(v),l)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(En(e)){var m=Hp(t,r),y=e.path,b=De(n,y);if(vn(b))return Za(n,y.concat("0"),m);if(An(b)){var j=Object.keys(b);if(Lt(j))return Ng(n,y,m);var x=Lo(j);return Za(n,y.concat(x),m)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function Kf(n){return n.map(e=>({op:"remove",path:it(e)})).reverse()}function wa(n,e){return{op:"move",from:it(n.concat(e)),path:it(n.concat(e))}}function Hp(n,e){var t=/^\s*{/.test(n),r=/^\s*\[/.test(n),i=q3(n,e),o=i!==void 0?i:Dh(n,s=>$u(s,e));return t&&Ut(o)||r&&Array.isArray(o)?[{key:"New item",value:o}]:Array.isArray(o)?o.map((s,a)=>({key:"New item "+a,value:s})):Ut(o)?Object.keys(o).map(s=>({key:s,value:o[s]})):[{key:"New item",value:o}]}function f6(n,e){if(zn(e)){var t=_t(e.path),r=De(n,t),i=Eu(t,Object.keys(r),kt(e.path),"");return{operations:i,newSelection:_l(n,i)}}if(Ft(e))return{operations:[{op:"replace",path:it(e.path),value:""}],newSelection:e};if(Jt(e)){var o=As(n,e),s=Kf(o),a=kt(o);if(Lt(a))return{operations:[{op:"replace",path:"",value:""}],newSelection:Et([])};var l=_t(a),c=De(n,l);if(vn(c)){var u=Lo(o),d=rr(kt(u));return{operations:s,newSelection:d===0?Zo(l):Vo(l.concat(String(d-1)))}}if(An(c)){var f=Object.keys(c),h=Lo(o),p=kt(h),g=f.indexOf(p),v=f[g-1];return{operations:s,newSelection:g===0?Zo(l):Vo(l.concat(v))}}throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function h6(n,e){return pk(n,e,{before:(t,r,i)=>{if(uk(r)){var o=bi(r.path);return{revertOperations:[...i,...Xx(t,o)]}}if(tl(r)){var s=bi(r.from);return{revertOperations:[...i,...Xx(t,s)]}}return{document:t}}})}function Xx(n,e){var t=_t(e),r=kt(e),i=De(n,t);return An(i)?Ou(Object.keys(i),r,!1).map(o=>wa(t,o)):[]}function Zx(n){var e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],r=n.items.map((i,o)=>Ee(Ee({},i),{},{active:o===e}));return Ee(Ee({},n),{},{items:r,activeItem:t,activeIndex:e})}function e2(n,e){var t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.toLowerCase(),o=(t=r==null?void 0:r.maxResults)!==null&&t!==void 0?t:1/0,s=r==null?void 0:r.columns,a=[],l=[];function c(v){a.length>=o||a.push(v)}function u(v,m){if(vn(m)){var y=l.length;l.push("0");for(var b=0;b<m.length;b++)if(l[y]=String(b),u(v,m[b]),a.length>=o)return;l.pop()}else if(An(m)){var j=Object.keys(m),x=l.length;for(var S of(l.push(""),j))if(l[x]=S,t2(S,v,l,Li.key,c),u(v,m[S]),a.length>=o)return;l.pop()}else t2(String(m),v,l,Li.value,c)}if(n==="")return[];if(s){if(!Array.isArray(e))throw new Error("json must be an Array when option columns is defined");for(var d=0;d<e.length;d++){l[0]=String(d);for(var f=e[d],h=0;h<s.length;h++){var p=s[h];if(p.length===1)l[1]=p[0];else for(var g=0;g<p.length;g++)l[g+1]=p[g];for(;l.length>p.length+1;)l.pop();u(i,De(f,p))}if(a.length>=o)break}return a}return u(i,e),a}function t2(n,e,t,r,i){var o=n.toLowerCase(),s=0,a=-1,l=-1;do(l=o.indexOf(e,a))!==-1&&(a=l+e.length,i({path:t.slice(0),field:r,fieldIndex:s,start:l,end:a}),s++);while(l!==-1)}function Dg(n,e,t,r){return n.substring(0,t)+e+n.substring(r)}function n2(n,e,t){var r=n;return U5(t,i=>{r=Dg(r,e,i.start,i.end)}),r}function ZB(n,e,t,r,i){var{field:o,path:s,start:a,end:l}=r;if(o===Li.key){var c=_t(s),u=De(n,c),d=kt(s),f=Eu(c,Object.keys(u),d,Dg(d,t,a,l));return{newSelection:_l(n,f),operations:f}}if(o===Li.value){var h=De(n,s);if(h===void 0)throw new Error("Cannot replace: path not found ".concat(it(s)));var p=typeof h=="string"?h:String(h),g=jo(n,e,s),v=Dg(p,t,a,l),m=[{op:"replace",path:it(s),value:g?v:Vl(v,i)}];return{newSelection:_l(n,m),operations:m}}throw new Error("Cannot replace: unknown type of search result field ".concat(o))}function r2(n){return n.path.concat(n.field,String(n.fieldIndex))}function i2(n){var e=e6(n)?n.searchResults.filter(t=>t.field===Li.key):void 0;return e&&e.length>0?e:void 0}function o2(n){var e=e6(n)?n.searchResults.filter(t=>t.field===Li.value):void 0;return e&&e.length>0?e:void 0}var eq={createObjectDocumentState:()=>({type:"object",properties:{}}),createArrayDocumentState:()=>({type:"array",items:[]}),createValueDocumentState:()=>({type:"value"})};function p6(n,e){return e.reduce((t,r)=>function(i,o,s,a){return t1(i,o,s,a,eq)}(n,t,r.path,(i,o)=>Ee(Ee({},o),{},{searchResults:o.searchResults?o.searchResults.concat(r):[r]})),void 0)}function Ig(n){var e,t=(e=n==null?void 0:n.searchResults)!==null&&e!==void 0?e:[],r=wi(n)?Object.values(n.properties).flatMap(Ig):Qn(n)?n.items.flatMap(Ig):[];return t.concat(r)}function tq(n){ct(n,"svelte-5fb7bl",".jse-highlight.svelte-5fb7bl{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-highlight.jse-active.svelte-5fb7bl{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}")}function s2(n,e,t){var r=n.slice();return r[3]=e[t],r}function nq(n){var e,t,r=xa(n[3].text)+"";return{c(){e=I("span"),t=Se(r),w(e,"class","jse-highlight svelte-5fb7bl"),he(e,"jse-active",n[3].active)},m(i,o){K(i,e,o),O(e,t)},p(i,o){1&o&&r!==(r=xa(i[3].text)+"")&&Xe(t,r),1&o&&he(e,"jse-active",i[3].active)},d(i){i&&W(e)}}}function rq(n){var e,t=n[3].text+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=r[3].text+"")&&Xe(e,t)},d(r){r&&W(e)}}}function a2(n){var e;function t(o,s){return o[3].type==="normal"?rq:nq}var r=t(n),i=r(n);return{c(){i.c(),e=Bt()},m(o,s){i.m(o,s),K(o,e,s)},p(o,s){r===(r=t(o))&&i?i.p(o,s):(i.d(1),(i=r(o))&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&W(e),i.d(o)}}}function iq(n){for(var e,t=ut(n[0]),r=[],i=0;i<t.length;i+=1)r[i]=a2(s2(n,t,i));return{c(){for(var o=0;o<r.length;o+=1)r[o].c();e=Bt()},m(o,s){for(var a=0;a<r.length;a+=1)r[a]&&r[a].m(o,s);K(o,e,s)},p(o,s){var[a]=s;if(1&a){var l;for(t=ut(o[0]),l=0;l<t.length;l+=1){var c=s2(o,t,l);r[l]?r[l].p(c,a):(r[l]=a2(c),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:ke,o:ke,d(o){o&&W(e),Ln(r,o)}}}function oq(n,e,t){var r,{text:i}=e,{searchResultItems:o}=e;return n.$$set=s=>{"text"in s&&t(1,i=s.text),"searchResultItems"in s&&t(2,o=s.searchResultItems)},n.$$.update=()=>{6&n.$$.dirty&&t(0,r=function(s,a){var l=[],c=0;for(var u of a){var d=s.slice(c,u.start);d!==""&&l.push({type:"normal",text:d,active:!1});var f=s.slice(u.start,u.end);l.push({type:"highlight",text:f,active:u.active}),c=u.end}var h=kt(a);return h&&h.end<s.length&&l.push({type:"normal",text:s.slice(h.end),active:!1}),l}(String(i),o))},[r,i,o]}class m6 extends et{constructor(e){super(),Ze(this,e,oq,iq,Hn,{text:1,searchResultItems:2},tq)}}function sq(n){ct(n,"svelte-9ohlz8",'.jse-value.jse-string.svelte-9ohlz8{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-9ohlz8,.jse-value.jse-array.svelte-9ohlz8{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-9ohlz8{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-9ohlz8{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-9ohlz8{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-9ohlz8{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-9ohlz8{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-value.svelte-9ohlz8{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.jse-table-cell.svelte-9ohlz8{overflow-wrap:normal;white-space:nowrap}.jse-value.jse-empty.svelte-9ohlz8{min-width:4em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}.jse-value.jse-empty.svelte-9ohlz8::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2));content:"value"}')}function aq(n){var e,t=xa(n[2].escapeValue(n[0]))+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){5&i&&t!==(t=xa(r[2].escapeValue(r[0]))+"")&&Xe(e,t)},i:ke,o:ke,d(r){r&&W(e)}}}function lq(n){var e,t;return e=new m6({props:{text:n[2].escapeValue(n[0]),searchResultItems:n[4]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};5&i&&(o.text=r[2].escapeValue(r[0])),16&i&&(o.searchResultItems=r[4]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function cq(n){var e,t,r,i,o,s,a,l,c=[lq,aq],u=[];function d(f,h){return f[4]?0:1}return t=d(n),r=u[t]=c[t](n),{c(){e=I("div"),r.c(),w(e,"role","button"),w(e,"tabindex","-1"),w(e,"data-type","selectable-value"),w(e,"class",i=Fr(Rg(n[0],n[1],n[3]))+" svelte-9ohlz8"),w(e,"title",o=n[5]?"Ctrl+Click or Ctrl+Enter to open url in new window":void 0)},m(f,h){K(f,e,h),u[t].m(e,null),s=!0,a||(l=[ve(e,"click",n[6]),ve(e,"dblclick",n[7])],a=!0)},p(f,h){var[p]=h,g=t;(t=d(f))===g?u[t].p(f,p):(be(),C(u[g],1,1,()=>{u[g]=null}),xe(),(r=u[t])?r.p(f,p):(r=u[t]=c[t](f)).c(),$(r,1),r.m(e,null)),(!s||11&p&&i!==(i=Fr(Rg(f[0],f[1],f[3]))+" svelte-9ohlz8"))&&w(e,"class",i),(!s||32&p&&o!==(o=f[5]?"Ctrl+Click or Ctrl+Enter to open url in new window":void 0))&&w(e,"title",o)},i(f){s||($(r),s=!0)},o(f){C(r),s=!1},d(f){f&&W(e),u[t].d(),a=!1,tn(l)}}}function uq(n,e,t){var r,{path:i}=e,{value:o}=e,{mode:s}=e,{readOnly:a}=e,{normalization:l}=e,{parser:c}=e,{onSelect:u}=e,{searchResultItems:d}=e;return n.$$set=f=>{"path"in f&&t(8,i=f.path),"value"in f&&t(0,o=f.value),"mode"in f&&t(1,s=f.mode),"readOnly"in f&&t(9,a=f.readOnly),"normalization"in f&&t(2,l=f.normalization),"parser"in f&&t(3,c=f.parser),"onSelect"in f&&t(10,u=f.onSelect),"searchResultItems"in f&&t(4,d=f.searchResultItems)},n.$$.update=()=>{1&n.$$.dirty&&t(5,r=Nh(o))},[o,s,l,c,d,r,function(f){typeof o=="string"&&r&&Hv(f)&&(f.preventDefault(),f.stopPropagation(),window.open(o,"_blank"))},function(f){a||(f.preventDefault(),u(Wf(i)))},i,a,u]}class dq extends et{constructor(e){super(),Ze(this,e,uq,cq,yt,{path:8,value:0,mode:1,readOnly:9,normalization:2,parser:3,onSelect:10,searchResultItems:4},sq)}}function fq(n){ct(n,"svelte-14y3y8t",'.jse-tooltip.svelte-14y3y8t{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);border-radius:3px;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));white-space:nowrap;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}')}function hq(n){var e,t;return{c(){e=I("div"),t=Se(n[0]),w(e,"class","jse-tooltip svelte-14y3y8t")},m(r,i){K(r,e,i),O(e,t)},p(r,i){var[o]=i;1&o&&Xe(t,r[0])},i:ke,o:ke,d(r){r&&W(e)}}}function pq(n,e,t){var{text:r}=e;return n.$$set=i=>{"text"in i&&t(0,r=i.text)},[r]}class mq extends et{constructor(e){super(),Ze(this,e,pq,hq,Hn,{text:0},fq)}}function s1(n,e){var t,{text:r,openAbsolutePopup:i,closeAbsolutePopup:o}=e;function s(){t=i(mq,{text:r},{position:"top",width:10*r.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function a(){o(t)}return n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",a),{destroy(){n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",a)}}}function gq(n){ct(n,"svelte-1jla5ec",".jse-timestamp.svelte-1jla5ec{padding:0;margin:0;vertical-align:middle;display:inline-flex;color:var(--jse-value-color-number, #ee422e)}")}function vq(n){var e,t,r,i,o,s;return t=new Mt({props:{data:FE}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-timestamp svelte-1jla5ec")},m(a,l){K(a,e,l),le(t,e,null),i=!0,o||(s=$r(r=s1.call(null,e,Ee({text:n[0]},n[1]))),o=!0)},p(a,l){var[c]=l;r&&ii(r.update)&&1&c&&r.update.call(null,Ee({text:a[0]},a[1]))},i(a){i||($(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&W(e),ce(t),o=!1,s()}}}function yq(n,e,t){var r,i=Hs("absolute-popup"),{value:o}=e;return n.$$set=s=>{"value"in s&&t(2,o=s.value)},n.$$.update=()=>{4&n.$$.dirty&&t(0,r="Time: ".concat(new Date(o).toString()))},[r,i,o]}class bq extends et{constructor(e){super(),Ze(this,e,yq,vq,yt,{value:2},gq)}}function xq(n){var{path:e,value:t,mode:r,readOnly:i,selection:o,enforceString:s,searchResultItems:a,isEditing:l,parser:c,normalization:u,onPatch:d,onPasteJson:f,onSelect:h,onFind:p,findNextInside:g,focus:v}=n,m=[];return!l&&NL(t)&&m.push({component:$B,props:{path:e,value:t,readOnly:i,onPatch:d,focus:v}}),!l&&DL(t)&&m.push({component:PB,props:{path:e,value:t,readOnly:i,onPatch:d,focus:v}}),l&&m.push({component:XB,props:{path:e,value:t,selection:o,mode:r,enforceString:s,parser:c,normalization:u,onPatch:d,onPasteJson:f,onSelect:h,onFind:p,findNextInside:g,focus:v}}),l||m.push({component:dq,props:{path:e,value:t,mode:r,readOnly:i,parser:c,normalization:u,searchResultItems:a,onSelect:h}}),!l&&kg(t)&&m.push({component:bq,props:{value:t}}),m}function oi(n){return n.map((e,t)=>jq.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+(e.replace(/"/g,'\\"')+'"]'):(t>0?".":"")+e).join("")}function wq(n){for(var e=[],t=0;t<n.length;)n[t]==="."&&t++,n[t]==="["?(t++,n[t]==='"'?(t++,e.push(r(o=>o==='"',!0)),i('"')):e.push(r(o=>o==="]")),i("]")):e.push(r(o=>o==="."||o==="["));function r(o){for(var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a="";t<n.length&&!o(n[t]);)s&&n[t]==="\\"&&n[t+1]==='"'?(a+='"',t+=2):(a+=n[t],t++);return a}function i(o){if(n[t]!==o)throw new SyntaxError("Invalid JSON path: ".concat(o," expected at position ").concat(t));t++}return e}function yc(n){return{value:n,label:Lt(n)?"(item root)":oi(n)}}var jq=/^\d+$/,oc={},wd={showWizard:!0,showOriginal:!0},Gf=Math.min,da=Math.max,Jf=Math.round,jd=Math.floor,Fs=n=>({x:n,y:n}),$q={left:"right",right:"left",bottom:"top",top:"bottom"},kq={start:"end",end:"start"};function l2(n,e,t){return da(n,Gf(e,t))}function Bh(n,e){return typeof n=="function"?n(e):n}function fa(n){return n.split("-")[0]}function Qf(n){return n.split("-")[1]}function g6(n){return n==="x"?"y":"x"}function v6(n){return n==="y"?"height":"width"}function Tl(n){return["top","bottom"].includes(fa(n))?"y":"x"}function y6(n){return g6(Tl(n))}function Wp(n){return n.replace(/start|end/g,e=>kq[e])}function $d(n){return n.replace(/left|right|bottom|top/g,e=>$q[e])}function Cq(n){return typeof n!="number"?function(e){return Ee({top:0,right:0,bottom:0,left:0},e)}(n):{top:n,right:n,bottom:n,left:n}}function Yf(n){var{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function c2(n,e,t){var r,{reference:i,floating:o}=n,s=Tl(e),a=y6(e),l=v6(a),c=fa(e),u=s==="y",d=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,h=i[l]/2-o[l]/2;switch(c){case"top":r={x:d,y:i.y-o.height};break;case"bottom":r={x:d,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:f};break;case"left":r={x:i.x-o.width,y:f};break;default:r={x:i.x,y:i.y}}switch(Qf(e)){case"start":r[a]-=h*(t&&u?-1:1);break;case"end":r[a]+=h*(t&&u?-1:1)}return r}var Sq=function(){var n=st(function*(e,t,r){for(var{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=yield a.isRTL==null?void 0:a.isRTL(t),u=yield a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=c2(u,i,c),h=i,p={},g=0,v=0;v<l.length;v++){var{name:m,fn:y}=l[v],{x:b,y:j,data:x,reset:S}=yield y({x:d,y:f,initialPlacement:i,placement:h,strategy:o,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=b??d,f=j??f,p=Ee(Ee({},p),{},{[m]:Ee(Ee({},p[m]),x)}),S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?yield a.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:d,y:f}=c2(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:o,middlewareData:p}});return function(e,t,r){return n.apply(this,arguments)}}();function b6(n,e){return zg.apply(this,arguments)}function zg(){return zg=st(function*(n,e){var t;e===void 0&&(e={});var{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Bh(e,n),p=Cq(h),g=a[f?d==="floating"?"reference":"floating":d],v=Yf(yield o.getClippingRect({element:(t=yield o.isElement==null?void 0:o.isElement(g))==null||t?g:g.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=yield o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating),b=(yield o.isElement==null?void 0:o.isElement(y))&&(yield o.getScale==null?void 0:o.getScale(y))||{x:1,y:1},j=Yf(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:y,strategy:l}):m);return{top:(v.top-j.top+p.top)/b.y,bottom:(j.bottom-v.bottom+p.bottom)/b.y,left:(v.left-j.left+p.left)/b.x,right:(j.right-v.right+p.right)/b.x}}),zg.apply(this,arguments)}function Lg(){return Lg=st(function*(n,e){var{placement:t,platform:r,elements:i}=n,o=yield r.isRTL==null?void 0:r.isRTL(i.floating),s=fa(t),a=Qf(t),l=Tl(t)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=Bh(e,n),{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:Ee({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof p=="number"&&(h=a==="end"?-1*p:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}),Lg.apply(this,arguments)}function Rl(n){return x6(n)?(n.nodeName||"").toLowerCase():"#document"}function ni(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ho(n){var e;return(e=(x6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function x6(n){return n instanceof Node||n instanceof ni(n).Node}function Bi(n){return n instanceof Element||n instanceof ni(n).Element}function $o(n){return n instanceof HTMLElement||n instanceof ni(n).HTMLElement}function u2(n){return typeof ShadowRoot<"u"&&(n instanceof ShadowRoot||n instanceof ni(n).ShadowRoot)}function ou(n){var{overflow:e,overflowX:t,overflowY:r,display:i}=qi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Oq(n){return["table","td","th"].includes(Rl(n))}function Xf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Bg(n){var e=a1(),t=Bi(n)?qi(n):n;return t.transform!=="none"||t.perspective!=="none"||!!t.containerType&&t.containerType!=="normal"||!e&&!!t.backdropFilter&&t.backdropFilter!=="none"||!e&&!!t.filter&&t.filter!=="none"||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function a1(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function pl(n){return["html","body","#document"].includes(Rl(n))}function qi(n){return ni(n).getComputedStyle(n)}function qh(n){return Bi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $s(n){if(Rl(n)==="html")return n;var e=n.assignedSlot||n.parentNode||u2(n)&&n.host||Ho(n);return u2(e)?e.host:e}function w6(n){var e=$s(n);return pl(e)?n.ownerDocument?n.ownerDocument.body:n.body:$o(e)&&ou(e)?e:w6(e)}function su(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);var i=w6(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=ni(i);return o?e.concat(s,s.visualViewport||[],ou(i)?i:[],s.frameElement&&t?su(s.frameElement):[]):e.concat(i,su(i,[],t))}function j6(n){var e=qi(n),t=parseFloat(e.width)||0,r=parseFloat(e.height)||0,i=$o(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=Jf(t)!==o||Jf(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function l1(n){return Bi(n)?n:n.contextElement}function ml(n){var e=l1(n);if(!$o(e))return Fs(1);var t=e.getBoundingClientRect(),{width:r,height:i,$:o}=j6(e),s=(o?Jf(t.width):t.width)/r,a=(o?Jf(t.height):t.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}var Eq=Fs(0);function $6(n){var e=ni(n);return a1()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Eq}function ja(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),o=l1(n),s=Fs(1);e&&(r?Bi(r)&&(s=ml(r)):s=ml(n));var a=function(x,S,_){return S===void 0&&(S=!1),!(!_||S&&_!==ni(x))&&S}(o,t,r)?$6(o):Fs(0),l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o)for(var f=ni(o),h=r&&Bi(r)?ni(r):r,p=f,g=p.frameElement;g&&r&&h!==p;){var v=ml(g),m=g.getBoundingClientRect(),y=qi(g),b=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,j=m.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=b,c+=j,g=(p=ni(g)).frameElement}return Yf({width:u,height:d,x:l,y:c})}function k6(n){return ja(Ho(n)).left+qh(n).scrollLeft}function d2(n,e,t){var r;if(e==="viewport")r=function(o,s){var a=ni(o),l=Ho(o),c=a.visualViewport,u=l.clientWidth,d=l.clientHeight,f=0,h=0;if(c){u=c.width,d=c.height;var p=a1();(!p||p&&s==="fixed")&&(f=c.offsetLeft,h=c.offsetTop)}return{width:u,height:d,x:f,y:h}}(n,t);else if(e==="document")r=function(o){var s=Ho(o),a=qh(o),l=o.ownerDocument.body,c=da(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),u=da(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight),d=-a.scrollLeft+k6(o),f=-a.scrollTop;return qi(l).direction==="rtl"&&(d+=da(s.clientWidth,l.clientWidth)-c),{width:c,height:u,x:d,y:f}}(Ho(n));else if(Bi(e))r=function(o,s){var a=ja(o,!0,s==="fixed"),l=a.top+o.clientTop,c=a.left+o.clientLeft,u=$o(o)?ml(o):Fs(1);return{width:o.clientWidth*u.x,height:o.clientHeight*u.y,x:c*u.x,y:l*u.y}}(e,t);else{var i=$6(n);r=Ee(Ee({},e),{},{x:e.x-i.x,y:e.y-i.y})}return Yf(r)}function C6(n,e){var t=$s(n);return!(t===e||!Bi(t)||pl(t))&&(qi(t).position==="fixed"||C6(t,e))}function Aq(n,e,t){var r=$o(e),i=Ho(e),o=t==="fixed",s=ja(n,!0,o,e),a={scrollLeft:0,scrollTop:0},l=Fs(0);if(r||!r&&!o)if((Rl(e)!=="body"||ou(i))&&(a=qh(e)),r){var c=ja(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=k6(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Kp(n){return qi(n).position==="static"}function f2(n,e){return $o(n)&&qi(n).position!=="fixed"?e?e(n):n.offsetParent:null}function h2(n,e){var t=ni(n);if(Xf(n))return t;if(!$o(n)){for(var r=$s(n);r&&!pl(r);){if(Bi(r)&&!Kp(r))return r;r=$s(r)}return t}for(var i=f2(n,e);i&&Oq(i)&&Kp(i);)i=f2(i,e);return i&&pl(i)&&Kp(i)&&!Bg(i)?t:i||function(o){for(var s=$s(o);$o(s)&&!pl(s);){if(Bg(s))return s;if(Xf(s))return null;s=$s(s)}return null}(n)||t}var Mq={convertOffsetParentRelativeRectToViewportRelativeRect:function(n){var{elements:e,rect:t,offsetParent:r,strategy:i}=n,o=i==="fixed",s=Ho(r),a=!!e&&Xf(e.floating);if(r===s||a&&o)return t;var l={scrollLeft:0,scrollTop:0},c=Fs(1),u=Fs(0),d=$o(r);if((d||!d&&!o)&&((Rl(r)!=="body"||ou(s))&&(l=qh(r)),$o(r))){var f=ja(r);c=ml(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}},getDocumentElement:Ho,getClippingRect:function(n){var{element:e,boundary:t,rootBoundary:r,strategy:i}=n,o=t==="clippingAncestors"?Xf(e)?[]:function(c,u){var d=u.get(c);if(d)return d;for(var f=su(c,[],!1).filter(y=>Bi(y)&&Rl(y)!=="body"),h=null,p=qi(c).position==="fixed",g=p?$s(c):c;Bi(g)&&!pl(g);){var v=qi(g),m=Bg(g);m||v.position!=="fixed"||(h=null),(p?!m&&!h:!m&&v.position==="static"&&h&&["absolute","fixed"].includes(h.position)||ou(g)&&!m&&C6(c,g))?f=f.filter(y=>y!==g):h=v,g=$s(g)}return u.set(c,f),f}(e,this._c):[].concat(t),s=[...o,r],a=s[0],l=s.reduce((c,u)=>{var d=d2(e,u,i);return c.top=da(d.top,c.top),c.right=Gf(d.right,c.right),c.bottom=Gf(d.bottom,c.bottom),c.left=da(d.left,c.left),c},d2(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:h2,getElementRects:function(){var n=st(function*(e){var t=this.getOffsetParent||h2,r=this.getDimensions,i=yield r(e.floating);return{reference:Aq(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}});return function(e){return n.apply(this,arguments)}}(),getClientRects:function(n){return Array.from(n.getClientRects())},getDimensions:function(n){var{width:e,height:t}=j6(n);return{width:e,height:t}},getScale:ml,isElement:Bi,isRTL:function(n){return qi(n).direction==="rtl"}};function Pq(n,e,t,r){r===void 0&&(r={});var{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=l1(n),u=i||o?[...c?su(c):[],...su(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),o&&v.addEventListener("resize",t)});var d,f=c&&a?function(v,m){var y,b=null,j=Ho(v);function x(){var S;clearTimeout(y),(S=b)==null||S.disconnect(),b=null}return function S(_,B){_===void 0&&(_=!1),B===void 0&&(B=1),x();var{left:R,top:F,width:Q,height:Z}=v.getBoundingClientRect();if(_||m(),Q&&Z){var J={rootMargin:-jd(F)+"px "+-jd(j.clientWidth-(R+Q))+"px "+-jd(j.clientHeight-(F+Z))+"px "+-jd(R)+"px",threshold:da(0,Gf(1,B))||1},U=!0;try{b=new IntersectionObserver(T,Ee(Ee({},J),{},{root:j.ownerDocument}))}catch{b=new IntersectionObserver(T,J)}b.observe(v)}function T(re){var ie=re[0].intersectionRatio;if(ie!==B){if(!U)return S();ie?S(!1,ie):y=setTimeout(()=>{S(!1,1e-7)},1e3)}U=!1}}(!0),x}(c,t):null,h=-1,p=null;s&&(p=new ResizeObserver(v=>{var[m]=v;m&&m.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));var g=l?ja(n):null;return l&&function v(){var m=ja(n);!g||m.x===g.x&&m.y===g.y&&m.width===g.width&&m.height===g.height||t(),g=m,d=requestAnimationFrame(v)}(),t(),()=>{var v;u.forEach(m=>{i&&m.removeEventListener("scroll",t),o&&m.removeEventListener("resize",t)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(d)}}var _q=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn:e=>st(function*(){var t,r,{x:i,y:o,placement:s,middlewareData:a}=e,l=yield function(c,u){return Lg.apply(this,arguments)}(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:Ee(Ee({},l),{},{placement:s})}})()}},Tq=function(n){return n===void 0&&(n={}),{name:"shift",options:n,fn:e=>st(function*(){var{x:t,y:r,placement:i}=e,o=Bh(n,e),{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:b=>{var{x:j,y:x}=b;return{x:j,y:x}}}}=o,c=_3(o,OL),u={x:t,y:r},d=yield b6(e,c),f=Tl(fa(i)),h=g6(f),p=u[h],g=u[f];if(s){var v=h==="y"?"bottom":"right";p=l2(p+d[h==="y"?"top":"left"],p,p-d[v])}if(a){var m=f==="y"?"bottom":"right";g=l2(g+d[f==="y"?"top":"left"],g,g-d[m])}var y=l.fn(Ee(Ee({},e),{},{[h]:p,[f]:g}));return Ee(Ee({},y),{},{data:{x:y.x-t,y:y.y-r}})})()}},Rq=function(n){return n===void 0&&(n={}),{name:"flip",options:n,fn:e=>st(function*(){var t,r,{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,u=Bh(n,e),{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=u,m=_3(u,SL);if((t=o.arrow)!=null&&t.alignmentOffset)return{};var y=fa(i),b=Tl(a),j=fa(a)===a,x=yield l.isRTL==null?void 0:l.isRTL(c.floating),S=h||(j||!v?[$d(a)]:function(M){var E=$d(M);return[Wp(M),E,Wp(E)]}(a)),_=g!=="none";!h&&_&&S.push(...function(M,E,ee,H){var k=Qf(M),P=function(D,N,se){var $e=["left","right"],Y=["right","left"];switch(D){case"top":case"bottom":return se?N?Y:$e:N?$e:Y;case"left":case"right":return N?["top","bottom"]:["bottom","top"];default:return[]}}(fa(M),ee==="start",H);return k&&(P=P.map(D=>D+"-"+k),E&&(P=P.concat(P.map(Wp)))),P}(a,v,g,x));var B=[a,...S],R=yield b6(e,m),F=[],Q=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&F.push(R[y]),f){var Z=function(M,E,ee){ee===void 0&&(ee=!1);var H=Qf(M),k=y6(M),P=v6(k),D=k==="x"?H===(ee?"end":"start")?"right":"left":H==="start"?"bottom":"top";return E.reference[P]>E.floating[P]&&(D=$d(D)),[D,$d(D)]}(i,s,x);F.push(R[Z[0]],R[Z[1]])}if(Q=[...Q,{placement:i,overflows:F}],!F.every(M=>M<=0)){var J,U,T=(((J=o.flip)==null?void 0:J.index)||0)+1,re=B[T];if(re)return{data:{index:T,overflows:Q},reset:{placement:re}};var ie=(U=Q.filter(M=>M.overflows[0]<=0).sort((M,E)=>M.overflows[1]-E.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(p){case"bestFit":var G,L=(G=Q.filter(M=>{if(_){var E=Tl(M.placement);return E===b||E==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(E=>E>0).reduce((E,ee)=>E+ee,0)]).sort((M,E)=>M[1]-E[1])[0])==null?void 0:G[0];L&&(ie=L);break;case"initialPlacement":ie=a}if(i!==ie)return{reset:{placement:ie}}}return{}})()}},Nq=(n,e,t)=>{var r=new Map,i=Ee({platform:Mq},t),o=Ee(Ee({},i.platform),{},{_c:r});return Sq(n,e,Ee(Ee({},i),{},{platform:o}))};function Dq(n){var{loadOptions:e,filterText:t,items:r,multiple:i,value:o,itemId:s,groupBy:a,filterSelectedItems:l,itemFilter:c,convertStringItemsToObjects:u,filterGroupedItems:d,label:f}=n;if(r&&e)return r;if(!r)return[];r&&r.length>0&&typeof r[0]!="object"&&(r=u(r));var h=r.filter(p=>{var g=c(p[f],t,p);return g&&i&&o!=null&&o.length&&(g=!o.some(v=>!!l&&v[s]===p[s])),g});return a&&(h=d(h)),h}function Iq(n){return qg.apply(this,arguments)}function qg(){return qg=st(function*(n){var{dispatch:e,loadOptions:t,convertStringItemsToObjects:r,filterText:i}=n,o=yield t(i).catch(s=>{console.warn("svelte-select loadOptions error :>> ",s),e("error",{type:"loadOptions",details:s})});if(o&&!o.cancelled)return o?(o&&o.length>0&&typeof o[0]!="object"&&(o=r(o)),e("loaded",{items:o})):o=[],{filteredItems:o,loading:!1,focused:!0,listOpen:!0}}),qg.apply(this,arguments)}function zq(n){ct(n,"svelte-qbd276","svg.svelte-qbd276{width:var(--chevron-icon-width, 20px);height:var(--chevron-icon-width, 20px);color:var(--chevron-icon-colour, currentColor)}")}function Lq(n){var e,t;return{c(){e=xo("svg"),w(t=xo("path"),"fill","currentColor"),w(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),w(e,"width","100%"),w(e,"height","100%"),w(e,"viewBox","0 0 20 20"),w(e,"focusable","false"),w(e,"aria-hidden","true"),w(e,"class","svelte-qbd276")},m(r,i){K(r,e,i),O(e,t)},p:ke,i:ke,o:ke,d(r){r&&W(e)}}}let Bq=class extends et{constructor(e){super(),Ze(this,e,null,Lq,Hn,{},zq)}};function qq(n){ct(n,"svelte-whdbu1","svg.svelte-whdbu1{width:var(--clear-icon-width, 20px);height:var(--clear-icon-width, 20px);color:var(--clear-icon-color, currentColor)}")}function Fq(n){var e,t;return{c(){e=xo("svg"),w(t=xo("path"),"fill","currentColor"),w(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),w(e,"width","100%"),w(e,"height","100%"),w(e,"viewBox","-2 -2 50 50"),w(e,"focusable","false"),w(e,"aria-hidden","true"),w(e,"role","presentation"),w(e,"class","svelte-whdbu1")},m(r,i){K(r,e,i),O(e,t)},p:ke,i:ke,o:ke,d(r){r&&W(e)}}}let Zf=class extends et{constructor(e){super(),Ze(this,e,null,Fq,Hn,{},qq)}};function Vq(n){ct(n,"svelte-1p3nqvd",".loading.svelte-1p3nqvd{width:var(--spinner-width, 20px);height:var(--spinner-height, 20px);color:var(--spinner-color, var(--icons-color));animation:svelte-1p3nqvd-rotate 0.75s linear infinite;transform-origin:center center;transform:none}.circle_path.svelte-1p3nqvd{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-1p3nqvd-rotate{100%{transform:rotate(360deg)}}")}function Uq(n){var e,t;return{c(){e=xo("svg"),w(t=xo("circle"),"class","circle_path svelte-1p3nqvd"),w(t,"cx","50"),w(t,"cy","50"),w(t,"r","20"),w(t,"fill","none"),w(t,"stroke","currentColor"),w(t,"stroke-width","5"),w(t,"stroke-miterlimit","10"),w(e,"class","loading svelte-1p3nqvd"),w(e,"viewBox","25 25 50 50")},m(r,i){K(r,e,i),O(e,t)},p:ke,i:ke,o:ke,d(r){r&&W(e)}}}let Hq=class extends et{constructor(e){super(),Ze(this,e,null,Uq,Hn,{},Vq)}};function Wq(n){ct(n,"svelte-82qwg8",".svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{--borderRadius:var(--border-radius);--clearSelectColor:var(--clear-select-color);--clearSelectWidth:var(--clear-select-width);--disabledBackground:var(--disabled-background);--disabledBorderColor:var(--disabled-border-color);--disabledColor:var(--disabled-color);--disabledPlaceholderColor:var(--disabled-placeholder-color);--disabledPlaceholderOpacity:var(--disabled-placeholder-opacity);--errorBackground:var(--error-background);--errorBorder:var(--error-border);--groupItemPaddingLeft:var(--group-item-padding-left);--groupTitleColor:var(--group-title-color);--groupTitleFontSize:var(--group-title-font-size);--groupTitleFontWeight:var(--group-title-font-weight);--groupTitlePadding:var(--group-title-padding);--groupTitleTextTransform:var(--group-title-text-transform);--groupTitleBorderColor:var(--group-title-border-color);--groupTitleBorderWidth:var(--group-title-border-width);--groupTitleBorderStyle:var(--group-title-border-style);--indicatorColor:var(--chevron-color);--indicatorHeight:var(--chevron-height);--indicatorWidth:var(--chevron-width);--inputColor:var(--input-color);--inputLeft:var(--input-left);--inputLetterSpacing:var(--input-letter-spacing);--inputMargin:var(--input-margin);--inputPadding:var(--input-padding);--itemActiveBackground:var(--item-active-background);--itemColor:var(--item-color);--itemFirstBorderRadius:var(--item-first-border-radius);--itemHoverBG:var(--item-hover-bg);--itemHoverColor:var(--item-hover-color);--itemIsActiveBG:var(--item-is-active-bg);--itemIsActiveColor:var(--item-is-active-color);--itemIsNotSelectableColor:var(--item-is-not-selectable-color);--itemPadding:var(--item-padding);--listBackground:var(--list-background);--listBorder:var(--list-border);--listBorderRadius:var(--list-border-radius);--listEmptyColor:var(--list-empty-color);--listEmptyPadding:var(--list-empty-padding);--listEmptyTextAlign:var(--list-empty-text-align);--listMaxHeight:var(--list-max-height);--listPosition:var(--list-position);--listShadow:var(--list-shadow);--listZIndex:var(--list-z-index);--multiItemBG:var(--multi-item-bg);--multiItemBorderRadius:var(--multi-item-border-radius);--multiItemDisabledHoverBg:var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor:var(--multi-item-disabled-hover-color);--multiItemHeight:var(--multi-item-height);--multiItemMargin:var(--multi-item-margin);--multiItemPadding:var(--multi-item-padding);--multiSelectInputMargin:var(--multi-select-input-margin);--multiSelectInputPadding:var(--multi-select-input-padding);--multiSelectPadding:var(--multi-select-padding);--placeholderColor:var(--placeholder-color);--placeholderOpacity:var(--placeholder-opacity);--selectedItemPadding:var(--selected-item-padding);--spinnerColor:var(--spinner-color);--spinnerHeight:var(--spinner-height);--spinnerWidth:var(--spinner-width);--internal-padding:0 0 0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--border-radius, 6px);min-height:var(--height, 42px);position:relative;display:flex;align-items:stretch;padding:var(--padding, var(--internal-padding));background:var(--background, #fff);margin:var(--margin, 0);width:var(--width, 100%);font-size:var(--font-size, 16px);max-height:var(--max-height)}.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-sizing:var(--box-sizing, border-box)}.svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{border:var(--border-hover, 1px solid #b2b8bf)}.value-container.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex:1 1 0%;flex-wrap:wrap;align-items:center;gap:5px 10px;padding:var(--value-container-padding, 5px 0);position:relative;overflow:var(--value-container-overflow, hidden);align-self:stretch}.prepend.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex-shrink:0;align-items:center}.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:absolute;cursor:default;border:none;color:var(--input-color, var(--item-color));padding:var(--input-padding, 0);letter-spacing:var(--input-letter-spacing, inherit);margin:var(--input-margin, 0);min-width:10px;top:0;right:0;bottom:0;left:0;background:transparent;font-size:var(--font-size, 16px)}.svelte-82qwg8:not(.multi)>.value-container.svelte-82qwg8>input.svelte-82qwg8{width:100%;height:100%}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--placeholder-color, #78848f);opacity:var(--placeholder-opacity, 1)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.svelte-select.focused.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--border-focused, 1px solid #006fe8);border-radius:var(--border-radius-focused, var(--border-radius, 6px))}.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--disabled-background, #ebedef);border-color:var(--disabled-border-color, #ebedef);color:var(--disabled-color, #c1c6cc)}.disabled.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--disabled-placeholder-color, #c1c6cc);opacity:var(--disabled-placeholder-opacity, 1)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:relative;overflow:var(--selected-item-overflow, hidden);padding:var(--selected-item-padding, 0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color, inherit);font-size:var(--font-size, 16px)}.multi.svelte-82qwg8 .selected-item.svelte-82qwg8.svelte-82qwg8{position:absolute;line-height:var(--height, 42px);height:var(--height, 42px)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.hide-selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0}.icon.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{all:unset;display:flex;align-items:center;justify-content:center;width:var(--clear-select-width, 40px);height:var(--clear-select-height, 100%);color:var(--clear-select-color, var(--icons-color));margin:var(--clear-select-margin, 0);pointer-events:all;flex-shrink:0}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:var(--clear-select-focus-outline, 1px solid #006fe8)}.loading.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--loading-width, 40px);height:var(--loading-height);color:var(--loading-color, var(--icons-color));margin:var(--loading--margin, 0);flex-shrink:0}.chevron.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--chevron-width, 40px);height:var(--chevron-height, 40px);background:var(--chevron-background, transparent);pointer-events:var(--chevron-pointer-events, none);color:var(--chevron-color, var(--icons-color));border:var(--chevron-border, 0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-padding, var(--internal-padding))}.multi.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-input-padding, 0);position:relative;margin:var(--multi-select-input-margin, 5px 0);flex:1 1 40px}.svelte-select.error.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--error-border, 1px solid #ff2d55);background:var(--error-background, #fff)}.a11y-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}.multi-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--multi-item-bg, #ebedef);margin:var(--multi-item-margin, 0);outline:var(--multi-item-outline, 1px solid #ddd);border-radius:var(--multi-item-border-radius, 4px);height:var(--multi-item-height, 25px);line-height:var(--multi-item-height, 25px);display:flex;cursor:default;padding:var(--multi-item-padding, 0 5px);overflow:hidden;gap:var(--multi-item-gap, 4px);outline-offset:-1px;max-width:var(--multi-max-width, none);color:var(--multi-item-color, var(--item-color))}.multi-item.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{background:var(--multi-item-disabled-hover-bg, #ebedef);color:var(--multi-item-disabled-hover-color, #c1c6cc)}.multi-item-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multi-item-clear.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center;--clear-icon-color:var(--multi-item-clear-icon-color, #000)}.multi-item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{outline:var(--multi-item-active-outline, 1px solid #006fe8)}.svelte-select-list.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-shadow:var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--list-border-radius, 4px);max-height:var(--list-max-height, 252px);overflow-y:auto;background:var(--list-background, #fff);position:var(--list-position, absolute);z-index:var(--list-z-index, 2);border:var(--list-border)}.prefloat.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;pointer-events:none}.list-group-title.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{color:var(--group-title-color, #8f8f8f);cursor:default;font-size:var(--group-title-font-size, 16px);font-weight:var(--group-title-font-weight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--group-title-padding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--group-title-text-transform, uppercase);border-width:var(--group-title-border-width, medium);border-style:var(--group-title-border-style, none);border-color:var(--group-title-border-color, color)}.empty.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{text-align:var(--list-empty-text-align, center);padding:var(--list-empty-padding, 20px 0);color:var(--list-empty-color, #78848f)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{cursor:default;height:var(--item-height, var(--height, 42px));line-height:var(--item-line-height, var(--height, 42px));padding:var(--item-padding, 0 20px);color:var(--item-color, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transition:var(--item-transition, all 0.2s);align-items:center;width:100%}.item.group-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding-left:var(--group-item-padding-left, 40px)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{background:var(--item-active-background, #b9daff)}.item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--item-is-active-bg, #007aff);color:var(--item-is-active-color, #fff)}.item.first.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border-radius:var(--item-first-border-radius, 4px 4px 0 0)}.item.hover.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:not(.active){background:var(--item-hover-bg, #e7f2ff);color:var(--item-hover-color, inherit)}.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.hover.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.active.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{color:var(--item-is-not-selectable-color, #999);background:transparent}.required.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0}")}var Kq=n=>({value:8&n[0]}),p2=n=>({value:n[3]}),Gq=n=>({value:8&n[0]}),m2=n=>({value:n[3]}),Jq=n=>({listOpen:64&n[0]}),g2=n=>({listOpen:n[6]}),Qq=n=>({}),v2=n=>({}),Yq=n=>({}),y2=n=>({}),Xq=n=>({selection:8&n[0]}),b2=n=>({selection:n[3]});function x2(n,e,t){var r=n.slice();return r[126]=e[t],r[128]=t,r}var Zq=n=>({}),w2=n=>({}),eF=n=>({selection:8&n[0]}),j2=n=>({selection:n[126],index:n[128]}),tF=n=>({}),$2=n=>({}),nF=n=>({}),k2=n=>({}),rF=n=>({}),C2=n=>({});function S2(n,e,t){var r=n.slice();return r[126]=e[t],r[128]=t,r}var iF=n=>({item:16777216&n[0]}),O2=n=>({item:n[126],index:n[128]}),oF=n=>({filteredItems:16777216&n[0]}),E2=n=>({filteredItems:n[24]}),sF=n=>({}),A2=n=>({});function M2(n){var e,t,r,i,o,s,a,l,c=n[50]["list-prepend"]&&P2(n),u=[cF,lF,aF],d=[];function f(p,g){return p[50].list?0:p[24].length>0?1:p[19]?-1:2}~(r=f(n))&&(i=d[r]=u[r](n));var h=n[50]["list-append"]&&T2(n);return{c(){e=I("div"),c&&c.c(),t=ne(),i&&i.c(),o=ne(),h&&h.c(),w(e,"class","svelte-select-list svelte-82qwg8"),w(e,"role","none"),he(e,"prefloat",n[28])},m(p,g){K(p,e,g),c&&c.m(e,null),O(e,t),~r&&d[r].m(e,null),O(e,o),h&&h.m(e,null),n[91](e),s=!0,a||(l=[$r(n[49].call(null,e)),ve(e,"scroll",n[41]),ve(e,"pointerup",Hi(Ls(n[85]))),ve(e,"mousedown",Hi(Ls(n[86])))],a=!0)},p(p,g){p[50]["list-prepend"]?c?(c.p(p,g),524288&g[1]&&$(c,1)):((c=P2(p)).c(),$(c,1),c.m(e,t)):c&&(be(),C(c,1,1,()=>{c=null}),xe());var v=r;(r=f(p))===v?~r&&d[r].p(p,g):(i&&(be(),C(d[v],1,1,()=>{d[v]=null}),xe()),~r?((i=d[r])?i.p(p,g):(i=d[r]=u[r](p)).c(),$(i,1),i.m(e,o)):i=null),p[50]["list-append"]?h?(h.p(p,g),524288&g[1]&&$(h,1)):((h=T2(p)).c(),$(h,1),h.m(e,null)):h&&(be(),C(h,1,1,()=>{h=null}),xe()),(!s||268435456&g[0])&&he(e,"prefloat",p[28])},i(p){s||($(c),$(i),$(h),s=!0)},o(p){C(c),C(i),C(h),s=!1},d(p){p&&W(e),c&&c.d(),~r&&d[r].d(),h&&h.d(),n[91](null),a=!1,tn(l)}}}function P2(n){var e,t=n[83]["list-prepend"],r=yn(t,n,n[82],A2);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||1048576&o[2])&&xn(r,t,i,i[82],e?bn(t,i[82],o,sF):wn(i[82]),A2)},i(i){e||($(r,i),e=!0)},o(i){C(r,i),e=!1},d(i){r&&r.d(i)}}}function aF(n){var e,t,r=n[83].empty,i=yn(r,n,n[82],C2),o=i||{c(){(t=I("div")).textContent="No options",w(t,"class","empty svelte-82qwg8")},m(s,a){K(s,t,a)},p:ke,d(s){s&&W(t)}};return{c(){o&&o.c()},m(s,a){o&&o.m(s,a),e=!0},p(s,a){i&&i.p&&(!e||1048576&a[2])&&xn(i,r,s,s[82],e?bn(r,s[82],a,rF):wn(s[82]),C2)},i(s){e||($(o,s),e=!0)},o(s){C(o,s),e=!1},d(s){o&&o.d(s)}}}function lF(n){for(var e,t,r=ut(n[24]),i=[],o=0;o<r.length;o+=1)i[o]=_2(S2(n,r,o));var s=a=>C(i[a],1,1,()=>{i[a]=null});return{c(){for(var a=0;a<i.length;a+=1)i[a].c();e=Bt()},m(a,l){for(var c=0;c<i.length;c+=1)i[c]&&i[c].m(a,l);K(a,e,l),t=!0},p(a,l){if(1627402376&l[0]|28672&l[1]|1048576&l[2]){var c;for(r=ut(a[24]),c=0;c<r.length;c+=1){var u=S2(a,r,c);i[c]?(i[c].p(u,l),$(i[c],1)):(i[c]=_2(u),i[c].c(),$(i[c],1),i[c].m(e.parentNode,e))}for(be(),c=r.length;c<i.length;c+=1)s(c);xe()}},i(a){if(!t){for(var l=0;l<r.length;l+=1)$(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)C(i[l]);t=!1},d(a){a&&W(e),Ln(i,a)}}}function cF(n){var e,t=n[83].list,r=yn(t,n,n[82],E2);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||16777216&o[0]|1048576&o[2])&&xn(r,t,i,i[82],e?bn(t,i[82],o,oF):wn(i[82]),E2)},i(i){e||($(r,i),e=!0)},o(i){C(r,i),e=!1},d(i){r&&r.d(i)}}}function _2(n){var e,t,r,i,o,s,a,l,c=n[83].item,u=yn(c,n,n[82],O2),d=u||function(g){var v,m,y=((v=g[126])===null||v===void 0?void 0:v[g[12]])+"";return{c(){m=Se(y)},m(b,j){K(b,m,j)},p(b,j){var x;16781312&j[0]&&y!==(y=((x=b[126])===null||x===void 0?void 0:x[b[12]])+"")&&Xe(m,y)},d(b){b&&W(m)}}}(n);function f(){return n[88](n[128])}function h(){return n[89](n[128])}function p(){return n[90](n[126],n[128])}return{c(){var g;e=I("div"),t=I("div"),d&&d.c(),o=ne(),w(t,"class","item svelte-82qwg8"),he(t,"list-group-title",n[126].groupHeader),he(t,"active",n[45](n[126],n[3],n[13])),he(t,"first",n[128]===0),he(t,"hover",n[7]===n[128]),he(t,"group-item",n[126].groupItem),he(t,"not-selectable",((g=n[126])===null||g===void 0?void 0:g.selectable)===!1),w(e,"class","list-item svelte-82qwg8"),w(e,"tabindex","-1"),w(e,"role","none")},m(g,v){K(g,e,v),O(e,t),d&&d.m(t,null),O(e,o),s=!0,a||(l=[$r(r=n[46].call(null,t,{scroll:n[45](n[126],n[3],n[13]),listDom:n[30]})),$r(i=n[47].call(null,t,{scroll:n[29]===n[128],listDom:n[30]})),ve(e,"mouseover",f),ve(e,"focus",h),ve(e,"click",Hi(p)),ve(e,"keydown",Hi(Ls(n[87])))],a=!0)},p(g,v){var m;n=g,u?u.p&&(!s||16777216&v[0]|1048576&v[2])&&xn(u,c,n,n[82],s?bn(c,n[82],v,iF):wn(n[82]),O2):d&&d.p&&(!s||16781312&v[0])&&d.p(n,s?v:[-1,-1,-1,-1,-1]),r&&ii(r.update)&&1090527240&v[0]&&r.update.call(null,{scroll:n[45](n[126],n[3],n[13]),listDom:n[30]}),i&&ii(i.update)&&1610612736&v[0]&&i.update.call(null,{scroll:n[29]===n[128],listDom:n[30]}),(!s||16777216&v[0])&&he(t,"list-group-title",n[126].groupHeader),(!s||16785416&v[0]|16384&v[1])&&he(t,"active",n[45](n[126],n[3],n[13])),(!s||128&v[0])&&he(t,"hover",n[7]===n[128]),(!s||16777216&v[0])&&he(t,"group-item",n[126].groupItem),(!s||16777216&v[0])&&he(t,"not-selectable",((m=n[126])===null||m===void 0?void 0:m.selectable)===!1)},i(g){s||($(d,g),s=!0)},o(g){C(d,g),s=!1},d(g){g&&W(e),d&&d.d(g),a=!1,tn(l)}}}function T2(n){var e,t=n[83]["list-append"],r=yn(t,n,n[82],k2);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||1048576&o[2])&&xn(r,t,i,i[82],e?bn(t,i[82],o,nF):wn(i[82]),k2)},i(i){e||($(r,i),e=!0)},o(i){C(r,i),e=!1},d(i){r&&r.d(i)}}}function R2(n){var e,t,r,i,o;return{c(){e=I("span"),t=Se(n[32]),r=ne(),i=I("span"),o=Se(n[31]),w(e,"id","aria-selection"),w(e,"class","svelte-82qwg8"),w(i,"id","aria-context"),w(i,"class","svelte-82qwg8")},m(s,a){K(s,e,a),O(e,t),K(s,r,a),K(s,i,a),O(i,o)},p(s,a){2&a[1]&&Xe(t,s[32]),1&a[1]&&Xe(o,s[31])},d(s){s&&(W(e),W(r),W(i))}}}function N2(n){var e,t,r,i,o=[dF,uF],s=[];function a(l,c){return l[9]?0:1}return e=a(n),t=s[e]=o[e](n),{c(){t.c(),r=Bt()},m(l,c){s[e].m(l,c),K(l,r,c),i=!0},p(l,c){var u=e;(e=a(l))===u?s[e].p(l,c):(be(),C(s[u],1,1,()=>{s[u]=null}),xe(),(t=s[e])?t.p(l,c):(t=s[e]=o[e](l)).c(),$(t,1),t.m(r.parentNode,r))},i(l){i||($(t),i=!0)},o(l){C(t),i=!1},d(l){l&&W(r),s[e].d(l)}}}function uF(n){var e,t,r=n[83].selection,i=yn(r,n,n[82],b2),o=i||function(s){var a,l=s[3][s[12]]+"";return{c(){a=Se(l)},m(c,u){K(c,a,u)},p(c,u){4104&u[0]&&l!==(l=c[3][c[12]]+"")&&Xe(a,l)},d(c){c&&W(a)}}}(n);return{c(){e=I("div"),o&&o.c(),w(e,"class","selected-item svelte-82qwg8"),he(e,"hide-selected-item",n[35])},m(s,a){K(s,e,a),o&&o.m(e,null),t=!0},p(s,a){i?i.p&&(!t||8&a[0]|1048576&a[2])&&xn(i,r,s,s[82],t?bn(r,s[82],a,Xq):wn(s[82]),b2):o&&o.p&&(!t||4104&a[0])&&o.p(s,t?a:[-1,-1,-1,-1,-1]),(!t||16&a[1])&&he(e,"hide-selected-item",s[35])},i(s){t||($(o,s),t=!0)},o(s){C(o,s),t=!1},d(s){s&&W(e),o&&o.d(s)}}}function dF(n){for(var e,t,r=ut(n[3]),i=[],o=0;o<r.length;o+=1)i[o]=I2(x2(n,r,o));var s=a=>C(i[a],1,1,()=>{i[a]=null});return{c(){for(var a=0;a<i.length;a+=1)i[a].c();e=Bt()},m(a,l){for(var c=0;c<i.length;c+=1)i[c]&&i[c].m(a,l);K(a,e,l),t=!0},p(a,l){if(67116040&l[0]|32&l[1]|1048576&l[2]){var c;for(r=ut(a[3]),c=0;c<r.length;c+=1){var u=x2(a,r,c);i[c]?(i[c].p(u,l),$(i[c],1)):(i[c]=I2(u),i[c].c(),$(i[c],1),i[c].m(e.parentNode,e))}for(be(),c=r.length;c<i.length;c+=1)s(c);xe()}},i(a){if(!t){for(var l=0;l<r.length;l+=1)$(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)C(i[l]);t=!1},d(a){a&&W(e),Ln(i,a)}}}function D2(n){var e,t,r,i,o=n[83]["multi-clear-icon"],s=yn(o,n,n[82],w2),a=s||function(){var c,u;return c=new Zf({}),{c(){ue(c.$$.fragment)},m(d,f){le(c,d,f),u=!0},i(d){u||($(c.$$.fragment,d),u=!0)},o(d){C(c.$$.fragment,d),u=!1},d(d){ce(c,d)}}}();function l(){return n[92](n[128])}return{c(){e=I("div"),a&&a.c(),w(e,"class","multi-item-clear svelte-82qwg8")},m(c,u){K(c,e,u),a&&a.m(e,null),t=!0,r||(i=ve(e,"pointerup",Hi(Ls(l))),r=!0)},p(c,u){n=c,s&&s.p&&(!t||1048576&u[2])&&xn(s,o,n,n[82],t?bn(o,n[82],u,Zq):wn(n[82]),w2)},i(c){t||($(a,c),t=!0)},o(c){C(a,c),t=!1},d(c){c&&W(e),a&&a.d(c),r=!1,i()}}}function I2(n){var e,t,r,i,o,s,a,l=n[83].selection,c=yn(l,n,n[82],j2),u=c||function(h){var p,g=h[126][h[12]]+"";return{c(){p=Se(g)},m(v,m){K(v,p,m)},p(v,m){4104&m[0]&&g!==(g=v[126][v[12]]+"")&&Xe(p,g)},d(v){v&&W(p)}}}(n),d=!n[11]&&!n[10]&&Zf&&D2(n);function f(){return n[93](n[128])}return{c(){e=I("div"),t=I("span"),u&&u.c(),r=ne(),d&&d.c(),i=ne(),w(t,"class","multi-item-text svelte-82qwg8"),w(e,"class","multi-item svelte-82qwg8"),w(e,"role","none"),he(e,"active",n[26]===n[128]),he(e,"disabled",n[11])},m(h,p){K(h,e,p),O(e,t),u&&u.m(t,null),O(e,r),d&&d.m(e,null),O(e,i),o=!0,s||(a=[ve(e,"click",Ls(f)),ve(e,"keydown",Hi(Ls(n[84])))],s=!0)},p(h,p){n=h,c?c.p&&(!o||8&p[0]|1048576&p[2])&&xn(c,l,n,n[82],o?bn(l,n[82],p,eF):wn(n[82]),j2):u&&u.p&&(!o||4104&p[0])&&u.p(n,o?p:[-1,-1,-1,-1,-1]),n[11]||n[10]||!Zf?d&&(be(),C(d,1,1,()=>{d=null}),xe()):d?(d.p(n,p),3072&p[0]&&$(d,1)):((d=D2(n)).c(),$(d,1),d.m(e,i)),(!o||67108864&p[0])&&he(e,"active",n[26]===n[128]),(!o||2048&p[0])&&he(e,"disabled",n[11])},i(h){o||($(u,h),$(d),o=!0)},o(h){C(u,h),C(d),o=!1},d(h){h&&W(e),u&&u.d(h),d&&d.d(),s=!1,tn(a)}}}function z2(n){var e,t,r=n[83]["loading-icon"],i=yn(r,n,n[82],y2),o=i||function(){var s,a;return s=new Hq({}),{c(){ue(s.$$.fragment)},m(l,c){le(s,l,c),a=!0},i(l){a||($(s.$$.fragment,l),a=!0)},o(l){C(s.$$.fragment,l),a=!1},d(l){ce(s,l)}}}();return{c(){e=I("div"),o&&o.c(),w(e,"class","icon loading svelte-82qwg8"),w(e,"aria-hidden","true")},m(s,a){K(s,e,a),o&&o.m(e,null),t=!0},p(s,a){i&&i.p&&(!t||1048576&a[2])&&xn(i,r,s,s[82],t?bn(r,s[82],a,Yq):wn(s[82]),y2)},i(s){t||($(o,s),t=!0)},o(s){C(o,s),t=!1},d(s){s&&W(e),o&&o.d(s)}}}function L2(n){var e,t,r,i,o=n[83]["clear-icon"],s=yn(o,n,n[82],v2),a=s||function(){var l,c;return l=new Zf({}),{c(){ue(l.$$.fragment)},m(u,d){le(l,u,d),c=!0},i(u){c||($(l.$$.fragment,u),c=!0)},o(u){C(l.$$.fragment,u),c=!1},d(u){ce(l,u)}}}();return{c(){e=I("button"),a&&a.c(),w(e,"type","button"),w(e,"class","icon clear-select svelte-82qwg8")},m(l,c){K(l,e,c),a&&a.m(e,null),t=!0,r||(i=ve(e,"click",n[22]),r=!0)},p(l,c){s&&s.p&&(!t||1048576&c[2])&&xn(s,o,l,l[82],t?bn(o,l[82],c,Qq):wn(l[82]),v2)},i(l){t||($(a,l),t=!0)},o(l){C(a,l),t=!1},d(l){l&&W(e),a&&a.d(l),r=!1,i()}}}function B2(n){var e,t,r=n[83]["chevron-icon"],i=yn(r,n,n[82],g2),o=i||function(){var s,a;return s=new Bq({}),{c(){ue(s.$$.fragment)},m(l,c){le(s,l,c),a=!0},i(l){a||($(s.$$.fragment,l),a=!0)},o(l){C(s.$$.fragment,l),a=!1},d(l){ce(s,l)}}}();return{c(){e=I("div"),o&&o.c(),w(e,"class","icon chevron svelte-82qwg8"),w(e,"aria-hidden","true")},m(s,a){K(s,e,a),o&&o.m(e,null),t=!0},p(s,a){i&&i.p&&(!t||64&a[0]|1048576&a[2])&&xn(i,r,s,s[82],t?bn(r,s[82],a,Jq):wn(s[82]),g2)},i(s){t||($(o,s),t=!0)},o(s){C(o,s),t=!1},d(s){s&&W(e),o&&o.d(s)}}}function q2(n){var e,t,r=n[83].required,i=yn(r,n,n[82],p2),o=i||{c(){w(t=I("select"),"class","required svelte-82qwg8"),t.required=!0,w(t,"tabindex","-1"),w(t,"aria-hidden","true")},m(s,a){K(s,t,a)},p:ke,d(s){s&&W(t)}};return{c(){o&&o.c()},m(s,a){o&&o.m(s,a),e=!0},p(s,a){i&&i.p&&(!e||8&a[0]|1048576&a[2])&&xn(i,r,s,s[82],e?bn(r,s[82],a,Kq):wn(s[82]),p2)},i(s){e||($(o,s),e=!0)},o(s){C(o,s),e=!1},d(s){o&&o.d(s)}}}function fF(n){for(var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x=n[6]&&M2(n),S=n[2]&&R2(n),_=n[83].prepend,B=yn(_,n,n[82],$2),R=n[25]&&N2(n),F=[{readOnly:u=!n[17]},n[27],{placeholder:n[33]},{style:n[18]},{disabled:n[11]}],Q={},Z=0;Z<F.length;Z+=1)Q=Yn(Q,F[Z]);var J=n[5]&&z2(n),U=n[34]&&L2(n),T=n[20]&&B2(n),re=n[83]["input-hidden"],ie=yn(re,n,n[82],m2),G=ie||function(M){var E,ee;return{c(){w(E=I("input"),"name",M[8]),w(E,"type","hidden"),E.value=ee=M[3]?JSON.stringify(M[3]):null,w(E,"class","svelte-82qwg8")},m(H,k){K(H,E,k)},p(H,k){256&k[0]&&w(E,"name",H[8]),8&k[0]&&ee!==(ee=H[3]?JSON.stringify(H[3]):null)&&(E.value=ee)},d(H){H&&W(E)}}}(n),L=n[16]&&(!n[3]||n[3].length===0)&&q2(n);return{c(){e=I("div"),x&&x.c(),t=ne(),r=I("span"),S&&S.c(),i=ne(),o=I("div"),B&&B.c(),s=ne(),a=I("div"),R&&R.c(),l=ne(),c=I("input"),d=ne(),f=I("div"),J&&J.c(),h=ne(),U&&U.c(),p=ne(),T&&T.c(),g=ne(),G&&G.c(),v=ne(),L&&L.c(),w(r,"aria-live","polite"),w(r,"aria-atomic","false"),w(r,"aria-relevant","additions text"),w(r,"class","a11y-text svelte-82qwg8"),w(o,"class","prepend svelte-82qwg8"),wx(c,Q),he(c,"svelte-82qwg8",!0),w(a,"class","value-container svelte-82qwg8"),w(f,"class","indicators svelte-82qwg8"),w(e,"class",m="svelte-select "+n[21]+" svelte-82qwg8"),w(e,"style",n[14]),w(e,"role","none"),he(e,"multi",n[9]),he(e,"disabled",n[11]),he(e,"focused",n[2]),he(e,"list-open",n[6]),he(e,"show-chevron",n[20]),he(e,"error",n[15])},m(M,E){K(M,e,E),x&&x.m(e,null),O(e,t),O(e,r),S&&S.m(r,null),O(e,i),O(e,o),B&&B.m(o,null),O(e,s),O(e,a),R&&R.m(a,null),O(a,l),O(a,c),c.autofocus&&c.focus(),n[94](c),Bs(c,n[4]),O(e,d),O(e,f),J&&J.m(f,null),O(f,h),U&&U.m(f,null),O(f,p),T&&T.m(f,null),O(e,g),G&&G.m(e,null),O(e,v),L&&L.m(e,null),n[96](e),y=!0,b||(j=[ve(window,"click",n[42]),ve(window,"keydown",n[37]),ve(c,"keydown",n[37]),ve(c,"blur",n[39]),ve(c,"focus",n[38]),ve(c,"input",n[95]),ve(e,"pointerup",Ls(n[40])),$r(n[48].call(null,e))],b=!0)},p(M,E){M[6]?x?(x.p(M,E),64&E[0]&&$(x,1)):((x=M2(M)).c(),$(x,1),x.m(e,t)):x&&(be(),C(x,1,1,()=>{x=null}),xe()),M[2]?S?S.p(M,E):((S=R2(M)).c(),S.m(r,null)):S&&(S.d(1),S=null),B&&B.p&&(!y||1048576&E[2])&&xn(B,_,M,M[82],y?bn(_,M[82],E,tF):wn(M[82]),$2),M[25]?R?(R.p(M,E),33554432&E[0]&&$(R,1)):((R=N2(M)).c(),$(R,1),R.m(a,l)):R&&(be(),C(R,1,1,()=>{R=null}),xe()),wx(c,Q=Ur(F,[(!y||131072&E[0]&&u!==(u=!M[17]))&&{readOnly:u},134217728&E[0]&&M[27],(!y||4&E[1])&&{placeholder:M[33]},(!y||262144&E[0])&&{style:M[18]},(!y||2048&E[0])&&{disabled:M[11]}])),16&E[0]&&c.value!==M[4]&&Bs(c,M[4]),he(c,"svelte-82qwg8",!0),M[5]?J?(J.p(M,E),32&E[0]&&$(J,1)):((J=z2(M)).c(),$(J,1),J.m(f,h)):J&&(be(),C(J,1,1,()=>{J=null}),xe()),M[34]?U?(U.p(M,E),8&E[1]&&$(U,1)):((U=L2(M)).c(),$(U,1),U.m(f,p)):U&&(be(),C(U,1,1,()=>{U=null}),xe()),M[20]?T?(T.p(M,E),1048576&E[0]&&$(T,1)):((T=B2(M)).c(),$(T,1),T.m(f,null)):T&&(be(),C(T,1,1,()=>{T=null}),xe()),ie?ie.p&&(!y||8&E[0]|1048576&E[2])&&xn(ie,re,M,M[82],y?bn(re,M[82],E,Gq):wn(M[82]),m2):G&&G.p&&(!y||264&E[0])&&G.p(M,y?E:[-1,-1,-1,-1,-1]),!M[16]||M[3]&&M[3].length!==0?L&&(be(),C(L,1,1,()=>{L=null}),xe()):L?(L.p(M,E),65544&E[0]&&$(L,1)):((L=q2(M)).c(),$(L,1),L.m(e,null)),(!y||2097152&E[0]&&m!==(m="svelte-select "+M[21]+" svelte-82qwg8"))&&w(e,"class",m),(!y||16384&E[0])&&w(e,"style",M[14]),(!y||2097664&E[0])&&he(e,"multi",M[9]),(!y||2099200&E[0])&&he(e,"disabled",M[11]),(!y||2097156&E[0])&&he(e,"focused",M[2]),(!y||2097216&E[0])&&he(e,"list-open",M[6]),(!y||3145728&E[0])&&he(e,"show-chevron",M[20]),(!y||2129920&E[0])&&he(e,"error",M[15])},i(M){y||($(x),$(B,M),$(R),$(J),$(U),$(T),$(G,M),$(L),y=!0)},o(M){C(x),C(B,M),C(R),C(J),C(U),C(T),C(G,M),C(L),y=!1},d(M){M&&W(e),x&&x.d(),S&&S.d(),B&&B.d(M),R&&R.d(),n[94](null),J&&J.d(),U&&U.d(),T&&T.d(),G&&G.d(M),L&&L.d(),n[96](null),b=!1,tn(j)}}}function F2(n){return n.map((e,t)=>({index:t,value:e,label:"".concat(e)}))}function hF(n,e,t){var r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,{$$slots:b={},$$scope:j}=e,x=function(te){var _e={};for(var Ge in te)_e[Ge]=!0;return _e}(b),S=AL(),{justValue:_=null}=e,{filter:B=Dq}=e,{getItems:R=Iq}=e,{id:F=null}=e,{name:Q=null}=e,{container:Z}=e,{input:J}=e,{multiple:U=!1}=e,{multiFullItemClearable:T=!1}=e,{disabled:re=!1}=e,{focused:ie=!1}=e,{value:G=null}=e,{filterText:L=""}=e,{placeholder:M="Please select"}=e,{placeholderAlwaysShow:E=!1}=e,{items:ee=null}=e,{label:H="label"}=e,{itemFilter:k=(te,_e,Ge)=>"".concat(te).toLowerCase().includes(_e.toLowerCase())}=e,{groupBy:P}=e,{groupFilter:D=te=>te}=e,{groupHeaderSelectable:N=!1}=e,{itemId:se="value"}=e,{loadOptions:$e}=e,{containerStyles:Y=""}=e,{hasError:Pe=!1}=e,{filterSelectedItems:Ve=!0}=e,{required:wt=!1}=e,{closeListOnChange:jt=!0}=e,{clearFilterTextOnBlur:at=!0}=e,{createGroupHeaderItem:Fe=(te,_e)=>({value:te,[H]:te})}=e,{searchable:ye=!0}=e,{inputStyles:Gt=""}=e,{clearable:Me=!0}=e,{loading:At=!1}=e,{listOpen:Ce=!1}=e,{debounce:Je=function(te){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;clearTimeout(f),f=setTimeout(te,_e)}}=e,{debounceWait:ae=300}=e,{hideEmptyState:mt=!1}=e,{inputAttributes:we={}}=e,{listAutoWidth:A=!0}=e,{showChevron:V=!1}=e,{listOffset:X=5}=e,{hoverItemIndex:oe=0}=e,{floatingConfig:me={}}=e,{class:Te=""}=e;function nt(te){var _e=[],Ge={};te.forEach(Kt=>{var q=P(Kt);_e.includes(q)||(_e.push(q),Ge[q]=[],q&&Ge[q].push(Object.assign(Fe(q,Kt),{id:q,groupHeader:!0,selectable:N}))),Ge[q].push(Object.assign({groupItem:!!q},Kt))});var ht=[];return D(_e).forEach(Kt=>{Ge[Kt]&&ht.push(...Ge[Kt])}),ht}function dt(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_e=arguments.length>1?arguments[1]:void 0;t(7,oe=te<0?0:te),!_e&&P&&c[oe]&&!c[oe].selectable&&Cr(1)}function cn(){var te=!0;if(G){var _e=[],Ge=[];G.forEach(ht=>{_e.includes(ht[se])?te=!1:(_e.push(ht[se]),Ge.push(ht))}),te||t(3,G=Ge)}return te}function Bn(te){var _e=te?te[se]:G[se];return ee.find(Ge=>Ge[se]===_e)}function Ht(te){return Qe.apply(this,arguments)}function Qe(){return(Qe=st(function*(te){var _e=G[te];G.length===1?t(3,G=void 0):t(3,G=G.filter(Ge=>Ge!==_e)),S("clear",_e)})).apply(this,arguments)}function $t(te){var _e,Ge;ie&&J===((_e=document)===null||_e===void 0?void 0:_e.activeElement)||(te&&S("focus",te),(Ge=J)===null||Ge===void 0||Ge.focus(),t(2,ie=!0))}function Pn(te){return Hr.apply(this,arguments)}function Hr(){return(Hr=st(function*(te){var _e;qt||(Ce||ie)&&(S("blur",te),qn(),t(2,ie=!1),t(26,h=void 0),(_e=J)===null||_e===void 0||_e.blur())})).apply(this,arguments)}function qn(){at&&t(4,L=""),t(6,Ce=!1)}y=st(function*(){t(78,p=G),t(79,g=L),t(80,v=U)}),Fl().$$.before_update.push(y),Vr(()=>{Ce&&t(2,ie=!0),ie&&J&&J.focus()});var{ariaValues:un=te=>"Option ".concat(te,", selected.")}=e,{ariaListOpen:ir=(te,_e)=>"You are currently focused on option ".concat(te,". There are ").concat(_e," results available.")}=e,{ariaFocused:nn=()=>"Select is focused, type to refine list, press down to open the menu."}=e,fe,Re=null;function ft(){clearTimeout(fe),fe=setTimeout(()=>{qt=!1},100)}ri(()=>{var te;(te=Re)===null||te===void 0||te.remove()});var qt=!1;function Wt(te){te&&te.selectable!==!1&&function(_e){if(_e){t(4,L="");var Ge=Object.assign({},_e);if(Ge.groupHeader&&!Ge.selectable)return;t(3,G=U?G?G.concat([Ge]):[Ge]:t(3,G=Ge)),setTimeout(()=>{jt&&qn(),t(26,h=void 0),S("change",G),S("select",_e)})}}(te)}function en(te){qt||t(7,oe=te)}function Xt(te){var{item:_e,i:Ge}=te;if((_e==null?void 0:_e.selectable)!==!1)return G&&!U&&G[se]===_e[se]?qn():void(function(ht){return ht.groupHeader&&ht.selectable||ht.selectable||!ht.hasOwnProperty("selectable")}(_e)&&(t(7,oe=Ge),Wt(_e)))}function Cr(te){if(c.filter(Ge=>!Object.hasOwn(Ge,"selectable")||Ge.selectable===!0).length===0)return t(7,oe=0);te>0&&oe===c.length-1?t(7,oe=0):t(7,te<0&&oe===0?oe=c.length-1:oe+=te);var _e=c[oe];_e&&_e.selectable===!1&&(te!==1&&te!==-1||Cr(te))}var or=Ji,Mo=Ji;function Ji(te){return{update(_e){_e.scroll&&(ft(),te.scrollIntoView({behavior:"auto",block:"nearest"}))}}}var Po,Zt,sr,rs,Wr,is,Kr,Ma,si={strategy:"absolute",placement:"bottom-start",middleware:[_q(X),Rq(),Tq()],autoUpdate:!1},[Kl,Qi,os]=(rs={autoUpdate:!0},Wr=Po=si,is=te=>Ee(Ee(Ee({},rs),Po||{}),te||{}),Ma=te=>{ri(te.subscribe(_e=>{Zt===void 0?(Zt=_e,Kr()):(Object.assign(Zt,_e),Kr())}))},[te=>{if("subscribe"in te)return Ma(te),{};Zt=te,Kr()},(te,_e)=>{var Ge;sr=te,Wr=is(_e),setTimeout(()=>Kr(_e),0),Kr(_e);var ht=()=>{Ge&&(Ge(),Ge=void 0)},Kt=function(){var{autoUpdate:q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wr||{};ht(),q!==!1&&kn().then(()=>Pq(Zt,sr,()=>Kr(Wr),q===!0?{}:q))};return Ge=Kt(),{update(q){Kr(q),Ge=Kt(q)},destroy(){ht()}}},Kr=te=>{Zt&&sr&&(Wr=is(te),Nq(Zt,sr,Wr).then(_e=>{var Ge;Object.assign(sr.style,{position:_e.strategy,left:"".concat(_e.x,"px"),top:"".concat(_e.y,"px")}),!((Ge=Wr)===null||Ge===void 0)&&Ge.onComputed&&Wr.onComputed(_e)}))}]),Gr=!0;return n.$$set=te=>{"justValue"in te&&t(52,_=te.justValue),"filter"in te&&t(53,B=te.filter),"getItems"in te&&t(54,R=te.getItems),"id"in te&&t(55,F=te.id),"name"in te&&t(8,Q=te.name),"container"in te&&t(0,Z=te.container),"input"in te&&t(1,J=te.input),"multiple"in te&&t(9,U=te.multiple),"multiFullItemClearable"in te&&t(10,T=te.multiFullItemClearable),"disabled"in te&&t(11,re=te.disabled),"focused"in te&&t(2,ie=te.focused),"value"in te&&t(3,G=te.value),"filterText"in te&&t(4,L=te.filterText),"placeholder"in te&&t(56,M=te.placeholder),"placeholderAlwaysShow"in te&&t(57,E=te.placeholderAlwaysShow),"items"in te&&t(51,ee=te.items),"label"in te&&t(12,H=te.label),"itemFilter"in te&&t(58,k=te.itemFilter),"groupBy"in te&&t(59,P=te.groupBy),"groupFilter"in te&&t(60,D=te.groupFilter),"groupHeaderSelectable"in te&&t(61,N=te.groupHeaderSelectable),"itemId"in te&&t(13,se=te.itemId),"loadOptions"in te&&t(62,$e=te.loadOptions),"containerStyles"in te&&t(14,Y=te.containerStyles),"hasError"in te&&t(15,Pe=te.hasError),"filterSelectedItems"in te&&t(63,Ve=te.filterSelectedItems),"required"in te&&t(16,wt=te.required),"closeListOnChange"in te&&t(64,jt=te.closeListOnChange),"clearFilterTextOnBlur"in te&&t(65,at=te.clearFilterTextOnBlur),"createGroupHeaderItem"in te&&t(66,Fe=te.createGroupHeaderItem),"searchable"in te&&t(17,ye=te.searchable),"inputStyles"in te&&t(18,Gt=te.inputStyles),"clearable"in te&&t(68,Me=te.clearable),"loading"in te&&t(5,At=te.loading),"listOpen"in te&&t(6,Ce=te.listOpen),"debounce"in te&&t(69,Je=te.debounce),"debounceWait"in te&&t(70,ae=te.debounceWait),"hideEmptyState"in te&&t(19,mt=te.hideEmptyState),"inputAttributes"in te&&t(71,we=te.inputAttributes),"listAutoWidth"in te&&t(72,A=te.listAutoWidth),"showChevron"in te&&t(20,V=te.showChevron),"listOffset"in te&&t(73,X=te.listOffset),"hoverItemIndex"in te&&t(7,oe=te.hoverItemIndex),"floatingConfig"in te&&t(74,me=te.floatingConfig),"class"in te&&t(21,Te=te.class),"ariaValues"in te&&t(75,un=te.ariaValues),"ariaListOpen"in te&&t(76,ir=te.ariaListOpen),"ariaFocused"in te&&t(77,nn=te.ariaFocused),"$$scope"in te&&t(82,j=te.$$scope)},n.$$.update=()=>{var te,_e,Ge;8&n.$$.dirty[0]|1048576&n.$$.dirty[1]&&G&&function(){if(typeof G=="string"){var ht=(ee||[]).find(Kt=>Kt[se]===G);t(3,G=ht||{[se]:G,label:G})}else U&&Array.isArray(G)&&G.length>0&&t(3,G=G.map(Kt=>typeof Kt=="string"?{value:Kt,label:Kt}:Kt))}(),131072&n.$$.dirty[0]|512&n.$$.dirty[2]&&(!we&&ye||(t(27,m=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},we)),F&&t(27,m.id=F,m),ye||t(27,m.readonly=!0,m))),512&n.$$.dirty[0]&&U&&G&&(Array.isArray(G)?t(3,G=[...G]):t(3,G=[G])),512&n.$$.dirty[0]|262144&n.$$.dirty[2]&&v&&!U&&G&&t(3,G=null),520&n.$$.dirty[0]&&U&&G&&G.length>1&&cn(),8&n.$$.dirty[0]&&G&&(U?JSON.stringify(G)!==JSON.stringify(p)&&cn()&&S("input",G):p&&JSON.stringify(G[se])===JSON.stringify(p[se])||S("input",G)),520&n.$$.dirty[0]|65536&n.$$.dirty[2]&&!G&&U&&p&&S("input",G),6&n.$$.dirty[0]&&!ie&&J&&qn(),16&n.$$.dirty[0]|131072&n.$$.dirty[2]&&L!==g&&($e||L.length!==0)&&($e?Je(st(function*(){t(5,At=!0);var ht=yield R({dispatch:S,loadOptions:$e,convertStringItemsToObjects:F2,filterText:L});ht?(t(5,At=ht.loading),t(6,Ce=Ce?ht.listOpen:L.length>0),t(2,ie=Ce&&ht.focused),t(51,ee=P?nt(ht.filteredItems):ht.filteredItems)):(t(5,At=!1),t(2,ie=!0),t(6,Ce=!0))}),ae):(t(6,Ce=!0),U&&t(26,h=void 0))),12824&n.$$.dirty[0]|407896064&n.$$.dirty[1]|3&n.$$.dirty[2]&&t(24,c=B({loadOptions:$e,filterText:L,items:ee,multiple:U,value:G,itemId:se,groupBy:P,label:H,filterSelectedItems:Ve,itemFilter:k,convertStringItemsToObjects:F2,filterGroupedItems:nt})),16777800&n.$$.dirty[0]&&!U&&Ce&&G&&c&&dt(c.findIndex(ht=>ht[se]===G[se]),!0),576&n.$$.dirty[0]&&Ce&&U&&t(7,oe=0),16&n.$$.dirty[0]&&L&&t(7,oe=0),128&n.$$.dirty[0]&&S("hoverItem",oe),520&n.$$.dirty[0]&&t(25,r=U?G&&G.length>0:G),33554448&n.$$.dirty[0]&&t(35,i=r&&L.length>0),33556512&n.$$.dirty[0]|64&n.$$.dirty[2]&&t(34,o=r&&Me&&!re&&!At),520&n.$$.dirty[0]|100663296&n.$$.dirty[1]&&t(33,s=E&&U||U&&((te=G)===null||te===void 0?void 0:te.length)===0?M:G?"":M),520&n.$$.dirty[0]&&t(32,a=G?(_e=void 0,_e=U&&G.length>0?G.map(ht=>ht[H]).join(", "):G[H],un(_e)):""),16777412&n.$$.dirty[0]&&t(31,l=function(){if(!c||c.length===0)return"";var ht=c[oe];if(Ce&&ht){var Kt=c?c.length:0;return ir(ht[H],Kt)}return nn()}()),1048576&n.$$.dirty[1]&&function(ht){ht&&ht.length!==0&&!ht.some(Kt=>typeof Kt!="object")&&G&&(U?!G.some(Kt=>!Kt||!Kt[se]):G[se])&&(Array.isArray(G)?t(3,G=G.map(Kt=>Bn(Kt)||Kt)):t(3,G=Bn()||G))}(ee),8712&n.$$.dirty[0]&&t(52,_=U?G?G.map(ht=>ht[se]):null:G&&G[se]),520&n.$$.dirty[0]|65536&n.$$.dirty[2]&&(U||!p||G||S("input",G)),16777800&n.$$.dirty[0]&&Ce&&c&&!U&&!G&&dt(),16777216&n.$$.dirty[0]&&function(ht){Ce&&S("filter",ht)}(c),1&n.$$.dirty[0]|4096&n.$$.dirty[2]&&Z&&((Ge=me)===null||Ge===void 0?void 0:Ge.autoUpdate)===void 0&&t(81,si.autoUpdate=!0,si),1&n.$$.dirty[0]|528384&n.$$.dirty[2]&&Z&&me&&os(Object.assign(si,me)),8388608&n.$$.dirty[0]&&t(30,u=!!Re),8388672&n.$$.dirty[0]&&function(ht,Kt){if(!ht||!Kt)return t(28,Gr=!0);setTimeout(()=>{t(28,Gr=!1)},0)}(Re,Ce),8388673&n.$$.dirty[0]&&Ce&&Z&&Re&&function(){var{width:ht}=Z.getBoundingClientRect();t(23,Re.style.width=A?ht+"px":"auto",Re)}(),128&n.$$.dirty[0]&&t(29,d=oe),70&n.$$.dirty[0]&&J&&Ce&&!ie&&$t()},[Z,J,ie,G,L,At,Ce,oe,Q,U,T,re,H,se,Y,Pe,wt,ye,Gt,mt,V,Te,function(){S("clear",G),t(3,G=void 0),qn(),$t()},Re,c,r,h,m,Gr,d,u,l,a,s,o,i,Ht,function(te){if(ie)switch(te.stopPropagation(),te.key){case"Escape":te.preventDefault(),qn();break;case"Enter":if(te.preventDefault(),Ce){if(c.length===0)break;var _e=c[oe];if(G&&!U&&G[se]===_e[se]){qn();break}Wt(c[oe])}break;case"ArrowDown":te.preventDefault(),Ce?Cr(1):(t(6,Ce=!0),t(26,h=void 0));break;case"ArrowUp":te.preventDefault(),Ce?Cr(-1):(t(6,Ce=!0),t(26,h=void 0));break;case"Tab":if(Ce&&ie){if(c.length===0||G&&G[se]===c[oe][se])return qn();te.preventDefault(),Wt(c[oe]),qn()}break;case"Backspace":if(!U||L.length>0)return;if(U&&G&&G.length>0){if(Ht(h!==void 0?h:G.length-1),h===0||h===void 0)break;t(26,h=G.length>h?h-1:void 0)}break;case"ArrowLeft":if(!G||!U||L.length>0)return;h===void 0?t(26,h=G.length-1):G.length>h&&h!==0&&t(26,h-=1);break;case"ArrowRight":if(!G||!U||L.length>0||h===void 0)return;h===G.length-1?t(26,h=void 0):h<G.length-1&&t(26,h+=1)}},$t,Pn,function(){if(!re)return L.length>0?t(6,Ce=!0):void t(6,Ce=!Ce)},ft,function(te){var _e;Ce||ie||!Z||Z.contains(te.target)||(_e=Re)!==null&&_e!==void 0&&_e.contains(te.target)||Pn()},en,Xt,function(te,_e,Ge){if(!U)return _e&&_e[Ge]===te[Ge]},or,Mo,Kl,Qi,x,ee,_,B,R,F,M,E,k,P,D,N,$e,Ve,jt,at,Fe,()=>c,Me,Je,ae,we,A,X,me,un,ir,nn,p,g,v,si,j,b,function(te){gc.call(this,n,te)},function(te){gc.call(this,n,te)},function(te){gc.call(this,n,te)},function(te){gc.call(this,n,te)},te=>en(te),te=>en(te),(te,_e)=>Xt({item:te,i:_e}),function(te){xt[te?"unshift":"push"](()=>{t(23,Re=te)})},te=>Ht(te),te=>T?Ht(te):{},function(te){xt[te?"unshift":"push"](()=>{t(1,J=te)})},function(){L=this.value,t(4,L)},function(te){xt[te?"unshift":"push"](()=>{t(0,Z=te)})}]}class ia extends et{constructor(e){super(),Ze(this,e,hF,fF,Hn,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},Wq,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[67]}get handleClear(){return this.$$.ctx[22]}}function pF(n){ct(n,"svelte-qbze6z","table.jse-transform-wizard.svelte-qbze6z.svelte-qbze6z{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-qbze6z input.svelte-qbze6z{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-qbze6z tr th.svelte-qbze6z{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select .value-container{gap:0 !important}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal.svelte-qbze6z .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal .jse-filter-value.svelte-qbze6z{flex:4;padding:4px 8px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);outline:none;background:var(--jse-input-background, var(--jse-background-color, #fff));color:inherit}table.jse-transform-wizard.svelte-qbze6z tr td .jse-horizontal .jse-filter-value.svelte-qbze6z:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}")}function mF(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Q,Z,J,U,T,re,ie,G,L;function M(Y){n[16](Y)}var E={class:"jse-filter-path",showChevron:!0,items:n[7]};function ee(Y){n[17](Y)}n[0]!==void 0&&(E.value=n[0]),a=new ia({props:E}),xt.push(()=>Lr(a,"value",M));var H={class:"jse-filter-relation",showChevron:!0,clearable:!1,items:n[8]};function k(Y){n[19](Y)}n[1]!==void 0&&(H.value=n[1]),u=new ia({props:H}),xt.push(()=>Lr(u,"value",ee));var P={class:"jse-sort-path",showChevron:!0,items:n[7]};function D(Y){n[20](Y)}n[3]!==void 0&&(P.value=n[3]),j=new ia({props:P}),xt.push(()=>Lr(j,"value",k));var N={class:"jse-sort-direction",showChevron:!0,clearable:!1,items:n[9]};function se(Y){n[21](Y)}n[4]!==void 0&&(N.value=n[4]),_=new ia({props:N}),xt.push(()=>Lr(_,"value",D));var $e={class:"jse-projection-paths",multiple:!0,showChevron:!0,items:n[6]};return n[5]!==void 0&&($e.value=n[5]),T=new ia({props:$e}),xt.push(()=>Lr(T,"value",se)),{c(){e=I("table"),t=I("tr"),(r=I("th")).textContent="Filter",i=ne(),o=I("td"),s=I("div"),ue(a.$$.fragment),c=ne(),ue(u.$$.fragment),f=ne(),h=I("input"),p=ne(),g=I("tr"),(v=I("th")).textContent="Sort",m=ne(),y=I("td"),b=I("div"),ue(j.$$.fragment),S=ne(),ue(_.$$.fragment),R=ne(),F=I("tr"),(Q=I("th")).textContent="Pick",Z=ne(),J=I("td"),U=I("div"),ue(T.$$.fragment),w(r,"class","svelte-qbze6z"),w(h,"class","jse-filter-value svelte-qbze6z"),w(s,"class","jse-horizontal svelte-qbze6z"),w(v,"class","svelte-qbze6z"),w(b,"class","jse-horizontal svelte-qbze6z"),w(Q,"class","svelte-qbze6z"),w(U,"class","jse-horizontal svelte-qbze6z"),w(e,"class","jse-transform-wizard svelte-qbze6z")},m(Y,Pe){K(Y,e,Pe),O(e,t),O(t,r),O(t,i),O(t,o),O(o,s),le(a,s,null),O(s,c),le(u,s,null),O(s,f),O(s,h),Bs(h,n[2]),O(e,p),O(e,g),O(g,v),O(g,m),O(g,y),O(y,b),le(j,b,null),O(b,S),le(_,b,null),O(e,R),O(e,F),O(F,Q),O(F,Z),O(F,J),O(J,U),le(T,U,null),ie=!0,G||(L=ve(h,"input",n[18]),G=!0)},p(Y,Pe){var[Ve]=Pe,wt={};128&Ve&&(wt.items=Y[7]),!l&&1&Ve&&(l=!0,wt.value=Y[0],zr(()=>l=!1)),a.$set(wt);var jt={};!d&&2&Ve&&(d=!0,jt.value=Y[1],zr(()=>d=!1)),u.$set(jt),4&Ve&&h.value!==Y[2]&&Bs(h,Y[2]);var at={};128&Ve&&(at.items=Y[7]),!x&&8&Ve&&(x=!0,at.value=Y[3],zr(()=>x=!1)),j.$set(at);var Fe={};!B&&16&Ve&&(B=!0,Fe.value=Y[4],zr(()=>B=!1)),_.$set(Fe);var ye={};64&Ve&&(ye.items=Y[6]),!re&&32&Ve&&(re=!0,ye.value=Y[5],zr(()=>re=!1)),T.$set(ye)},i(Y){ie||($(a.$$.fragment,Y),$(u.$$.fragment,Y),$(j.$$.fragment,Y),$(_.$$.fragment,Y),$(T.$$.fragment,Y),ie=!0)},o(Y){C(a.$$.fragment,Y),C(u.$$.fragment,Y),C(j.$$.fragment,Y),C(_.$$.fragment,Y),C(T.$$.fragment,Y),ie=!1},d(Y){Y&&W(e),ce(a),ce(u),ce(j),ce(_),ce(T),G=!1,L()}}}function gF(n,e,t){var r,i,o,s,a,l,c,u,d,f,h,p=Zn("jsoneditor:TransformWizard"),{json:g}=e,{queryOptions:v={}}=e,{onChange:m}=e,y=["==","!=","<","<=",">",">="].map(R=>({value:R,label:R})),b=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],j=(r=v)!==null&&r!==void 0&&(r=r.filter)!==null&&r!==void 0&&r.path?yc(v.filter.path):void 0,x=(i=y.find(R=>{var F;return R.value===((F=v.filter)===null||F===void 0?void 0:F.relation)}))!==null&&i!==void 0?i:y[0],S=((o=v)===null||o===void 0||(o=o.filter)===null||o===void 0?void 0:o.value)||"",_=(s=v)!==null&&s!==void 0&&(s=s.sort)!==null&&s!==void 0&&s.path?yc(v.sort.path):void 0,B=(a=b.find(R=>{var F;return R.value===((F=v.sort)===null||F===void 0?void 0:F.direction)}))!==null&&a!==void 0?a:b[0];return n.$$set=R=>{"json"in R&&t(11,g=R.json),"queryOptions"in R&&t(10,v=R.queryOptions),"onChange"in R&&t(12,m=R.onChange)},n.$$.update=()=>{var R,F,Q,Z,J,U,T,re,ie,G,L,M,E;2048&n.$$.dirty&&t(15,l=Array.isArray(g)),34816&n.$$.dirty&&t(14,c=l?Cg(g):[]),34816&n.$$.dirty&&t(13,u=l?Cg(g,!0):[]),16384&n.$$.dirty&&t(7,d=c.map(yc)),8192&n.$$.dirty&&t(6,f=u?u.map(yc):[]),1088&n.$$.dirty&&t(5,h=(R=v)!==null&&R!==void 0&&(R=R.projection)!==null&&R!==void 0&&R.paths&&f?v.projection.paths.map(ee=>f.find(H=>Ct(H.value,ee))).filter(ee=>!!ee):void 0),1&n.$$.dirty&&(Q=(F=j)===null||F===void 0?void 0:F.value,Ct((Z=v)===null||Z===void 0||(Z=Z.filter)===null||Z===void 0?void 0:Z.path,Q)||(p("changeFilterPath",Q),t(10,v=Rr(v,["filter","path"],Q,!0)),m(v))),2&n.$$.dirty&&(U=(J=x)===null||J===void 0?void 0:J.value,Ct((T=v)===null||T===void 0||(T=T.filter)===null||T===void 0?void 0:T.relation,U)||(p("changeFilterRelation",U),t(10,v=Rr(v,["filter","relation"],U,!0)),m(v))),4&n.$$.dirty&&(re=S,Ct((ie=v)===null||ie===void 0||(ie=ie.filter)===null||ie===void 0?void 0:ie.value,re)||(p("changeFilterValue",re),t(10,v=Rr(v,["filter","value"],re,!0)),m(v))),8&n.$$.dirty&&function(ee){var H;Ct((H=v)===null||H===void 0||(H=H.sort)===null||H===void 0?void 0:H.path,ee)||(p("changeSortPath",ee),t(10,v=Rr(v,["sort","path"],ee,!0)),m(v))}((G=_)===null||G===void 0?void 0:G.value),16&n.$$.dirty&&(M=(L=B)===null||L===void 0?void 0:L.value,Ct((E=v)===null||E===void 0||(E=E.sort)===null||E===void 0?void 0:E.direction,M)||(p("changeSortDirection",M),t(10,v=Rr(v,["sort","direction"],M,!0)),m(v))),32&n.$$.dirty&&function(ee){var H;Ct((H=v)===null||H===void 0||(H=H.projection)===null||H===void 0?void 0:H.paths,ee)||(p("changeProjectionPaths",ee),t(10,v=Rr(v,["projection","paths"],ee,!0)),m(v))}(h?h.map(ee=>ee.value):void 0)},[j,x,S,_,B,h,f,d,y,b,v,g,m,u,c,l,function(R){t(0,j=R)},function(R){t(1,x=R)},function(){S=this.value,t(2,S)},function(R){t(3,_=R)},function(R){t(4,B=R)},function(R){t(5,h=R),t(10,v),t(6,f),t(13,u),t(15,l),t(11,g)}]}class vF extends et{constructor(e){super(),Ze(this,e,gF,mF,yt,{json:11,queryOptions:10,onChange:12},pF)}}function yF(n){ct(n,"svelte-atm4um",'.jse-select-query-language.svelte-atm4um.svelte-atm4um{position:relative;width:32px}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container.svelte-atm4um{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container .jse-query-language.svelte-atm4um{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;text-align:left;padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));white-space:nowrap;color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));background:var(--jse-context-menu-background, #656565)}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container .jse-query-language.svelte-atm4um:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}')}function V2(n,e,t){var r=n.slice();return r[5]=e[t],r}function bF(n){var e,t;return e=new Mt({props:{data:hm}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function xF(n){var e,t;return e=new Mt({props:{data:fm}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function U2(n){var e,t,r,i,o,s,a,l,c,u,d=n[5].name+"",f=[xF,bF],h=[];function p(v,m){return v[5].id===v[0]?0:1}function g(){return n[4](n[5])}return t=p(n),r=h[t]=f[t](n),{c(){e=I("button"),r.c(),i=ne(),o=Se(d),s=ne(),w(e,"type","button"),w(e,"class","jse-query-language svelte-atm4um"),w(e,"title",a="Select ".concat(n[5].name," as query language")),he(e,"selected",n[5].id===n[0])},m(v,m){K(v,e,m),h[t].m(e,null),O(e,i),O(e,o),O(e,s),l=!0,c||(u=ve(e,"click",g),c=!0)},p(v,m){var y=t;(t=p(n=v))!==y&&(be(),C(h[y],1,1,()=>{h[y]=null}),xe(),(r=h[t])||(r=h[t]=f[t](n)).c(),$(r,1),r.m(e,i)),(!l||2&m)&&d!==(d=n[5].name+"")&&Xe(o,d),(!l||2&m&&a!==(a="Select ".concat(n[5].name," as query language")))&&w(e,"title",a),(!l||3&m)&&he(e,"selected",n[5].id===n[0])},i(v){l||($(r),l=!0)},o(v){C(r),l=!1},d(v){v&&W(e),h[t].d(),c=!1,u()}}}function wF(n){for(var e,t,r,i=ut(n[1]),o=[],s=0;s<i.length;s+=1)o[s]=U2(V2(n,i,s));var a=l=>C(o[l],1,1,()=>{o[l]=null});return{c(){e=I("div"),t=I("div");for(var l=0;l<o.length;l+=1)o[l].c();w(t,"class","jse-select-query-language-container svelte-atm4um"),w(e,"class","jse-select-query-language svelte-atm4um")},m(l,c){K(l,e,c),O(e,t);for(var u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);r=!0},p(l,c){var[u]=c;if(7&u){var d;for(i=ut(l[1]),d=0;d<i.length;d+=1){var f=V2(l,i,d);o[d]?(o[d].p(f,u),$(o[d],1)):(o[d]=U2(f),o[d].c(),$(o[d],1),o[d].m(t,null))}for(be(),d=i.length;d<o.length;d+=1)a(d);xe()}},i(l){if(!r){for(var c=0;c<i.length;c+=1)$(o[c]);r=!0}},o(l){o=o.filter(Boolean);for(var c=0;c<o.length;c+=1)C(o[c]);r=!1},d(l){l&&W(e),Ln(o,l)}}}function jF(n,e,t){var{queryLanguages:r}=e,{queryLanguageId:i}=e,{onChangeQueryLanguage:o}=e;function s(a){t(0,i=a),o(a)}return n.$$set=a=>{"queryLanguages"in a&&t(1,r=a.queryLanguages),"queryLanguageId"in a&&t(0,i=a.queryLanguageId),"onChangeQueryLanguage"in a&&t(3,o=a.onChangeQueryLanguage)},[i,r,s,o,a=>s(a.id)]}class $F extends et{constructor(e){super(),Ze(this,e,jF,wF,Hn,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},yF)}}function kF(n){ct(n,"svelte-1y24war",".jse-header.svelte-1y24war.svelte-1y24war{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1y24war .jse-title.svelte-1y24war{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1y24war button.svelte-1y24war{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1y24war button.svelte-1y24war:hover{background:rgba(255, 255, 255, 0.1)}")}var CF=n=>({}),H2=n=>({});function W2(n){var e,t,r,i,o;return t=new Mt({props:{data:n[0]?W1:Q1}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class","jse-fullscreen svelte-1y24war"),w(e,"title","Toggle full screen")},m(s,a){K(s,e,a),le(t,e,null),r=!0,i||(o=ve(e,"click",n[6]),i=!0)},p(s,a){var l={};1&a&&(l.data=s[0]?W1:Q1),t.$set(l)},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),r=!1},d(s){s&&W(e),ce(t),i=!1,o()}}}function SF(n){var e,t,r,i,o,s,a,l,c,u,d,f=n[5].actions,h=yn(f,n,n[4],H2),p=n[2]&&W2(n);return l=new Mt({props:{data:Rc}}),{c(){e=I("div"),t=I("div"),r=Se(n[1]),i=ne(),h&&h.c(),o=ne(),p&&p.c(),s=ne(),a=I("button"),ue(l.$$.fragment),w(t,"class","jse-title svelte-1y24war"),w(a,"type","button"),w(a,"class","jse-close svelte-1y24war"),w(e,"class","jse-header svelte-1y24war")},m(g,v){K(g,e,v),O(e,t),O(t,r),O(e,i),h&&h.m(e,null),O(e,o),p&&p.m(e,null),O(e,s),O(e,a),le(l,a,null),c=!0,u||(d=ve(a,"click",n[7]),u=!0)},p(g,v){var[m]=v;(!c||2&m)&&Xe(r,g[1]),h&&h.p&&(!c||16&m)&&xn(h,f,g,g[4],c?bn(f,g[4],m,CF):wn(g[4]),H2),g[2]?p?(p.p(g,m),4&m&&$(p,1)):((p=W2(g)).c(),$(p,1),p.m(e,s)):p&&(be(),C(p,1,1,()=>{p=null}),xe())},i(g){c||($(h,g),$(p),$(l.$$.fragment,g),c=!0)},o(g){C(h,g),C(p),C(l.$$.fragment,g),c=!1},d(g){g&&W(e),h&&h.d(g),p&&p.d(),ce(l),u=!1,d()}}}function OF(n,e,t){var{$$slots:r={},$$scope:i}=e,{title:o="Modal"}=e,{fullScreenButton:s=!1}=e,{fullscreen:a=!1}=e,{onClose:l}=e;return n.$$set=c=>{"title"in c&&t(1,o=c.title),"fullScreenButton"in c&&t(2,s=c.fullScreenButton),"fullscreen"in c&&t(0,a=c.fullscreen),"onClose"in c&&t(3,l=c.onClose),"$$scope"in c&&t(4,i=c.$$scope)},[a,o,s,l,i,r,()=>t(0,a=!a),()=>{var c;return(c=l)===null||c===void 0?void 0:c()}]}class Fh extends et{constructor(e){super(),Ze(this,e,OF,SF,yt,{title:1,fullScreenButton:2,fullscreen:0,onClose:3},kF)}}function EF(n){ct(n,"svelte-1kpylsp",".jse-config.svelte-1kpylsp{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-config.svelte-1kpylsp:hover{background:rgba(255, 255, 255, 0.1)}.jse-config.hide.svelte-1kpylsp{display:none}")}function AF(n){var e,t,r,i,o;return t=new Mt({props:{data:oA}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"slot","actions"),w(e,"type","button"),w(e,"class","jse-config svelte-1kpylsp"),w(e,"title","Select a query language"),he(e,"hide",n[1].length<=1)},m(s,a){K(s,e,a),le(t,e,null),n[7](e),r=!0,i||(o=ve(e,"click",n[4]),i=!0)},p(s,a){(!r||2&a)&&he(e,"hide",s[1].length<=1)},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),r=!1},d(s){s&&W(e),ce(t),n[7](null),i=!1,o()}}}function MF(n){var e,t,r;function i(s){n[8](s)}var o={title:"Transform",fullScreenButton:!0,onClose:n[2],$$slots:{actions:[AF]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.fullscreen=n[0]),e=new Fh({props:o}),xt.push(()=>Lr(e,"fullscreen",i)),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),r=!0},p(s,a){var[l]=a,c={};4&l&&(c.onClose=s[2]),4106&l&&(c.$$scope={dirty:l,ctx:s}),!t&&1&l&&(t=!0,c.fullscreen=s[0],zr(()=>t=!1)),e.$set(c)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),r=!1},d(s){ce(e,s)}}}function PF(n,e,t){var r,i,{queryLanguages:o}=e,{queryLanguageId:s}=e,{fullscreen:a}=e,{onChangeQueryLanguage:l}=e,{onClose:c}=e,{openAbsolutePopup:u,closeAbsolutePopup:d}=Hs("absolute-popup");return n.$$set=f=>{"queryLanguages"in f&&t(1,o=f.queryLanguages),"queryLanguageId"in f&&t(5,s=f.queryLanguageId),"fullscreen"in f&&t(0,a=f.fullscreen),"onChangeQueryLanguage"in f&&t(6,l=f.onChangeQueryLanguage),"onClose"in f&&t(2,c=f.onClose)},[a,o,c,r,function(){var f={queryLanguages:o,queryLanguageId:s,onChangeQueryLanguage:h=>{d(i),l(h)}};i=u($F,f,{offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},s,l,function(f){xt[f?"unshift":"push"](()=>{t(3,r=f)})},function(f){t(0,a=f)}]}class _F extends et{constructor(e){super(),Ze(this,e,PF,MF,yt,{queryLanguages:1,queryLanguageId:5,fullscreen:0,onChangeQueryLanguage:6,onClose:2},EF)}}var Gp=Zn("jsoneditor:AutoScrollHandler"),TF=(n,e,t,r)=>(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e,S6=()=>{var n,e,t,r,i,o,s,a,l,c,u,d,f;function h(v){return v.getBoundingClientRect().top-(n.getBoundingClientRect?n.getBoundingClientRect().top:0)+t}function p(v){n.scrollTo?n.scrollTo(n.scrollLeft,v):n.scrollTop=v}function g(v){c||(c=v),p(o(u=v-c,t,a,l)),f=!0,u<l?requestAnimationFrame(g):function(){p(t+a),e&&s&&(e.setAttribute("tabindex","-1"),e.focus()),typeof d=="function"&&d(),c=0,f=!1}()}return function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l=1e3,i=m.offset||0,d=m.callback,o=m.easing||TF,s=m.a11y||!1,typeof m.container){case"object":n=m.container;break;case"string":n=document.querySelector(m.container);break;default:n=window.document.documentElement}switch(t=n.scrollTop,typeof v){case"number":e=void 0,s=!1,r=t+v;break;case"object":r=h(e=v);break;case"string":e=document.querySelector(v),r=h(e)}switch(a=r-t+i,typeof m.duration){case"number":l=m.duration;break;case"function":l=m.duration(a)}f?c=0:requestAnimationFrame(g)}},RF=1e3,kd=Zn("jsoneditor:History");function O6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.maxItems||RF,t=[],r=0;function i(){return r<t.length}function o(){return r>0}function s(){return{canUndo:i(),canRedo:o(),length:t.length}}function a(){n.onChange&&n.onChange(s())}return{add:function(l){kd("add",l),t=[l].concat(t.slice(r)).slice(0,e),r=0,a()},clear:function(){kd("clear"),t=[],r=0,a()},getState:s,undo:function(){if(i()){var l=t[r];return r+=1,kd("undo",l),a(),l}},redo:function(){if(o())return kd("redo",t[r-=1]),a(),t[r]}}}function el(n,e){var t=Date.now(),r=n();return e(Date.now()-t),r}var Ha=Zn("validation"),NF={createObjectDocumentState:()=>({type:"object",properties:{}}),createArrayDocumentState:()=>({type:"array",items:[]}),createValueDocumentState:()=>({type:"value"})};function K2(n,e,t,r){return t1(n,e,t,r,NF)}function E6(n,e,t,r){if(Ha("validateJSON"),!e)return[];if(t!==r){var i=t.stringify(n);return e(i!==void 0?r.parse(i):void 0)}return e(n)}function DF(n,e,t,r){if(Ha("validateText"),n.length>NB)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:zi.info}]};if(n.length!==0)try{var i=el(()=>t.parse(n),l=>Ha("validate: parsed json in ".concat(l," ms")));if(!e)return;var o=t===r?i:el(()=>r.parse(n),l=>Ha("validate: parsed json with the validationParser in ".concat(l," ms"))),s=el(()=>e(o),l=>Ha("validate: validated json in ".concat(l," ms")));return Lt(s)?void 0:{validationErrors:s}}catch(l){var a=el(()=>function(c,u){if(c.length>DB)return!1;try{return u.parse(mo(c)),!0}catch{return!1}}(n,t),c=>Ha("validate: checked whether repairable in ".concat(c," ms")));return{parseError:Ol(n,l.message||l.toString()),isRepairable:a}}}var Cd=Zn("jsoneditor:FocusTracker");function c1(n){var e,{onMount:t,onDestroy:r,getWindow:i,hasFocus:o,onFocus:s,onBlur:a}=n,l=!1;function c(){var d=o();d&&(clearTimeout(e),l||(Cd("focus"),s(),l=d))}function u(){l&&(clearTimeout(e),e=setTimeout(()=>{o()||(Cd("blur"),l=!1,a())}))}t(()=>{Cd("mount FocusTracker");var d=i();d&&(d.addEventListener("focusin",c,!0),d.addEventListener("focusout",u,!0))}),r(()=>{Cd("destroy FocusTracker");var d=i();d&&(d.removeEventListener("focusin",c,!0),d.removeEventListener("focusout",u,!0))})}function IF(n){ct(n,"svelte-czprfx",'.jse-message.svelte-czprfx.svelte-czprfx{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);padding:var(--jse-padding, 10px);display:flex;gap:var(--jse-padding, 10px);flex-wrap:wrap;align-items:stretch}.jse-message.jse-success.svelte-czprfx.svelte-czprfx{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff)}.jse-message.svelte-czprfx .jse-text.svelte-czprfx{display:flex;flex:1;min-width:60%;align-items:center}.jse-message.svelte-czprfx .jse-text.jse-clickable.svelte-czprfx{cursor:pointer}.jse-message.svelte-czprfx .jse-text.jse-clickable.svelte-czprfx:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-czprfx.svelte-czprfx{background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-message.jse-warning.svelte-czprfx.svelte-czprfx{background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-message.jse-info.svelte-czprfx.svelte-czprfx{background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-message.svelte-czprfx .jse-actions.svelte-czprfx{display:flex;gap:var(--jse-padding, 10px)}.jse-message.svelte-czprfx .jse-actions button.jse-action.svelte-czprfx{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-message-action-background, rgba(255, 255, 255, 0.2));color:inherit;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-message.svelte-czprfx .jse-actions button.jse-action.svelte-czprfx:hover{background:var(--jse-message-action-background-highlight, rgba(255, 255, 255, 0.3))}')}function G2(n,e,t){var r=n.slice();return r[9]=e[t],r}function J2(n){var e,t;return e=new Mt({props:{data:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};2&i&&(o.data=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Q2(n){var e,t;return e=new Mt({props:{data:n[9].icon}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8&i&&(o.data=r[9].icon),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Y2(n){var e,t,r,i,o,s,a,l,c,u=n[9].text+"",d=n[9].icon&&Q2(n);function f(){return n[7](n[9])}function h(){return n[8](n[9])}return{c(){e=I("button"),d&&d.c(),t=ne(),r=Se(u),i=ne(),w(e,"type","button"),w(e,"class","jse-button jse-action jse-primary svelte-czprfx"),w(e,"title",o=n[9].title),e.disabled=s=n[9].disabled},m(p,g){K(p,e,g),d&&d.m(e,null),O(e,t),O(e,r),O(e,i),a=!0,l||(c=[ve(e,"click",f),ve(e,"mousedown",h)],l=!0)},p(p,g){(n=p)[9].icon?d?(d.p(n,g),8&g&&$(d,1)):((d=Q2(n)).c(),$(d,1),d.m(e,t)):d&&(be(),C(d,1,1,()=>{d=null}),xe()),(!a||8&g)&&u!==(u=n[9].text+"")&&Xe(r,u),(!a||8&g&&o!==(o=n[9].title))&&w(e,"title",o),(!a||8&g&&s!==(s=n[9].disabled))&&(e.disabled=s)},i(p){a||($(d),a=!0)},o(p){C(d),a=!1},d(p){p&&W(e),d&&d.d(),l=!1,tn(c)}}}function zF(n){for(var e,t,r,i,o,s,a,l,c,u,d,f=n[1]&&J2(n),h=ut(n[3]),p=[],g=0;g<h.length;g+=1)p[g]=Y2(G2(n,h,g));var v=m=>C(p[m],1,1,()=>{p[m]=null});return{c(){e=I("div"),t=I("div"),r=I("div"),f&&f.c(),i=ne(),o=Se(n[2]),s=ne(),a=I("div");for(var m=0;m<p.length;m+=1)p[m].c();w(r,"class","jse-text-centered"),w(t,"role","button"),w(t,"tabindex","-1"),w(t,"class","jse-text svelte-czprfx"),he(t,"jse-clickable",!!n[4]),w(a,"class","jse-actions svelte-czprfx"),w(e,"class",l="jse-message jse-"+n[0]+" svelte-czprfx")},m(m,y){K(m,e,y),O(e,t),O(t,r),f&&f.m(r,null),O(r,i),O(r,o),O(e,s),O(e,a);for(var b=0;b<p.length;b+=1)p[b]&&p[b].m(a,null);c=!0,u||(d=ve(t,"click",n[5]),u=!0)},p(m,y){var[b]=y;if(m[1]?f?(f.p(m,b),2&b&&$(f,1)):((f=J2(m)).c(),$(f,1),f.m(r,i)):f&&(be(),C(f,1,1,()=>{f=null}),xe()),(!c||4&b)&&Xe(o,m[2]),(!c||16&b)&&he(t,"jse-clickable",!!m[4]),8&b){var j;for(h=ut(m[3]),j=0;j<h.length;j+=1){var x=G2(m,h,j);p[j]?(p[j].p(x,b),$(p[j],1)):(p[j]=Y2(x),p[j].c(),$(p[j],1),p[j].m(a,null))}for(be(),j=h.length;j<p.length;j+=1)v(j);xe()}(!c||1&b&&l!==(l="jse-message jse-"+m[0]+" svelte-czprfx"))&&w(e,"class",l)},i(m){if(!c){$(f);for(var y=0;y<h.length;y+=1)$(p[y]);c=!0}},o(m){C(f),p=p.filter(Boolean);for(var y=0;y<p.length;y+=1)C(p[y]);c=!1},d(m){m&&W(e),f&&f.d(),Ln(p,m),u=!1,d()}}}function LF(n,e,t){var{type:r="success"}=e,{icon:i}=e,{message:o}=e,{actions:s=[]}=e,{onClick:a}=e,{onClose:l}=e;return l&&ri(l),n.$$set=c=>{"type"in c&&t(0,r=c.type),"icon"in c&&t(1,i=c.icon),"message"in c&&t(2,o=c.message),"actions"in c&&t(3,s=c.actions),"onClick"in c&&t(4,a=c.onClick),"onClose"in c&&t(6,l=c.onClose)},[r,i,o,s,a,function(){a&&a()},l,c=>{c.onClick&&c.onClick()},c=>{c.onMouseDown&&c.onMouseDown()}]}class Gi extends et{constructor(e){super(),Ze(this,e,LF,zF,yt,{type:0,icon:1,message:2,actions:3,onClick:4,onClose:6},IF)}}function BF(n){ct(n,"svelte-1uindol",'.jse-validation-errors-overview.svelte-1uindol.svelte-1uindol{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1uindol table.svelte-1uindol{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1uindol table tr.svelte-1uindol{cursor:pointer}.jse-validation-errors-overview.svelte-1uindol table tr.jse-validation-error.svelte-1uindol{background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-validation-errors-overview.svelte-1uindol table tr.jse-validation-warning.svelte-1uindol{background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-validation-errors-overview.svelte-1uindol table tr.jse-validation-warning.svelte-1uindol:hover{filter:brightness(105%)}.jse-validation-errors-overview.svelte-1uindol table tr.jse-validation-info.svelte-1uindol{background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-validation-errors-overview.svelte-1uindol table tr.svelte-1uindol:hover{filter:brightness(110%)}.jse-validation-errors-overview.svelte-1uindol table tr td.svelte-1uindol{padding:4px var(--jse-padding, 10px);vertical-align:middle}.jse-validation-errors-overview.svelte-1uindol table tr td.jse-validation-error-icon.svelte-1uindol{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1uindol table tr td.jse-validation-error-action.svelte-1uindol{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1uindol table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1uindol{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1uindol table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1uindol:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1uindol table tr td div.jse-validation-errors-expand.svelte-1uindol{display:inline-block;position:relative;top:3px}')}function X2(n,e,t){var r=n.slice();return r[8]=e[t],r[10]=t,r}function Z2(n){var e,t,r,i,o=[FF,qF],s=[];function a(l,c){return l[2]||l[3]===1?0:1}return t=a(n),r=s[t]=o[t](n),{c(){e=I("div"),r.c(),w(e,"class","jse-validation-errors-overview svelte-1uindol")},m(l,c){K(l,e,c),s[t].m(e,null),i=!0},p(l,c){var u=t;(t=a(l))===u?s[t].p(l,c):(be(),C(s[u],1,1,()=>{s[u]=null}),xe(),(r=s[t])?r.p(l,c):(r=s[t]=o[t](l)).c(),$(r,1),r.m(e,null))},i(l){i||($(r),i=!0)},o(l){C(r),i=!1},d(l){l&&W(e),s[t].d()}}}function qF(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g;return o=new Mt({props:{data:ka}}),d=new Mt({props:{data:Ek}}),{c(){e=I("table"),t=I("tbody"),r=I("tr"),i=I("td"),ue(o.$$.fragment),s=ne(),a=I("td"),l=Se(n[3]),c=Se(` validation errors
              `),u=I("div"),ue(d.$$.fragment),w(i,"class","jse-validation-error-icon svelte-1uindol"),w(u,"class","jse-validation-errors-expand svelte-1uindol"),w(a,"class","jse-validation-error-count svelte-1uindol"),w(r,"class",f="jse-validation-"+n[6](n[0])+" svelte-1uindol"),w(e,"class","jse-validation-errors-overview-collapsed svelte-1uindol")},m(v,m){K(v,e,m),O(e,t),O(t,r),O(r,i),le(o,i,null),O(r,s),O(r,a),O(a,l),O(a,c),O(a,u),le(d,u,null),h=!0,p||(g=ve(r,"click",n[5]),p=!0)},p(v,m){(!h||8&m)&&Xe(l,v[3]),(!h||1&m&&f!==(f="jse-validation-"+v[6](v[0])+" svelte-1uindol"))&&w(r,"class",f)},i(v){h||($(o.$$.fragment,v),$(d.$$.fragment,v),h=!0)},o(v){C(o.$$.fragment,v),C(d.$$.fragment,v),h=!1},d(v){v&&W(e),ce(o),ce(d),p=!1,g()}}}function FF(n){for(var e,t,r,i,o=ut(Ff(n[0],Xa)),s=[],a=0;a<o.length;a+=1)s[a]=tw(X2(n,o,a));var l=u=>C(s[u],1,1,()=>{s[u]=null}),c=n[3]>Xa&&nw(n);return{c(){e=I("table"),t=I("tbody");for(var u=0;u<s.length;u+=1)s[u].c();r=ne(),c&&c.c(),w(e,"class","jse-validation-errors-overview-expanded svelte-1uindol")},m(u,d){K(u,e,d),O(e,t);for(var f=0;f<s.length;f+=1)s[f]&&s[f].m(t,null);O(t,r),c&&c.m(t,null),i=!0},p(u,d){if(19&d){var f;for(o=ut(Ff(u[0],Xa)),f=0;f<o.length;f+=1){var h=X2(u,o,f);s[f]?(s[f].p(h,d),$(s[f],1)):(s[f]=tw(h),s[f].c(),$(s[f],1),s[f].m(t,r))}for(be(),f=o.length;f<s.length;f+=1)l(f);xe()}u[3]>Xa?c?c.p(u,d):((c=nw(u)).c(),c.m(t,null)):c&&(c.d(1),c=null)},i(u){if(!i){for(var d=0;d<o.length;d+=1)$(s[d]);i=!0}},o(u){s=s.filter(Boolean);for(var d=0;d<s.length;d+=1)C(s[d]);i=!1},d(u){u&&W(e),Ln(s,u),c&&c.d()}}}function ew(n){var e,t,r,i,o;return t=new Mt({props:{data:lA}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class","jse-validation-errors-collapse svelte-1uindol"),w(e,"title","Collapse validation errors")},m(s,a){K(s,e,a),le(t,e,null),r=!0,i||(o=ve(e,"click",Hi(n[4])),i=!0)},p:ke,i(s){r||($(t.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),r=!1},d(s){s&&W(e),ce(t),i=!1,o()}}}function tw(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v=oi(n[8].path)+"",m=n[8].message+"";r=new Mt({props:{data:ka}});var y=n[10]===0&&n[0].length>1&&ew(n);function b(){return n[7](n[8])}return{c(){e=I("tr"),t=I("td"),ue(r.$$.fragment),i=ne(),o=I("td"),s=Se(v),a=ne(),l=I("td"),c=Se(m),u=ne(),d=I("td"),y&&y.c(),w(t,"class","jse-validation-error-icon svelte-1uindol"),w(o,"class","jse-validation-error-path svelte-1uindol"),w(l,"class","jse-validation-error-message svelte-1uindol"),w(d,"class","jse-validation-error-action svelte-1uindol"),w(e,"class",f="jse-validation-"+n[8].severity+" svelte-1uindol"),w(e,"tabindex","0")},m(j,x){K(j,e,x),O(e,t),le(r,t,null),O(e,i),O(e,o),O(o,s),O(e,a),O(e,l),O(l,c),O(e,u),O(e,d),y&&y.m(d,null),h=!0,p||(g=ve(e,"click",b),p=!0)},p(j,x){n=j,(!h||1&x)&&v!==(v=oi(n[8].path)+"")&&Xe(s,v),(!h||1&x)&&m!==(m=n[8].message+"")&&Xe(c,m),n[10]===0&&n[0].length>1?y?(y.p(n,x),1&x&&$(y,1)):((y=ew(n)).c(),$(y,1),y.m(d,null)):y&&(be(),C(y,1,1,()=>{y=null}),xe()),(!h||1&x&&f!==(f="jse-validation-"+n[8].severity+" svelte-1uindol"))&&w(e,"class",f)},i(j){h||($(r.$$.fragment,j),$(y),h=!0)},o(j){C(r.$$.fragment,j),C(y),h=!1},d(j){j&&W(e),ce(r),y&&y.d(),p=!1,g()}}}function nw(n){var e,t,r,i,o,s,a,l,c,u,d,f=n[3]-Xa+"";return{c(){e=I("tr"),t=I("td"),r=ne(),i=I("td"),o=ne(),s=I("td"),a=Se("(and "),l=Se(f),c=Se(" more errors)"),u=ne(),d=I("td"),w(t,"class","svelte-1uindol"),w(i,"class","svelte-1uindol"),w(s,"class","svelte-1uindol"),w(d,"class","svelte-1uindol"),w(e,"class","jse-validation-error svelte-1uindol")},m(h,p){K(h,e,p),O(e,t),O(e,r),O(e,i),O(e,o),O(e,s),O(s,a),O(s,l),O(s,c),O(e,u),O(e,d)},p(h,p){8&p&&f!==(f=h[3]-Xa+"")&&Xe(l,f)},d(h){h&&W(e)}}}function VF(n){var e,t,r=!Lt(n[0]),i=r&&Z2(n);return{c(){i&&i.c(),e=Bt()},m(o,s){i&&i.m(o,s),K(o,e,s),t=!0},p(o,s){var[a]=s;1&a&&(r=!Lt(o[0])),r?i?(i.p(o,a),1&a&&$(i,1)):((i=Z2(o)).c(),$(i,1),i.m(e.parentNode,e)):i&&(be(),C(i,1,1,()=>{i=null}),xe())},i(o){t||($(i),t=!0)},o(o){C(i),t=!1},d(o){o&&W(e),i&&i.d(o)}}}function UF(n,e,t){var r,{validationErrors:i}=e,{selectError:o}=e,s=!0;return n.$$set=a=>{"validationErrors"in a&&t(0,i=a.validationErrors),"selectError"in a&&t(1,o=a.selectError)},n.$$.update=()=>{1&n.$$.dirty&&t(3,r=i.length)},[i,o,s,r,function(){t(2,s=!1)},function(){t(2,s=!0)},function(a){return[zi.error,zi.warning,zi.info].find(l=>a.some(c=>c.severity===l))},a=>{setTimeout(()=>o(a))}]}class u1 extends et{constructor(e){super(),Ze(this,e,UF,VF,yt,{validationErrors:0,selectError:1},BF)}}function A6(n,e){if(n)return n.addEventListener("keydown",t),{destroy(){n.removeEventListener("keydown",t)}};function t(r){r.key==="Escape"&&(r.preventDefault(),r.stopPropagation(),e())}}function HF(n){ct(n,"svelte-1s9c2ql",'dialog.jse-modal.svelte-1s9c2ql.svelte-1s9c2ql{border-radius:3px;font-size:var(--jse-padding, 10px);border:none;padding:0;display:flex;min-width:0;margin:auto;overflow:visible;transition:width 0.1s ease-in-out, height 0.1s ease-in-out}dialog.jse-modal.jse-sort-modal.svelte-1s9c2ql.svelte-1s9c2ql{width:400px}dialog.jse-modal.jse-repair-modal.svelte-1s9c2ql.svelte-1s9c2ql{width:600px;height:500px}dialog.jse-modal.jse-jsoneditor-modal.svelte-1s9c2ql.svelte-1s9c2ql{width:800px;height:600px}dialog.jse-modal.jse-transform-modal.svelte-1s9c2ql.svelte-1s9c2ql{width:1200px;height:800px}dialog.jse-modal.jse-fullscreen.svelte-1s9c2ql.svelte-1s9c2ql{width:100%;height:100%}dialog.jse-modal.svelte-1s9c2ql.svelte-1s9c2ql::backdrop{background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}dialog.jse-modal[open].svelte-1s9c2ql.svelte-1s9c2ql{animation:svelte-1s9c2ql-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)}dialog.jse-modal[open].svelte-1s9c2ql.svelte-1s9c2ql::backdrop{animation:svelte-1s9c2ql-fade 0.2s ease-out}dialog.jse-modal.svelte-1s9c2ql .jse-modal-inner.svelte-1s9c2ql{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;padding:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}@keyframes svelte-1s9c2ql-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}@keyframes svelte-1s9c2ql-fade{from{opacity:0}to{opacity:1}}dialog.jse-modal.svelte-1s9c2ql .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}')}function WF(n){var e,t,r,i,o,s,a=n[6].default,l=yn(a,n,n[5],null);return{c(){e=I("dialog"),t=I("div"),l&&l.c(),w(t,"class","jse-modal-inner svelte-1s9c2ql"),w(e,"class",r=Fr(Wi("jse-modal",n[0]))+" svelte-1s9c2ql"),he(e,"jse-fullscreen",n[1])},m(c,u){var d;K(c,e,u),O(e,t),l&&l.m(t,null),n[8](e),i=!0,o||(s=[ve(e,"close",n[3]),ve(e,"click",(d=n[3],function(f){f.target===this&&d.call(this,f)})),ve(e,"cancel",Ls(n[7])),$r(A6.call(null,e,n[3]))],o=!0)},p(c,u){var[d]=u;l&&l.p&&(!i||32&d)&&xn(l,a,c,c[5],i?bn(a,c[5],d,null):wn(c[5]),null),(!i||1&d&&r!==(r=Fr(Wi("jse-modal",c[0]))+" svelte-1s9c2ql"))&&w(e,"class",r),(!i||3&d)&&he(e,"jse-fullscreen",c[1])},i(c){i||($(l,c),i=!0)},o(c){C(l,c),i=!1},d(c){c&&W(e),l&&l.d(c),n[8](null),o=!1,tn(s)}}}function KF(n,e,t){var r,{$$slots:i={},$$scope:o}=e,{className:s}=e,{fullscreen:a=!1}=e,{onClose:l}=e;return Vr(()=>r.showModal()),ri(()=>r.close()),n.$$set=c=>{"className"in c&&t(0,s=c.className),"fullscreen"in c&&t(1,a=c.fullscreen),"onClose"in c&&t(4,l=c.onClose),"$$scope"in c&&t(5,o=c.$$scope)},[s,a,r,function(){l()},l,o,i,function(c){gc.call(this,n,c)},function(c){xt[c?"unshift":"push"](()=>{t(2,r=c)})}]}class Au extends et{constructor(e){super(),Ze(this,e,KF,WF,Hn,{className:0,fullscreen:1,onClose:4},HF)}}function GF(n){ct(n,"svelte-189qksl",'.jse-modal-contents.svelte-189qksl.svelte-189qksl{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-contents.svelte-189qksl .jse-actions.svelte-189qksl{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-contents.svelte-189qksl .jse-actions button.jse-primary.svelte-189qksl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-contents.svelte-189qksl .jse-actions button.jse-primary.svelte-189qksl:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-contents.svelte-189qksl .jse-actions button.jse-primary.svelte-189qksl:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-shortcuts.svelte-189qksl.svelte-189qksl{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding, 10px)) 0}.jse-shortcuts.svelte-189qksl .jse-shortcut .jse-key.svelte-189qksl{font-size:200%;color:var(--jse-theme-color, #3883fa)}')}function JF(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x,S,_;return e=new Fh({props:{title:"Copying and pasting",onClose:n[0]}}),{c(){ue(e.$$.fragment),t=ne(),r=I("div"),(i=I("div")).textContent="These actions are unavailable via the menu. Please use:",o=ne(),s=I("div"),a=I("div"),(l=I("div")).textContent="".concat(n[1],"+C"),c=Se(`
        for copy`),u=ne(),d=I("div"),(f=I("div")).textContent="".concat(n[1],"+X"),h=Se(`
        for cut`),p=ne(),g=I("div"),(v=I("div")).textContent="".concat(n[1],"+V"),m=Se(`
        for paste`),y=ne(),b=I("div"),(j=I("button")).textContent="Close",w(l,"class","jse-key svelte-189qksl"),w(a,"class","jse-shortcut"),w(f,"class","jse-key svelte-189qksl"),w(d,"class","jse-shortcut"),w(v,"class","jse-key svelte-189qksl"),w(g,"class","jse-shortcut"),w(s,"class","jse-shortcuts svelte-189qksl"),w(j,"type","button"),w(j,"class","jse-primary svelte-189qksl"),w(b,"class","jse-actions svelte-189qksl"),w(r,"class","jse-modal-contents svelte-189qksl")},m(B,R){le(e,B,R),K(B,t,R),K(B,r,R),O(r,i),O(r,o),O(r,s),O(s,a),O(a,l),O(a,c),O(s,u),O(s,d),O(d,f),O(d,h),O(s,p),O(s,g),O(g,v),O(g,m),O(r,y),O(r,b),O(b,j),x=!0,S||(_=ve(j,"click",function(){ii(n[0])&&n[0].apply(this,arguments)}),S=!0)},p(B,R){n=B;var F={};1&R&&(F.onClose=n[0]),e.$set(F)},i(B){x||($(e.$$.fragment,B),x=!0)},o(B){C(e.$$.fragment,B),x=!1},d(B){B&&(W(t),W(r)),ce(e,B),S=!1,_()}}}function QF(n){var e,t;return e=new Au({props:{onClose:n[0],className:"jse-copy-paste",$$slots:{default:[JF]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};1&o&&(s.onClose=r[0]),5&o&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function YF(n,e,t){var{onClose:r}=e,i=Uv()?"⌘":"Ctrl";return n.$$set=o=>{"onClose"in o&&t(0,r=o.onClose)},[r,i]}class M6 extends et{constructor(e){super(),Ze(this,e,YF,QF,yt,{onClose:0},GF)}}function XF(n){ct(n,"svelte-pf7s2l",'.jse-menu.svelte-pf7s2l.svelte-pf7s2l{background:var(--jse-theme-color, #3883fa);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-main-menu, 14px);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));display:flex;flex-wrap:wrap;align-items:stretch;position:relative}.jse-menu.svelte-pf7s2l .jse-button.svelte-pf7s2l{font-family:inherit;font-size:inherit;line-height:1.5em;border:none;background:transparent;color:inherit;cursor:pointer;width:var(--jse-menu-button-size, 32px);height:var(--jse-menu-button-size, 32px);padding:calc(0.5 * var(--jse-padding, 10px));margin:0;border-radius:0;display:inline-flex;align-items:center;text-align:center;justify-content:center}.jse-menu.svelte-pf7s2l .jse-button.svelte-pf7s2l:hover,.jse-menu.svelte-pf7s2l .jse-button.svelte-pf7s2l:focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-pf7s2l .jse-button.svelte-pf7s2l:disabled{color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:0.5;background:transparent}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.svelte-pf7s2l{width:auto;height:calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));margin:calc(0.5 * var(--jse-padding, 10px)) 0;padding:0 calc(0.5 * var(--jse-padding, 10px)) 1px;border:1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.svelte-pf7s2l:not(.jse-last){border-right:none}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-first.svelte-pf7s2l{margin-left:calc(0.5 * var(--jse-padding, 10px))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-last.svelte-pf7s2l{margin-right:calc(0.5 * var(--jse-padding, 10px))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.svelte-pf7s2l:hover,.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.svelte-pf7s2l:focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-selected.svelte-pf7s2l{background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-pf7s2l .jse-space.svelte-pf7s2l{flex:1}.jse-menu.svelte-pf7s2l .jse-separator.svelte-pf7s2l{background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:0.3;width:1px;margin:3px}')}var ZF=n=>({}),rw=n=>({});function iw(n,e,t){var r=n.slice();return r[3]=e[t],r}var eV=n=>({}),ow=n=>({});function tV(n){var e,t=cw(n[3])+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=cw(r[3])+"")&&Xe(e,t)},i:ke,o:ke,d(r){r&&W(e)}}}function nV(n){var e,t,r,i,o,s,a,l,c=n[3].icon&&sw(n),u=n[3].text&&aw(n);return{c(){e=I("button"),c&&c.c(),t=ne(),u&&u.c(),w(e,"type","button"),w(e,"class",r="jse-button "+n[3].className+" svelte-pf7s2l"),w(e,"title",i=n[3].title),e.disabled=o=n[3].disabled||!1},m(d,f){K(d,e,f),c&&c.m(e,null),O(e,t),u&&u.m(e,null),s=!0,a||(l=ve(e,"click",function(){ii(n[3].onClick)&&n[3].onClick.apply(this,arguments)}),a=!0)},p(d,f){(n=d)[3].icon?c?(c.p(n,f),1&f&&$(c,1)):((c=sw(n)).c(),$(c,1),c.m(e,t)):c&&(be(),C(c,1,1,()=>{c=null}),xe()),n[3].text?u?u.p(n,f):((u=aw(n)).c(),u.m(e,null)):u&&(u.d(1),u=null),(!s||1&f&&r!==(r="jse-button "+n[3].className+" svelte-pf7s2l"))&&w(e,"class",r),(!s||1&f&&i!==(i=n[3].title))&&w(e,"title",i),(!s||1&f&&o!==(o=n[3].disabled||!1))&&(e.disabled=o)},i(d){s||($(c),s=!0)},o(d){C(c),s=!1},d(d){d&&W(e),c&&c.d(),u&&u.d(),a=!1,l()}}}function rV(n){var e;return{c(){w(e=I("div"),"class","jse-space svelte-pf7s2l")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function iV(n){var e;return{c(){w(e=I("div"),"class","jse-separator svelte-pf7s2l")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function sw(n){var e,t;return e=new Mt({props:{data:n[3].icon}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.data=r[3].icon),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function aw(n){var e,t=n[3].text+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=r[3].text+"")&&Xe(e,t)},d(r){r&&W(e)}}}function lw(n){var e,t,r,i,o,s,a,l=[iV,rV,nV,tV],c=[];function u(d,f){return 1&f&&(e=null),1&f&&(t=null),1&f&&(r=null),e==null&&(e=!!Ih(d[3])),e?0:(t==null&&(t=!!Z3(d[3])),t?1:(r==null&&(r=!!Su(d[3])),r?2:3))}return i=u(n,-1),o=c[i]=l[i](n),{c(){o.c(),s=Bt()},m(d,f){c[i].m(d,f),K(d,s,f),a=!0},p(d,f){var h=i;(i=u(d,f))===h?c[i].p(d,f):(be(),C(c[h],1,1,()=>{c[h]=null}),xe(),(o=c[i])?o.p(d,f):(o=c[i]=l[i](d)).c(),$(o,1),o.m(s.parentNode,s))},i(d){a||($(o),a=!0)},o(d){C(o),a=!1},d(d){d&&W(s),c[i].d(d)}}}function oV(n){for(var e,t,r,i,o=n[2].left,s=yn(o,n,n[1],ow),a=ut(n[0]),l=[],c=0;c<a.length;c+=1)l[c]=lw(iw(n,a,c));var u=h=>C(l[h],1,1,()=>{l[h]=null}),d=n[2].right,f=yn(d,n,n[1],rw);return{c(){e=I("div"),s&&s.c(),t=ne();for(var h=0;h<l.length;h+=1)l[h].c();r=ne(),f&&f.c(),w(e,"class","jse-menu svelte-pf7s2l")},m(h,p){K(h,e,p),s&&s.m(e,null),O(e,t);for(var g=0;g<l.length;g+=1)l[g]&&l[g].m(e,null);O(e,r),f&&f.m(e,null),i=!0},p(h,p){var[g]=p;if(s&&s.p&&(!i||2&g)&&xn(s,o,h,h[1],i?bn(o,h[1],g,eV):wn(h[1]),ow),1&g){var v;for(a=ut(h[0]),v=0;v<a.length;v+=1){var m=iw(h,a,v);l[v]?(l[v].p(m,g),$(l[v],1)):(l[v]=lw(m),l[v].c(),$(l[v],1),l[v].m(e,r))}for(be(),v=a.length;v<l.length;v+=1)u(v);xe()}f&&f.p&&(!i||2&g)&&xn(f,d,h,h[1],i?bn(d,h[1],g,ZF):wn(h[1]),rw)},i(h){if(!i){$(s,h);for(var p=0;p<a.length;p+=1)$(l[p]);$(f,h),i=!0}},o(h){C(s,h),l=l.filter(Boolean);for(var p=0;p<l.length;p+=1)C(l[p]);C(f,h),i=!1},d(h){h&&W(e),s&&s.d(h),Ln(l,h),f&&f.d(h)}}}function cw(n){return console.error("Unknown type of menu item",n),"???"}function sV(n,e,t){var{$$slots:r={},$$scope:i}=e,{items:o=[]}=e;return n.$$set=s=>{"items"in s&&t(0,o=s.items),"$$scope"in s&&t(1,i=s.$$scope)},[o,i,r]}class Vh extends et{constructor(e){super(),Ze(this,e,sV,oV,yt,{items:0},XF)}}function aV(n){ct(n,"svelte-1sf8pm2",'.jse-json-repair-component.svelte-1sf8pm2.svelte-1sf8pm2{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-json-repair-component.svelte-1sf8pm2 .jse-menu .jse-info.svelte-1sf8pm2{padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);vertical-align:center}.jse-json-repair-component.svelte-1sf8pm2 .jse-json-text.svelte-1sf8pm2{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-input-background, var(--jse-background-color, #fff));color:var(--jse-text-color, #4d4d4d);resize:none;outline:none}')}function lV(n){var e;return{c(){(e=I("div")).textContent="Repair invalid JSON, then click apply",w(e,"slot","left"),w(e,"class","jse-info svelte-1sf8pm2")},m(t,r){K(t,e,r)},p:ke,d(t){t&&W(e)}}}function cV(n){var e,t;return e=new Gi({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:n[5]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};32&i&&(o.actions=r[5]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function uV(n){var e,t;return e=new Gi({props:{type:"error",icon:ka,message:"Cannot parse JSON: ".concat(n[2].message),actions:n[6]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};4&i&&(o.message="Cannot parse JSON: ".concat(r[2].message)),64&i&&(o.actions=r[6]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function dV(n){var e,t,r,i,o,s,a,l,c,u;t=new Vh({props:{items:n[4],$$slots:{left:[lV]},$$scope:{ctx:n}}});var d=[uV,cV],f=[];function h(p,g){return p[2]?0:1}return i=h(n),o=f[i]=d[i](n),{c(){e=I("div"),ue(t.$$.fragment),r=ne(),o.c(),s=ne(),(a=I("textarea")).readOnly=n[1],w(a,"class","jse-json-text svelte-1sf8pm2"),w(a,"autocomplete","off"),w(a,"autocapitalize","off"),w(a,"spellcheck","false"),a.value=n[0],w(e,"class","jse-json-repair-component svelte-1sf8pm2")},m(p,g){K(p,e,g),le(t,e,null),O(e,r),f[i].m(e,null),O(e,s),O(e,a),n[16](a),l=!0,c||(u=ve(a,"input",n[7]),c=!0)},p(p,g){var[v]=g,m={};16&v&&(m.items=p[4]),8388608&v&&(m.$$scope={dirty:v,ctx:p}),t.$set(m);var y=i;(i=h(p))===y?f[i].p(p,v):(be(),C(f[y],1,1,()=>{f[y]=null}),xe(),(o=f[i])?o.p(p,v):(o=f[i]=d[i](p)).c(),$(o,1),o.m(e,s)),(!l||2&v)&&(a.readOnly=p[1]),(!l||1&v)&&(a.value=p[0])},i(p){l||($(t.$$.fragment,p),$(o),l=!0)},o(p){C(t.$$.fragment,p),C(o),l=!1},d(p){p&&W(e),ce(t),f[i].d(),n[16](null),c=!1,u()}}}function fV(n,e,t){var r,i,o,s,a,l,c,u,{text:d=""}=e,{readOnly:f=!1}=e,{onParse:h}=e,{onRepair:p}=e,{onChange:g}=e,{onApply:v}=e,{onCancel:m}=e,y=Zn("jsoneditor:JSONRepair");function b(){v(d)}return n.$$set=j=>{"text"in j&&t(0,d=j.text),"readOnly"in j&&t(1,f=j.readOnly),"onParse"in j&&t(8,h=j.onParse),"onRepair"in j&&t(9,p=j.onRepair),"onChange"in j&&t(10,g=j.onChange),"onApply"in j&&t(11,v=j.onApply),"onCancel"in j&&t(12,m=j.onCancel)},n.$$.update=()=>{1&n.$$.dirty&&t(2,r=function(j){try{return void h(j)}catch(x){return Ol(j,x.message)}}(d)),1&n.$$.dirty&&t(15,i=function(j){try{return p(j),!0}catch{return!1}}(d)),4&n.$$.dirty&&y("error",r),4096&n.$$.dirty&&t(4,u=[{type:"space"},{type:"button",icon:Rc,title:"Cancel repair",className:"jse-cancel",onClick:m}]),57344&n.$$.dirty&&t(6,a=i?[o,s]:[o]),2&n.$$.dirty&&t(5,l=[{icon:Nc,text:"Apply",title:"Apply fixed JSON",disabled:f,onClick:b}])},t(13,o={icon:cA,text:"Show me",title:"Scroll to the error location",onClick:function(){if(c&&r){var j=r.position!==void 0?r.position:0;c.setSelectionRange(j,j),c.focus()}}}),t(14,s={icon:uh,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{t(0,d=p(d)),g&&g(d)}catch{}}}),[d,f,r,c,u,l,a,function(j){y("handleChange");var x=j.target.value;d!==x&&(t(0,d=x),g&&g(d))},h,p,g,v,m,o,s,i,function(j){xt[j?"unshift":"push"](()=>{t(3,c=j)})}]}class hV extends et{constructor(e){super(),Ze(this,e,fV,dV,yt,{text:0,readOnly:1,onParse:8,onRepair:9,onChange:10,onApply:11,onCancel:12},aV)}}function pV(n){var e,t,r;function i(s){n[7](s)}var o={onParse:n[1],onRepair:n[2],onApply:n[4],onCancel:n[5]};return n[0]!==void 0&&(o.text=n[0]),e=new hV({props:o}),xt.push(()=>Lr(e,"text",i)),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),r=!0},p(s,a){var l={};2&a&&(l.onParse=s[1]),4&a&&(l.onRepair=s[2]),!t&&1&a&&(t=!0,l.text=s[0],zr(()=>t=!1)),e.$set(l)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),r=!1},d(s){ce(e,s)}}}function mV(n){var e,t;return e=new Au({props:{onClose:n[3],className:"jse-repair-modal",$$slots:{default:[pV]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};8&o&&(s.onClose=r[3]),263&o&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function gV(n,e,t){var{text:r}=e,{onParse:i}=e,{onRepair:o}=e,{onApply:s}=e,{onClose:a}=e;return n.$$set=l=>{"text"in l&&t(0,r=l.text),"onParse"in l&&t(1,i=l.onParse),"onRepair"in l&&t(2,o=l.onRepair),"onApply"in l&&t(6,s=l.onApply),"onClose"in l&&t(3,a=l.onClose)},[r,i,o,a,function(l){s(l),a()},function(){a()},s,function(l){t(0,r=l)}]}class P6 extends et{constructor(e){super(),Ze(this,e,gV,mV,yt,{text:0,onParse:1,onRepair:2,onApply:6,onClose:3})}}function vV(n){ct(n,"svelte-1h6hzoq",'div.jse-collapsed-items.svelte-1h6hzoq.svelte-1h6hzoq{margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));padding:calc(0.5 * var(--jse-padding, 10px));border:8px solid transparent;border-width:8px 0;background-color:var(--jse-contents-background-color, transparent);background-image:linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5), var(--jse-collapsed-items-background-color, #f5f5f5)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.jse-selected.svelte-1h6hzoq.svelte-1h6hzoq{background-color:var(--jse-selection-background-color, #d3d3d3);--jse-collapsed-items-background-color:var(--jse-collapsed-items-selected-background-color, #c2c2c2)}div.jse-collapsed-items.svelte-1h6hzoq div.jse-text.svelte-1h6hzoq,div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items.svelte-1h6hzoq{margin:0 calc(0.5 * var(--jse-padding, 10px))}div.jse-collapsed-items.svelte-1h6hzoq div.jse-text.svelte-1h6hzoq{display:inline}div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items.svelte-1h6hzoq{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items.svelte-1h6hzoq:hover,div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items.svelte-1h6hzoq:focus{color:var(--jse-collapsed-items-link-color-highlight, #ee5341)}')}function uw(n,e,t){var r=n.slice();return r[13]=e[t],r}function dw(n){var e,t,r,i,o,s,a,l,c=n[13].start+"",u=n[13].end+"";function d(){return n[12](n[13])}return{c(){e=I("button"),t=Se("show "),r=Se(c),i=Se("-"),o=Se(u),s=ne(),w(e,"type","button"),w(e,"class","jse-expand-items svelte-1h6hzoq")},m(f,h){K(f,e,h),O(e,t),O(e,r),O(e,i),O(e,o),O(e,s),a||(l=ve(e,"click",d),a=!0)},p(f,h){n=f,16&h&&c!==(c=n[13].start+"")&&Xe(r,c),16&h&&u!==(u=n[13].end+"")&&Xe(o,u)},d(f){f&&W(e),a=!1,l()}}}function yV(n){for(var e,t,r,i,o,s,a,l,c,u,d=ut(n[4]),f=[],h=0;h<d.length;h+=1)f[h]=dw(uw(n,d,h));return{c(){e=I("div"),t=I("div"),r=I("div"),i=Se("Items "),o=Se(n[3]),s=Se("-"),a=Se(n[2]),l=ne();for(var p=0;p<f.length;p+=1)f[p].c();w(r,"class","jse-text svelte-1h6hzoq"),w(e,"role","none"),w(e,"class","jse-collapsed-items svelte-1h6hzoq"),he(e,"jse-selected",n[5]),xr(e,"--level",n[0].length+2)},m(p,g){K(p,e,g),O(e,t),O(t,r),O(r,i),O(r,o),O(r,s),O(r,a),O(t,l);for(var v=0;v<f.length;v+=1)f[v]&&f[v].m(t,null);c||(u=ve(e,"mousemove",bV),c=!0)},p(p,g){var[v]=g;if(8&v&&Xe(o,p[3]),4&v&&Xe(a,p[2]),19&v){var m;for(d=ut(p[4]),m=0;m<d.length;m+=1){var y=uw(p,d,m);f[m]?f[m].p(y,v):(f[m]=dw(y),f[m].c(),f[m].m(t,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}32&v&&he(e,"jse-selected",p[5]),1&v&&xr(e,"--level",p[0].length+2)},i:ke,o:ke,d(p){p&&W(e),Ln(f,p),c=!1,u()}}}function bV(n){n.stopPropagation()}function xV(n,e,t){var r,i,o,s,a,{visibleSections:l}=e,{sectionIndex:c}=e,{total:u}=e,{path:d}=e,{selection:f}=e,{onExpandSection:h}=e,{context:p}=e;return n.$$set=g=>{"visibleSections"in g&&t(6,l=g.visibleSections),"sectionIndex"in g&&t(7,c=g.sectionIndex),"total"in g&&t(8,u=g.total),"path"in g&&t(0,d=g.path),"selection"in g&&t(9,f=g.selection),"onExpandSection"in g&&t(1,h=g.onExpandSection),"context"in g&&t(10,p=g.context)},n.$$.update=()=>{192&n.$$.dirty&&t(11,r=l[c]),2048&n.$$.dirty&&t(3,i=r.end),448&n.$$.dirty&&t(2,o=l[c+1]?l[c+1].start:u),1545&n.$$.dirty&&t(5,s=iu(p.getJson(),f,d.concat(String(i)))),12&n.$$.dirty&&t(4,a=function(g,v){var m={start:g,end:Math.min(Mg(g),v)},y=Math.max(Uf((g+v)/2),g),b={start:y,end:Math.min(Mg(y),v)},j=Uf(v),x=j===v?j-eu:j,S={start:Math.max(x,g),end:v},_=[m],B=b.start>=m.end&&b.end<=S.start;return B&&_.push(b),S.start>=(B?b.end:m.end)&&_.push(S),_}(i,o))},[d,h,o,i,a,s,l,c,u,f,p,r,g=>h(d,g)]}class wV extends et{constructor(e){super(),Ze(this,e,xV,yV,yt,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1,context:10},vV)}}function jV(n){ct(n,"svelte-137iwnw",".jse-context-menu-pointer.svelte-137iwnw{position:absolute;top:calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));right:calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));width:var(--jse-context-menu-pointer-size, calc(1em + 4px));height:var(--jse-context-menu-pointer-size, calc(1em + 4px));padding:0;margin:0;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-pointer-hover-background, #b2b2b2);color:var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));border:none;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-context-menu-pointer.jse-root.svelte-137iwnw{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px)))}.jse-context-menu-pointer.jse-insert.svelte-137iwnw{right:-1px}.jse-context-menu-pointer.svelte-137iwnw:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-context-menu-pointer.jse-selected.svelte-137iwnw{background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-context-menu-pointer.jse-selected.svelte-137iwnw:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}")}function $V(n){var e,t,r,i,o;return t=new Mt({props:{data:pi}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class","jse-context-menu-pointer svelte-137iwnw"),w(e,"title",Gv),he(e,"jse-root",n[0]),he(e,"jse-insert",n[1]),he(e,"jse-selected",n[2])},m(s,a){K(s,e,a),le(t,e,null),r=!0,i||(o=ve(e,"click",n[3]),i=!0)},p(s,a){var[l]=a;(!r||1&l)&&he(e,"jse-root",s[0]),(!r||2&l)&&he(e,"jse-insert",s[1]),(!r||4&l)&&he(e,"jse-selected",s[2])},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),r=!1},d(s){s&&W(e),ce(t),i=!1,o()}}}function kV(n,e,t){var{root:r=!1}=e,{insert:i=!1}=e,{selected:o}=e,{onContextMenu:s}=e;return n.$$set=a=>{"root"in a&&t(0,r=a.root),"insert"in a&&t(1,i=a.insert),"selected"in a&&t(2,o=a.selected),"onContextMenu"in a&&t(4,s=a.onContextMenu)},[r,i,o,function(a){for(var l=a.target;l&&l.nodeName!=="BUTTON";)l=l.parentNode;l&&s({anchor:l,left:0,top:0,width:Io,height:Do,offsetTop:2,offsetLeft:0,showTip:!0})},s]}class Ws extends et{constructor(e){super(),Ze(this,e,kV,$V,yt,{root:0,insert:1,selected:2,onContextMenu:4},jV)}}function CV(n){ct(n,"svelte-2iqnqn",'.jse-key.svelte-2iqnqn{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color, #1a1a1a);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.jse-empty.svelte-2iqnqn{min-width:3em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}.jse-key.jse-empty.svelte-2iqnqn::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2));content:"key"}')}function SV(n){var e,t,r,i,o,s,a=[AV,EV],l=[];function c(u,d){return u[2]?0:1}return t=c(n),r=l[t]=a[t](n),{c(){e=I("div"),r.c(),w(e,"role","none"),w(e,"data-type","selectable-key"),w(e,"class","jse-key svelte-2iqnqn"),he(e,"jse-empty",n[0]==="")},m(u,d){K(u,e,d),l[t].m(e,null),i=!0,o||(s=ve(e,"dblclick",n[6]),o=!0)},p(u,d){var f=t;(t=c(u))===f?l[t].p(u,d):(be(),C(l[f],1,1,()=>{l[f]=null}),xe(),(r=l[t])?r.p(u,d):(r=l[t]=a[t](u)).c(),$(r,1),r.m(e,null)),(!i||1&d)&&he(e,"jse-empty",u[0]==="")},i(u){i||($(r),i=!0)},o(u){C(r),i=!1},d(u){u&&W(e),l[t].d(),o=!1,s()}}}function OV(n){var e,t;return e=new c6({props:{value:n[3].normalization.escapeValue(n[0]),initialValue:Un(n[1])?n[1].initialValue:void 0,label:"Edit key",shortText:!0,onChange:n[7],onCancel:n[8],onFind:n[3].onFind}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};9&i&&(o.value=r[3].normalization.escapeValue(r[0])),2&i&&(o.initialValue=Un(r[1])?r[1].initialValue:void 0),8&i&&(o.onFind=r[3].onFind),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function EV(n){var e,t=xa(n[3].normalization.escapeValue(n[0]))+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){9&i&&t!==(t=xa(r[3].normalization.escapeValue(r[0]))+"")&&Xe(e,t)},i:ke,o:ke,d(r){r&&W(e)}}}function AV(n){var e,t;return e=new m6({props:{text:n[3].normalization.escapeValue(n[0]),searchResultItems:n[2]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};9&i&&(o.text=r[3].normalization.escapeValue(r[0])),4&i&&(o.searchResultItems=r[2]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function fw(n){var e,t;return e=new Ws({props:{selected:!0,onContextMenu:n[3].onContextMenu}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8&i&&(o.onContextMenu=r[3].onContextMenu),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function MV(n){var e,t,r,i,o,s=[OV,SV],a=[];function l(u,d){return!u[3].readOnly&&u[5]?0:1}e=l(n),t=a[e]=s[e](n);var c=!n[3].readOnly&&n[4]&&!n[5]&&fw(n);return{c(){t.c(),r=ne(),c&&c.c(),i=Bt()},m(u,d){a[e].m(u,d),K(u,r,d),c&&c.m(u,d),K(u,i,d),o=!0},p(u,d){var[f]=d,h=e;(e=l(u))===h?a[e].p(u,f):(be(),C(a[h],1,1,()=>{a[h]=null}),xe(),(t=a[e])?t.p(u,f):(t=a[e]=s[e](u)).c(),$(t,1),t.m(r.parentNode,r)),u[3].readOnly||!u[4]||u[5]?c&&(be(),C(c,1,1,()=>{c=null}),xe()):c?(c.p(u,f),56&f&&$(c,1)):((c=fw(u)).c(),$(c,1),c.m(i.parentNode,i))},i(u){o||($(t),$(c),o=!0)},o(u){C(t),C(c),o=!1},d(u){u&&(W(r),W(i)),a[e].d(u),c&&c.d(u)}}}function PV(n,e,t){var r,i,o,{pointer:s}=e,{key:a}=e,{selection:l}=e,{searchResultItems:c}=e,{onUpdateKey:u}=e,{context:d}=e;return n.$$set=f=>{"pointer"in f&&t(9,s=f.pointer),"key"in f&&t(0,a=f.key),"selection"in f&&t(1,l=f.selection),"searchResultItems"in f&&t(2,c=f.searchResultItems),"onUpdateKey"in f&&t(10,u=f.onUpdateKey),"context"in f&&t(3,d=f.context)},n.$$.update=()=>{512&n.$$.dirty&&t(11,o=bi(s)),2050&n.$$.dirty&&t(4,r=zn(l)&&Ct(l.path,o)),18&n.$$.dirty&&t(5,i=r&&Un(l))},[a,l,c,d,r,i,function(f){i||d.readOnly||(f.preventDefault(),d.onSelect(o1(o)))},function(f,h){var p=u(a,d.normalization.unescapeValue(f)),g=_t(o).concat(p);d.onSelect(h===Es.nextInside?Et(g):Xo(g)),h!==Es.self&&d.focus()},function(){d.onSelect(Xo(o)),d.focus()},s,u,o]}class _V extends et{constructor(e){super(),Ze(this,e,PV,MV,yt,{pointer:9,key:0,selection:1,searchResultItems:2,onUpdateKey:10,context:3},CV)}}function hw(n,e,t){var r=n.slice();return r[8]=e[t],r}function TV(n){var e,t,r=n[8].component,i=pw(n);return{c(){i.c(),e=Bt()},m(o,s){i.m(o,s),K(o,e,s),t=!0},p(o,s){1&s&&yt(r,r=o[8].component)?(be(),C(i,1,1,ke),xe(),(i=pw(o)).c(),$(i,1),i.m(e.parentNode,e)):i.p(o,s)},i(o){t||($(i),t=!0)},o(o){C(i),t=!1},d(o){o&&W(e),i.d(o)}}}function RV(n){var e,t=n[8].action,r=mw(n);return{c(){r.c(),e=Bt()},m(i,o){r.m(i,o),K(i,e,o)},p(i,o){1&o&&yt(t,t=i[8].action)?(r.d(1),(r=mw(i)).c(),r.m(e.parentNode,e)):r.p(i,o)},i:ke,o:ke,d(i){i&&W(e),r.d(i)}}}function pw(n){var e,t,r,i=[n[8].props],o=n[8].component;function s(a,l){for(var c={},u=0;u<i.length;u+=1)c=Yn(c,i[u]);return l!==void 0&&1&l&&(c=Yn(c,Ur(i,[wo(a[8].props)]))),{props:c}}return o&&(e=qf(o,s(n))),{c(){e&&ue(e.$$.fragment),t=Bt()},m(a,l){e&&le(e,a,l),K(a,t,l),r=!0},p(a,l){if(1&l&&o!==(o=a[8].component)){if(e){be();var c=e;C(c.$$.fragment,1,0,()=>{ce(c,1)}),xe()}o?(ue((e=qf(o,s(a,l))).$$.fragment),$(e.$$.fragment,1),le(e,t.parentNode,t)):e=null}else if(o){var u=1&l?Ur(i,[wo(a[8].props)]):{};e.$set(u)}},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&C(e.$$.fragment,a),r=!1},d(a){a&&W(t),e&&ce(e,a)}}}function mw(n){var e,t,r,i;return{c(){w(e=I("div"),"role","button"),w(e,"tabindex","-1"),w(e,"class","jse-value"),w(e,"data-type","selectable-value")},m(o,s){K(o,e,s),r||(i=$r(t=n[11].call(null,e,n[8].props)),r=!0)},p(o,s){n=o,t&&ii(t.update)&&1&s&&t.update.call(null,n[8].props)},d(o){o&&W(e),r=!1,i()}}}function gw(n){var e,t,r,i,o,s=[RV,TV],a=[];function l(u,d){return 1&d&&(e=null),e==null&&(e=!!HB(u[8])),e?0:1}function c(u,d){return d===0?function(f){var h=f.slice(),p=h[8].action;return h[11]=p,h}(u):u}return t=l(n,-1),r=a[t]=s[t](c(n,t)),{c(){r.c(),i=Bt()},m(u,d){a[t].m(u,d),K(u,i,d),o=!0},p(u,d){var f=t;(t=l(u,d))===f?a[t].p(c(u,t),d):(be(),C(a[f],1,1,()=>{a[f]=null}),xe(),(r=a[t])?r.p(c(u,t),d):(r=a[t]=s[t](c(u,t))).c(),$(r,1),r.m(i.parentNode,i))},i(u){o||($(r),o=!0)},o(u){C(r),o=!1},d(u){u&&W(i),a[t].d(u)}}}function NV(n){for(var e,t,r=ut(n[0]),i=[],o=0;o<r.length;o+=1)i[o]=gw(hw(n,r,o));var s=a=>C(i[a],1,1,()=>{i[a]=null});return{c(){for(var a=0;a<i.length;a+=1)i[a].c();e=Bt()},m(a,l){for(var c=0;c<i.length;c+=1)i[c]&&i[c].m(a,l);K(a,e,l),t=!0},p(a,l){var[c]=l;if(1&c){var u;for(r=ut(a[0]),u=0;u<r.length;u+=1){var d=hw(a,r,u);i[u]?(i[u].p(d,c),$(i[u],1)):(i[u]=gw(d),i[u].c(),$(i[u],1),i[u].m(e.parentNode,e))}for(be(),u=r.length;u<i.length;u+=1)s(u);xe()}},i(a){if(!t){for(var l=0;l<r.length;l+=1)$(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)C(i[l]);t=!1},d(a){a&&W(e),Ln(i,a)}}}function DV(n,e,t){var r,i,{path:o}=e,{value:s}=e,{context:a}=e,{enforceString:l}=e,{selection:c}=e,{searchResultItems:u}=e;return n.$$set=d=>{"path"in d&&t(1,o=d.path),"value"in d&&t(2,s=d.value),"context"in d&&t(3,a=d.context),"enforceString"in d&&t(4,l=d.enforceString),"selection"in d&&t(5,c=d.selection),"searchResultItems"in d&&t(6,u=d.searchResultItems)},n.$$.update=()=>{32&n.$$.dirty&&t(7,r=Ft(c)&&Un(c)),254&n.$$.dirty&&t(0,i=a.onRenderValue({path:o,value:s,mode:a.mode,readOnly:a.readOnly,enforceString:l,isEditing:r,parser:a.parser,normalization:a.normalization,selection:c,searchResultItems:u,onPatch:a.onPatch,onPasteJson:a.onPasteJson,onSelect:a.onSelect,onFind:a.onFind,findNextInside:a.findNextInside,focus:a.focus}))},[i,o,s,a,l,c,u,r]}class _6 extends et{constructor(e){super(),Ze(this,e,DV,NV,yt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6})}}var Wn={selecting:!1,selectionAnchor:void 0,selectionAnchorType:void 0,selectionFocus:void 0,dragging:!1};function Jp(n){var{json:e,selection:t,deltaY:r,items:i}=n;if(!t)return{operations:void 0,updatedSelection:void 0,offset:0};var o=r<0?function(u){for(var{json:d,items:f,selection:h,deltaY:p}=u,g=zo(d,h),v=f.findIndex(S=>Ct(S.path,g)),m=()=>{var S;return(S=f[y-1])===null||S===void 0?void 0:S.height},y=v,b=0;m()!==void 0&&Math.abs(p)>b+m()/2;)b+=m(),y-=1;var j=f[y].path,x=y-v;return y!==v&&f[y]!==void 0?{beforePath:j,offset:x}:void 0}({json:e,selection:t,deltaY:r,items:i}):function(u){for(var d,{json:f,items:h,selection:p,deltaY:g}=u,v=Ms(f,p),m=h.findIndex(F=>Ct(F.path,v)),y=0,b=m,j=()=>{var F;return(F=h[b+1])===null||F===void 0?void 0:F.height};j()!==void 0&&Math.abs(g)>y+j()/2;)y+=j(),b+=1;var x=_t(v),S=De(f,x),_=Array.isArray(S),B=(d=h[_?b:b+1])===null||d===void 0?void 0:d.path,R=b-m;return B?{beforePath:B,offset:R}:{append:!0,offset:R}}({json:e,selection:t,deltaY:r,items:i});if(!o||o.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};var s=function(u,d,f){if(!d)return[];var h="beforePath"in f?f.beforePath:void 0,p="append"in f?f.append:void 0,g=_t(Ke(d)),v=De(u,g);if(!(p||h&&Yo(h,g)&&h.length>g.length))return[];var m=zo(u,d),y=Ms(u,d),b=kt(m),j=kt(y),x=h?h[g.length]:void 0;if(!An(v)){if(vn(v)){var S=rr(b),_=rr(j),B=x!==void 0?rr(x):v.length;return hO(_-S+1,B<S?J=>({op:"move",from:it(g.concat(String(S+J))),path:it(g.concat(String(B+J)))}):()=>({op:"move",from:it(g.concat(String(S))),path:it(g.concat(String(B)))}))}throw new Error("Cannot create move operations: parent must be an Object or Array")}var R=Object.keys(v),F=R.indexOf(b),Q=R.indexOf(j),Z=p?R.length:x!==void 0?R.indexOf(x):-1;return F!==-1&&Q!==-1&&Z!==-1?Z>F?[...R.slice(F,Q+1),...R.slice(Z,R.length)].map(J=>wa(g,J)):[...R.slice(Z,F),...R.slice(Q+1,R.length)].map(J=>wa(g,J)):[]}(e,t,o),a=_t(zo(e,t)),l=De(e,a);if(Array.isArray(l)){var c=function(u){var d,f,{items:h,json:p,selection:g,offset:v}=u,m=zo(p,g),y=Ms(p,g),b=h.findIndex(_=>Ct(_.path,m)),j=h.findIndex(_=>Ct(_.path,y)),x=(d=h[b+v])===null||d===void 0?void 0:d.path,S=(f=h[j+v])===null||f===void 0?void 0:f.path;return yr(x,S)}({items:i,json:e,selection:t,offset:o.offset});return{operations:s,updatedSelection:c,offset:o.offset}}return{operations:s,updatedSelection:void 0,offset:o.offset}}function IV(n){ct(n,"svelte-1a8aobl",'button.jse-validation-error.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-error-color, #ee5341)}button.jse-validation-info.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-info-color, #4f91ff)}button.jse-validation-warning.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-warning-color, #fdc539)}')}function zV(n){var e,t,r,i,o,s,a;return t=new Mt({props:{data:ka}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class",r="jse-validation-"+n[0].severity+" svelte-1a8aobl")},m(l,c){K(l,e,c),le(t,e,null),o=!0,s||(a=[ve(e,"click",function(){ii(n[1])&&n[1].apply(this,arguments)}),$r(i=s1.call(null,e,Ee({text:n[2]},n[3])))],s=!0)},p(l,c){var[u]=c;n=l,(!o||1&u&&r!==(r="jse-validation-"+n[0].severity+" svelte-1a8aobl"))&&w(e,"class",r),i&&ii(i.update)&&4&u&&i.update.call(null,Ee({text:n[2]},n[3]))},i(l){o||($(t.$$.fragment,l),o=!0)},o(l){C(t.$$.fragment,l),o=!1},d(l){l&&W(e),ce(t),s=!1,tn(a)}}}function LV(n,e,t){var r,i=Hs("absolute-popup"),{validationError:o}=e,{onExpand:s}=e;return n.$$set=a=>{"validationError"in a&&t(0,o=a.validationError),"onExpand"in a&&t(1,s=a.onExpand)},n.$$.update=()=>{1&n.$$.dirty&&t(2,r=UB(o)&&o.isChildError?"Contains invalid data":o.message)},[o,s,r,i]}class Wl extends et{constructor(e){super(),Ze(this,e,LV,zV,Hn,{validationError:0,onExpand:1},IV)}}function BV(n){ct(n,"svelte-1n9xu6u",'.jse-expand.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{width:var(--jse-indent-size, calc(1em + 4px));padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));font-size:var(--jse-font-size-mono, 14px);height:var(--jse-line-height, calc(1em + 4px))}.jse-expand.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u:hover{opacity:0.8}.jse-meta.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u,.jse-separator.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u,.jse-index.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u,.jse-bracket.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{vertical-align:top;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-index.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{padding:0 calc(0.5 * var(--jse-padding, 10px))}.jse-bracket.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{padding:0 2px}.jse-bracket.jse-expanded.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{padding-right:var(--jse-padding, 10px)}.jse-tag.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{border:none;font-size:80%;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tag-background, rgba(0, 0, 0, 0.2));border-radius:2px;cursor:pointer;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{opacity:0.7;cursor:inherit}.jse-identifier.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{vertical-align:top;position:relative}.jse-json-node.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{position:relative;color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-root.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-1n9xu6u>.jse-contents-outer.svelte-1n9xu6u>.jse-contents.svelte-1n9xu6u{padding-left:0}.jse-json-node.svelte-1n9xu6u .jse-props.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.svelte-1n9xu6u .jse-items.svelte-1n9xu6u.svelte-1n9xu6u{position:relative}.jse-json-node.svelte-1n9xu6u .jse-header-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.svelte-1n9xu6u .jse-footer-outer.svelte-1n9xu6u.svelte-1n9xu6u{display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)))}.jse-json-node.svelte-1n9xu6u .jse-header.svelte-1n9xu6u.svelte-1n9xu6u{position:relative}.jse-json-node.svelte-1n9xu6u .jse-header .jse-meta.svelte-1n9xu6u>.jse-meta-inner.svelte-1n9xu6u{display:flex;justify-content:center}.jse-json-node.svelte-1n9xu6u .jse-contents-outer.svelte-1n9xu6u.svelte-1n9xu6u{display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)))}.jse-json-node.svelte-1n9xu6u .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.svelte-1n9xu6u .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u{display:flex;flex-direction:row;align-items:flex-start}.jse-json-node.svelte-1n9xu6u .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u{padding-left:var(--jse-indent-size, calc(1em + 4px));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.svelte-1n9xu6u .jse-contents .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u{display:inline-flex}.jse-json-node.svelte-1n9xu6u .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u{display:inline-flex;padding-left:calc(var(--jse-indent-size, calc(1em + 4px)) + 5px)}.jse-json-node.svelte-1n9xu6u .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.svelte-1n9xu6u .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.svelte-1n9xu6u .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u{background:var(--jse-contents-background-color, transparent)}.jse-json-node.svelte-1n9xu6u .jse-insert-selection-area.svelte-1n9xu6u.svelte-1n9xu6u{padding:0 calc(0.5 * var(--jse-padding, 10px));flex:1}.jse-json-node.svelte-1n9xu6u .jse-insert-selection-area.jse-inside.svelte-1n9xu6u.svelte-1n9xu6u{display:inline-flex;align-items:center}.jse-json-node.svelte-1n9xu6u .jse-insert-selection-area.jse-after.svelte-1n9xu6u.svelte-1n9xu6u{display:flex;align-items:flex-end}.jse-json-node.svelte-1n9xu6u .jse-context-menu-pointer-anchor.svelte-1n9xu6u.svelte-1n9xu6u{position:relative}.jse-json-node.svelte-1n9xu6u .jse-insert-area.svelte-1n9xu6u.svelte-1n9xu6u{display:flex;position:relative;z-index:1;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding, 10px));outline:1px solid}.jse-json-node.svelte-1n9xu6u .jse-insert-area.jse-hovered.svelte-1n9xu6u.svelte-1n9xu6u{outline-color:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-1n9xu6u .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u{position:relative}.jse-json-node.svelte-1n9xu6u .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.svelte-1n9xu6u .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.svelte-1n9xu6u .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.svelte-1n9xu6u .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-hovered.svelte-1n9xu6u:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u{background:none}.jse-json-node.jse-selected.svelte-1n9xu6u .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected.svelte-1n9xu6u .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected.svelte-1n9xu6u .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected.svelte-1n9xu6u .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected.svelte-1n9xu6u .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected.svelte-1n9xu6u .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected.svelte-1n9xu6u .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u:hover{background:inherit;cursor:inherit}.jse-json-node.svelte-1n9xu6u .jse-key-outer.jse-selected-key.svelte-1n9xu6u.svelte-1n9xu6u{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-value-outer.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-meta.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-items .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-items .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-props .jse-header.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-props .jse-contents.svelte-1n9xu6u.svelte-1n9xu6u,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-footer.svelte-1n9xu6u.svelte-1n9xu6u{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-value-outer .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-meta .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-items .jse-header .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-items .jse-contents .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-props .jse-header .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-props .jse-contents .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover,.jse-json-node.jse-selected-value.svelte-1n9xu6u .jse-footer .jse-key-outer.svelte-1n9xu6u.svelte-1n9xu6u:hover{background:inherit;cursor:inherit}.jse-json-node.jse-readonly.svelte-1n9xu6u.svelte-1n9xu6u.svelte-1n9xu6u{--jse-contents-selected-cursor:pointer}.jse-json-node.svelte-1n9xu6u .jse-insert-area.jse-selected.svelte-1n9xu6u.svelte-1n9xu6u{outline-color:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}')}var qV=n=>({}),vw=n=>({});function yw(n,e,t){var r=n.slice();r[52]=e[t];var i=lm(r[0],r[52]);r[53]=i;var o=wi(r[4])?r[4].properties[r[52]]:void 0;r[54]=o;var s=wi(r[3])?r[3].properties[r[52]]:void 0;r[48]=s;var a=r[7].concat(r[52]);r[55]=a;var l=l6(r[6].getJson(),r[5],r[55]);return r[49]=l,r}var FV=n=>({}),bw=n=>({});function xw(n,e,t){var r=n.slice();return r[44]=e[t],r[46]=t,r}function ww(n,e,t){var r=n.slice();r[47]=e[t];var i=Qn(r[3])?r[3].items[r[47].index]:void 0;r[48]=i;var o=l6(r[6].getJson(),r[5],r[7].concat(String(r[47].index)));return r[49]=o,r}var VV=n=>({}),jw=n=>({});function UV(n){var e,t,r,i,o,s,a,l,c,u,d=!n[6].readOnly&&n[14]&&n[5]&&(Ft(n[5])||Jt(n[5]))&&!Un(n[5])&&Ct(Ke(n[5]),n[7]),f=n[32].identifier,h=yn(f,n,n[33],vw),p=!n[15]&&$w();s=new _6({props:{path:n[7],value:n[1],enforceString:n[11],selection:n[14]?n[5]:void 0,searchResultItems:o2(n[4]),context:n[6]}});var g=d&&kw(n),v=n[13]&&Cw(n),m=!n[15]&&Sw(n);return{c(){e=I("div"),t=I("div"),h&&h.c(),r=ne(),p&&p.c(),i=ne(),o=I("div"),ue(s.$$.fragment),a=ne(),g&&g.c(),l=ne(),v&&v.c(),c=ne(),m&&m.c(),w(o,"class","jse-value-outer svelte-1n9xu6u"),w(t,"class","jse-contents svelte-1n9xu6u"),w(e,"class","jse-contents-outer svelte-1n9xu6u")},m(y,b){K(y,e,b),O(e,t),h&&h.m(t,null),O(t,r),p&&p.m(t,null),O(t,i),O(t,o),le(s,o,null),O(t,a),g&&g.m(t,null),O(e,l),v&&v.m(e,null),O(e,c),m&&m.m(e,null),u=!0},p(y,b){h&&h.p&&(!u||4&b[1])&&xn(h,f,y,y[33],u?bn(f,y[33],b,qV):wn(y[33]),vw),y[15]?p&&(p.d(1),p=null):p||((p=$w()).c(),p.m(t,i));var j={};128&b[0]&&(j.path=y[7]),2&b[0]&&(j.value=y[1]),2048&b[0]&&(j.enforceString=y[11]),16416&b[0]&&(j.selection=y[14]?y[5]:void 0),16&b[0]&&(j.searchResultItems=o2(y[4])),64&b[0]&&(j.context=y[6]),s.$set(j),16608&b[0]&&(d=!y[6].readOnly&&y[14]&&y[5]&&(Ft(y[5])||Jt(y[5]))&&!Un(y[5])&&Ct(Ke(y[5]),y[7])),d?g?(g.p(y,b),16608&b[0]&&$(g,1)):((g=kw(y)).c(),$(g,1),g.m(t,null)):g&&(be(),C(g,1,1,()=>{g=null}),xe()),y[13]?v?(v.p(y,b),8192&b[0]&&$(v,1)):((v=Cw(y)).c(),$(v,1),v.m(e,c)):v&&(be(),C(v,1,1,()=>{v=null}),xe()),y[15]?m&&(m.d(1),m=null):m?m.p(y,b):((m=Sw(y)).c(),m.m(e,null))},i(y){u||($(h,y),$(s.$$.fragment,y),$(g),$(v),u=!0)},o(y){C(h,y),C(s.$$.fragment,y),C(g),C(v),u=!1},d(y){y&&W(e),h&&h.d(y),p&&p.d(),ce(s),g&&g.d(),v&&v.d(),m&&m.d()}}}function HV(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b=!n[6].readOnly&&n[14]&&n[5]&&(Ft(n[5])||Jt(n[5]))&&!Un(n[5])&&Ct(Ke(n[5]),n[7]),j=[GV,KV],x=[];function S(L,M){return L[10]?0:1}i=S(n),o=x[i]=j[i](n);var _=n[32].identifier,B=yn(_,n,n[33],bw),R=!n[15]&&Ow();function F(L,M){return L[10]?QV:JV}var Q=F(n),Z=Q(n),J=b&&Ew(n),U=n[13]&&(!n[10]||!n[13].isChildError)&&Aw(n);function T(L,M){return L[10]?XV:L[15]?void 0:YV}var re=T(n),ie=re&&re(n),G=n[10]&&Mw(n);return{c(){e=I("div"),t=I("div"),r=I("button"),o.c(),s=ne(),B&&B.c(),a=ne(),R&&R.c(),l=ne(),c=I("div"),u=I("div"),Z.c(),d=ne(),J&&J.c(),f=ne(),U&&U.c(),h=ne(),ie&&ie.c(),p=ne(),G&&G.c(),g=Bt(),w(r,"type","button"),w(r,"class","jse-expand svelte-1n9xu6u"),w(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),w(u,"class","jse-meta-inner svelte-1n9xu6u"),w(c,"class","jse-meta svelte-1n9xu6u"),w(c,"data-type","selectable-value"),w(t,"class","jse-header svelte-1n9xu6u"),w(e,"class","jse-header-outer svelte-1n9xu6u")},m(L,M){K(L,e,M),O(e,t),O(t,r),x[i].m(r,null),O(t,s),B&&B.m(t,null),O(t,a),R&&R.m(t,null),O(t,l),O(t,c),O(c,u),Z.m(u,null),O(t,d),J&&J.m(t,null),O(e,f),U&&U.m(e,null),O(e,h),ie&&ie.m(e,null),K(L,p,M),G&&G.m(L,M),K(L,g,M),v=!0,m||(y=ve(r,"click",n[19]),m=!0)},p(L,M){var E=i;(i=S(L))!==E&&(be(),C(x[E],1,1,()=>{x[E]=null}),xe(),(o=x[i])||(o=x[i]=j[i](L)).c(),$(o,1),o.m(r,null)),B&&B.p&&(!v||4&M[1])&&xn(B,_,L,L[33],v?bn(_,L[33],M,FV):wn(L[33]),bw),L[15]?R&&(R.d(1),R=null):R||((R=Ow()).c(),R.m(t,l)),Q===(Q=F(L))&&Z?Z.p(L,M):(Z.d(1),(Z=Q(L))&&(Z.c(),Z.m(u,null))),16608&M[0]&&(b=!L[6].readOnly&&L[14]&&L[5]&&(Ft(L[5])||Jt(L[5]))&&!Un(L[5])&&Ct(Ke(L[5]),L[7])),b?J?(J.p(L,M),16608&M[0]&&$(J,1)):((J=Ew(L)).c(),$(J,1),J.m(t,null)):J&&(be(),C(J,1,1,()=>{J=null}),xe()),!L[13]||L[10]&&L[13].isChildError?U&&(be(),C(U,1,1,()=>{U=null}),xe()):U?(U.p(L,M),9216&M[0]&&$(U,1)):((U=Aw(L)).c(),$(U,1),U.m(e,h)),re===(re=T(L))&&ie?ie.p(L,M):(ie&&ie.d(1),(ie=re&&re(L))&&(ie.c(),ie.m(e,null))),L[10]?G?(G.p(L,M),1024&M[0]&&$(G,1)):((G=Mw(L)).c(),$(G,1),G.m(g.parentNode,g)):G&&(be(),C(G,1,1,()=>{G=null}),xe())},i(L){v||($(o),$(B,L),$(J),$(U),$(G),v=!0)},o(L){C(o),C(B,L),C(J),C(U),C(G),v=!1},d(L){L&&(W(e),W(p),W(g)),x[i].d(),B&&B.d(L),R&&R.d(),Z.d(),J&&J.d(),U&&U.d(),ie&&ie.d(),G&&G.d(L),m=!1,y()}}}function WV(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b=!n[6].readOnly&&n[14]&&n[5]&&(Ft(n[5])||Jt(n[5]))&&!Un(n[5])&&Ct(Ke(n[5]),n[7]),j=[tU,eU],x=[];function S(L,M){return L[10]?0:1}i=S(n),o=x[i]=j[i](n);var _=n[32].identifier,B=yn(_,n,n[33],jw),R=!n[15]&&Rw();function F(L,M){return L[10]?rU:nU}var Q=F(n),Z=Q(n),J=b&&Nw(n),U=n[13]&&(!n[10]||!n[13].isChildError)&&Dw(n);function T(L,M){return L[10]?oU:iU}var re=T(n),ie=re(n),G=n[10]&&Iw(n);return{c(){e=I("div"),t=I("div"),r=I("button"),o.c(),s=ne(),B&&B.c(),a=ne(),R&&R.c(),l=ne(),c=I("div"),u=I("div"),Z.c(),d=ne(),J&&J.c(),f=ne(),U&&U.c(),h=ne(),ie.c(),p=ne(),G&&G.c(),g=Bt(),w(r,"type","button"),w(r,"class","jse-expand svelte-1n9xu6u"),w(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),w(u,"class","jse-meta-inner svelte-1n9xu6u"),w(u,"data-type","selectable-value"),w(c,"class","jse-meta svelte-1n9xu6u"),w(t,"class","jse-header svelte-1n9xu6u"),w(e,"class","jse-header-outer svelte-1n9xu6u")},m(L,M){K(L,e,M),O(e,t),O(t,r),x[i].m(r,null),O(t,s),B&&B.m(t,null),O(t,a),R&&R.m(t,null),O(t,l),O(t,c),O(c,u),Z.m(u,null),O(t,d),J&&J.m(t,null),O(e,f),U&&U.m(e,null),O(e,h),ie.m(e,null),K(L,p,M),G&&G.m(L,M),K(L,g,M),v=!0,m||(y=ve(r,"click",n[19]),m=!0)},p(L,M){var E=i;(i=S(L))!==E&&(be(),C(x[E],1,1,()=>{x[E]=null}),xe(),(o=x[i])||(o=x[i]=j[i](L)).c(),$(o,1),o.m(r,null)),B&&B.p&&(!v||4&M[1])&&xn(B,_,L,L[33],v?bn(_,L[33],M,VV):wn(L[33]),jw),L[15]?R&&(R.d(1),R=null):R||((R=Rw()).c(),R.m(t,l)),Q===(Q=F(L))&&Z?Z.p(L,M):(Z.d(1),(Z=Q(L))&&(Z.c(),Z.m(u,null))),16608&M[0]&&(b=!L[6].readOnly&&L[14]&&L[5]&&(Ft(L[5])||Jt(L[5]))&&!Un(L[5])&&Ct(Ke(L[5]),L[7])),b?J?(J.p(L,M),16608&M[0]&&$(J,1)):((J=Nw(L)).c(),$(J,1),J.m(t,null)):J&&(be(),C(J,1,1,()=>{J=null}),xe()),!L[13]||L[10]&&L[13].isChildError?U&&(be(),C(U,1,1,()=>{U=null}),xe()):U?(U.p(L,M),9216&M[0]&&$(U,1)):((U=Dw(L)).c(),$(U,1),U.m(e,h)),re===(re=T(L))&&ie?ie.p(L,M):(ie.d(1),(ie=re(L))&&(ie.c(),ie.m(e,null))),L[10]?G?(G.p(L,M),1024&M[0]&&$(G,1)):((G=Iw(L)).c(),$(G,1),G.m(g.parentNode,g)):G&&(be(),C(G,1,1,()=>{G=null}),xe())},i(L){v||($(o),$(B,L),$(J),$(U),$(G),v=!0)},o(L){C(o),C(B,L),C(J),C(U),C(G),v=!1},d(L){L&&(W(e),W(p),W(g)),x[i].d(),B&&B.d(L),R&&R.d(),Z.d(),J&&J.d(),U&&U.d(),ie.d(),G&&G.d(L),m=!1,y()}}}function $w(n){var e;return{c(){(e=I("div")).textContent=":",w(e,"class","jse-separator svelte-1n9xu6u")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function kw(n){var e,t,r;return t=new Ws({props:{root:n[15],selected:!0,onContextMenu:n[6].onContextMenu}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-context-menu-pointer-anchor svelte-1n9xu6u")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};32768&o[0]&&(s.root=i[15]),64&o[0]&&(s.onContextMenu=i[6].onContextMenu),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Cw(n){var e,t;return e=new Wl({props:{validationError:n[13],onExpand:n[20]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8192&i[0]&&(o.validationError=r[13]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Sw(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-after svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-after")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[28]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function KV(n){var e,t;return e=new Mt({props:{data:gs}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function GV(n){var e,t;return e=new Mt({props:{data:pi}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Ow(n){var e;return{c(){(e=I("div")).textContent=":",w(e,"class","jse-separator svelte-1n9xu6u")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function JV(n){var e,t,r,i,o,s,a,l,c,u,d=Object.keys(n[1]).length+"",f=Object.keys(n[1]).length===1?"prop":"props";return{c(){(e=I("div")).textContent="{",t=ne(),r=I("button"),i=Se(d),o=ne(),s=Se(f),a=ne(),(l=I("div")).textContent="}",w(e,"class","jse-bracket svelte-1n9xu6u"),w(r,"type","button"),w(r,"class","jse-tag svelte-1n9xu6u"),w(l,"class","jse-bracket svelte-1n9xu6u")},m(h,p){K(h,e,p),K(h,t,p),K(h,r,p),O(r,i),O(r,o),O(r,s),K(h,a,p),K(h,l,p),c||(u=ve(r,"click",n[20]),c=!0)},p(h,p){2&p[0]&&d!==(d=Object.keys(h[1]).length+"")&&Xe(i,d),2&p[0]&&f!==(f=Object.keys(h[1]).length===1?"prop":"props")&&Xe(s,f)},d(h){h&&(W(e),W(t),W(r),W(a),W(l)),c=!1,u()}}}function QV(n){var e;return{c(){(e=I("div")).textContent="{",w(e,"class","jse-bracket jse-expanded svelte-1n9xu6u")},m(t,r){K(t,e,r)},p:ke,d(t){t&&W(e)}}}function Ew(n){var e,t,r;return t=new Ws({props:{root:n[15],selected:!0,onContextMenu:n[6].onContextMenu}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-context-menu-pointer-anchor svelte-1n9xu6u")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};32768&o[0]&&(s.root=i[15]),64&o[0]&&(s.onContextMenu=i[6].onContextMenu),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Aw(n){var e,t;return e=new Wl({props:{validationError:n[13],onExpand:n[20]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8192&i[0]&&(o.validationError=r[13]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function YV(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-after svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-after")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[28]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function XV(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-inside svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-inside")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[27]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function Mw(n){for(var e,t,r,i,o,s,a,l=!n[6].readOnly&&(n[8]===Qo||n[14]&&En(n[5])),c=l&&Pw(n),u=ut(n[17](n[1],n[9])),d=[],f=0;f<u.length;f+=1)d[f]=_w(yw(n,u,f));var h=g=>C(d[g],1,1,()=>{d[g]=null}),p=!n[15]&&Tw(n);return{c(){e=I("div"),c&&c.c(),t=ne();for(var g=0;g<d.length;g+=1)d[g].c();r=ne(),i=I("div"),(o=I("div")).innerHTML='<div class="jse-bracket svelte-1n9xu6u">}</div>',s=ne(),p&&p.c(),w(e,"class","jse-props svelte-1n9xu6u"),w(o,"data-type","selectable-value"),w(o,"class","jse-footer svelte-1n9xu6u"),w(i,"class","jse-footer-outer svelte-1n9xu6u")},m(g,v){K(g,e,v),c&&c.m(e,null),O(e,t);for(var m=0;m<d.length;m+=1)d[m]&&d[m].m(e,null);K(g,r,v),K(g,i,v),O(i,o),O(i,s),p&&p.m(i,null),a=!0},p(g,v){if(16736&v[0]&&(l=!g[6].readOnly&&(g[8]===Qo||g[14]&&En(g[5]))),l?c?(c.p(g,v),16736&v[0]&&$(c,1)):((c=Pw(g)).c(),$(c,1),c.m(e,t)):c&&(be(),C(c,1,1,()=>{c=null}),xe()),19006207&v[0]){var m;for(u=ut(g[17](g[1],g[9])),m=0;m<u.length;m+=1){var y=yw(g,u,m);d[m]?(d[m].p(y,v),$(d[m],1)):(d[m]=_w(y),d[m].c(),$(d[m],1),d[m].m(e,null))}for(be(),m=u.length;m<d.length;m+=1)h(m);xe()}g[15]?p&&(p.d(1),p=null):p?p.p(g,v):((p=Tw(g)).c(),p.m(i,null))},i(g){if(!a){$(c);for(var v=0;v<u.length;v+=1)$(d[v]);a=!0}},o(g){C(c),d=d.filter(Boolean);for(var v=0;v<d.length;v+=1)C(d[v]);a=!1},d(g){g&&(W(e),W(r),W(i)),c&&c.d(),Ln(d,g),p&&p.d()}}}function Pw(n){var e,t,r;return t=new Ws({props:{insert:!0,selected:n[14]&&En(n[5]),onContextMenu:n[29]}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-insert-area jse-inside svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-inside"),w(e,"title",Kv),he(e,"jse-hovered",n[8]===Qo),he(e,"jse-selected",n[14]&&En(n[5])),xr(e,"--level",n[7].length+1)},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};16416&o[0]&&(s.selected=i[14]&&En(i[5])),t.$set(s),(!r||256&o[0])&&he(e,"jse-hovered",i[8]===Qo),(!r||16416&o[0])&&he(e,"jse-selected",i[14]&&En(i[5])),128&o[0]&&xr(e,"--level",i[7].length+1)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function ZV(n){var e,t,r,i;return t=new _V({props:{pointer:n[53],key:n[52],selection:n[49],searchResultItems:i2(n[54]),context:n[6],onUpdateKey:n[21]}}),{c(){e=I("div"),ue(t.$$.fragment),r=ne(),w(e,"slot","identifier"),w(e,"class","jse-key-outer svelte-1n9xu6u"),he(e,"jse-selected-key",zn(n[49])&&Ct(n[49].path,n[55]))},m(o,s){K(o,e,s),le(t,e,null),O(e,r),i=!0},p(o,s){var a={};515&s[0]&&(a.pointer=o[53]),514&s[0]&&(a.key=o[52]),738&s[0]&&(a.selection=o[49]),530&s[0]&&(a.searchResultItems=i2(o[54])),64&s[0]&&(a.context=o[6]),t.$set(a),(!i||131810&s[0])&&he(e,"jse-selected-key",zn(o[49])&&Ct(o[49].path,o[55]))},i(o){i||($(t.$$.fragment,o),i=!0)},o(o){C(t.$$.fragment,o),i=!1},d(o){o&&W(e),ce(t)}}}function _w(n){var e,t;return e=new d1({props:{value:n[1][n[52]],pointer:n[53],state:wi(n[2])?n[2].properties[n[52]]:void 0,validationErrors:n[48],searchResults:n[54],selection:n[49],context:n[6],onDragSelectionStart:n[24],$$slots:{identifier:[ZV]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};514&i[0]&&(o.value=r[1][r[52]]),515&i[0]&&(o.pointer=r[53]),518&i[0]&&(o.state=wi(r[2])?r[2].properties[r[52]]:void 0),522&i[0]&&(o.validationErrors=r[48]),530&i[0]&&(o.searchResults=r[54]),738&i[0]&&(o.selection=r[49]),64&i[0]&&(o.context=r[6]),755&i[0]|4&i[1]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Tw(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-after svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-after")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[28]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function eU(n){var e,t;return e=new Mt({props:{data:gs}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function tU(n){var e,t;return e=new Mt({props:{data:pi}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Rw(n){var e;return{c(){(e=I("div")).textContent=":",w(e,"class","jse-separator svelte-1n9xu6u")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function nU(n){var e,t,r,i,o,s,a,l,c,u,d=n[1].length+"",f=n[1].length===1?"item":"items";return{c(){(e=I("div")).textContent="[",t=ne(),r=I("button"),i=Se(d),o=ne(),s=Se(f),a=ne(),(l=I("div")).textContent="]",w(e,"class","jse-bracket svelte-1n9xu6u"),w(r,"type","button"),w(r,"class","jse-tag svelte-1n9xu6u"),w(l,"class","jse-bracket svelte-1n9xu6u")},m(h,p){K(h,e,p),K(h,t,p),K(h,r,p),O(r,i),O(r,o),O(r,s),K(h,a,p),K(h,l,p),c||(u=ve(r,"click",n[20]),c=!0)},p(h,p){2&p[0]&&d!==(d=h[1].length+"")&&Xe(i,d),2&p[0]&&f!==(f=h[1].length===1?"item":"items")&&Xe(s,f)},d(h){h&&(W(e),W(t),W(r),W(a),W(l)),c=!1,u()}}}function rU(n){var e,t,r,i,o,s,a,l=n[1].length+"",c=n[1].length===1?"item":"items";return{c(){(e=I("div")).textContent="[",t=ne(),r=I("span"),i=Se(l),o=ne(),s=Se(c),a=Se(`
               `),w(e,"class","jse-bracket svelte-1n9xu6u"),w(r,"class","jse-tag jse-expanded svelte-1n9xu6u")},m(u,d){K(u,e,d),K(u,t,d),K(u,r,d),O(r,i),O(r,o),O(r,s),K(u,a,d)},p(u,d){2&d[0]&&l!==(l=u[1].length+"")&&Xe(i,l),2&d[0]&&c!==(c=u[1].length===1?"item":"items")&&Xe(s,c)},d(u){u&&(W(e),W(t),W(r),W(a))}}}function Nw(n){var e,t,r;return t=new Ws({props:{root:n[15],selected:!0,onContextMenu:n[6].onContextMenu}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-context-menu-pointer-anchor svelte-1n9xu6u")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};32768&o[0]&&(s.root=i[15]),64&o[0]&&(s.onContextMenu=i[6].onContextMenu),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Dw(n){var e,t;return e=new Wl({props:{validationError:n[13],onExpand:n[20]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8192&i[0]&&(o.validationError=r[13]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function iU(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-after svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-after")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[28]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function oU(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-inside svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-inside")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[27]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function Iw(n){for(var e,t,r,i,o,s,a,l=!n[6].readOnly&&(n[8]===Qo||n[14]&&En(n[5])),c=[],u=new Map,d=l&&zw(n),f=ut(n[12]||qs),h=y=>y[46],p=0;p<f.length;p+=1){var g=xw(n,f,p),v=h(g);u.set(v,c[p]=qw(v,g))}var m=!n[15]&&Fw(n);return{c(){e=I("div"),d&&d.c(),t=ne();for(var y=0;y<c.length;y+=1)c[y].c();r=ne(),i=I("div"),(o=I("div")).innerHTML='<span class="jse-bracket svelte-1n9xu6u">]</span>',s=ne(),m&&m.c(),w(e,"class","jse-items svelte-1n9xu6u"),w(o,"data-type","selectable-value"),w(o,"class","jse-footer svelte-1n9xu6u"),w(i,"class","jse-footer-outer svelte-1n9xu6u")},m(y,b){K(y,e,b),d&&d.m(e,null),O(e,t);for(var j=0;j<c.length;j+=1)c[j]&&c[j].m(e,null);K(y,r,b),K(y,i,b),O(i,o),O(i,s),m&&m.m(i,null),a=!0},p(y,b){16736&b[0]&&(l=!y[6].readOnly&&(y[8]===Qo||y[14]&&En(y[5]))),l?d?(d.p(y,b),16736&b[0]&&$(d,1)):((d=zw(y)).c(),$(d,1),d.m(e,t)):d&&(be(),C(d,1,1,()=>{d=null}),xe()),17044223&b[0]&&(f=ut(y[12]||qs),be(),c=Rh(c,b,h,0,y,f,u,e,zv,qw,null,xw),xe()),y[15]?m&&(m.d(1),m=null):m?m.p(y,b):((m=Fw(y)).c(),m.m(i,null))},i(y){if(!a){$(d);for(var b=0;b<f.length;b+=1)$(c[b]);a=!0}},o(y){C(d);for(var b=0;b<c.length;b+=1)C(c[b]);a=!1},d(y){y&&(W(e),W(r),W(i)),d&&d.d();for(var b=0;b<c.length;b+=1)c[b].d();m&&m.d()}}}function zw(n){var e,t,r;return t=new Ws({props:{insert:!0,selected:n[14]&&En(n[5]),onContextMenu:n[29]}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-insert-area jse-inside svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-inside"),w(e,"title",Kv),he(e,"jse-hovered",n[8]===Qo),he(e,"jse-selected",n[14]&&En(n[5])),xr(e,"--level",n[7].length+1)},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};16416&o[0]&&(s.selected=i[14]&&En(i[5])),t.$set(s),(!r||256&o[0])&&he(e,"jse-hovered",i[8]===Qo),(!r||16416&o[0])&&he(e,"jse-selected",i[14]&&En(i[5])),128&o[0]&&xr(e,"--level",i[7].length+1)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function sU(n){var e,t,r,i=n[47].gutterIndex+"";return{c(){e=I("div"),t=I("div"),r=Se(i),w(t,"class","jse-index svelte-1n9xu6u"),w(e,"slot","identifier"),w(e,"class","jse-identifier svelte-1n9xu6u")},m(o,s){K(o,e,s),O(e,t),O(t,r)},p(o,s){4610&s[0]&&i!==(i=o[47].gutterIndex+"")&&Xe(r,i)},d(o){o&&W(e)}}}function Lw(n,e){var t,r,i;return r=new d1({props:{value:e[1][e[47].index],pointer:lm(e[0],e[47].index),state:Qn(e[2])?e[2].items[e[47].index]:void 0,validationErrors:e[48],searchResults:Qn(e[4])?e[4].items[e[47].index]:void 0,selection:e[49],context:e[6],onDragSelectionStart:e[24],$$slots:{identifier:[sU]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Bt(),ue(r.$$.fragment),this.first=t},m(o,s){K(o,t,s),le(r,o,s),i=!0},p(o,s){e=o;var a={};4610&s[0]&&(a.value=e[1][e[47].index]),4611&s[0]&&(a.pointer=lm(e[0],e[47].index)),4614&s[0]&&(a.state=Qn(e[2])?e[2].items[e[47].index]:void 0),4618&s[0]&&(a.validationErrors=e[48]),4626&s[0]&&(a.searchResults=Qn(e[4])?e[4].items[e[47].index]:void 0),4834&s[0]&&(a.selection=e[49]),64&s[0]&&(a.context=e[6]),4610&s[0]|4&s[1]&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i(o){i||($(r.$$.fragment,o),i=!0)},o(o){C(r.$$.fragment,o),i=!1},d(o){o&&W(t),ce(r,o)}}}function Bw(n){var e,t;return e=new wV({props:{visibleSections:n[12]||qs,sectionIndex:n[46],total:n[1].length,path:n[7],onExpandSection:n[6].onExpandSection,selection:n[5],context:n[6]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};4096&i[0]&&(o.visibleSections=r[12]||qs),4096&i[0]&&(o.sectionIndex=r[46]),2&i[0]&&(o.total=r[1].length),128&i[0]&&(o.path=r[7]),64&i[0]&&(o.onExpandSection=r[6].onExpandSection),32&i[0]&&(o.selection=r[5]),64&i[0]&&(o.context=r[6]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function qw(n,e){for(var t,r,i,o,s=[],a=new Map,l=ut(e[18](e[1],e[44],e[9])),c=p=>p[47].index,u=0;u<l.length;u+=1){var d=ww(e,l,u),f=c(d);a.set(f,s[u]=Lw(f,d))}var h=e[44].end<e[1].length&&Bw(e);return{key:n,first:null,c(){t=Bt();for(var p=0;p<s.length;p+=1)s[p].c();r=ne(),h&&h.c(),i=Bt(),this.first=t},m(p,g){K(p,t,g);for(var v=0;v<s.length;v+=1)s[v]&&s[v].m(p,g);K(p,r,g),h&&h.m(p,g),K(p,i,g),o=!0},p(p,g){e=p,17044223&g[0]&&(l=ut(e[18](e[1],e[44],e[9])),be(),s=Rh(s,g,c,0,e,l,a,r.parentNode,zv,Lw,r,ww),xe()),e[44].end<e[1].length?h?(h.p(e,g),4098&g[0]&&$(h,1)):((h=Bw(e)).c(),$(h,1),h.m(i.parentNode,i)):h&&(be(),C(h,1,1,()=>{h=null}),xe())},i(p){if(!o){for(var g=0;g<l.length;g+=1)$(s[g]);$(h),o=!0}},o(p){for(var g=0;g<s.length;g+=1)C(s[g]);C(h),o=!1},d(p){p&&(W(t),W(r),W(i));for(var g=0;g<s.length;g+=1)s[g].d(p);h&&h.d(p)}}}function Fw(n){var e,t,r;return{c(){w(e=I("div"),"role","none"),w(e,"class","jse-insert-selection-area jse-after svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-after")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[28]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function Vw(n){var e,t,r;return t=new Ws({props:{insert:!0,selected:n[14]&&Mr(n[5]),onContextMenu:n[30]}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-insert-area jse-after svelte-1n9xu6u"),w(e,"data-type","insert-selection-area-after"),w(e,"title",Kv),he(e,"jse-hovered",n[8]===tu),he(e,"jse-selected",n[14]&&Mr(n[5]))},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};16416&o[0]&&(s.selected=i[14]&&Mr(i[5])),t.$set(s),(!r||256&o[0])&&he(e,"jse-hovered",i[8]===tu),(!r||16416&o[0])&&he(e,"jse-selected",i[14]&&Mr(i[5]))},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function aU(n){var e,t,r,i,o,s,a,l,c,u,d=!n[6].readOnly&&(n[8]===tu||n[14]&&Mr(n[5])),f=[WV,HV,UV],h=[];function p(v,m){return 2&m[0]&&(t=null),2&m[0]&&(r=null),t==null&&(t=!!Array.isArray(v[1])),t?0:(r==null&&(r=!!Ut(v[1])),r?1:2)}i=p(n,[-1,-1]),o=h[i]=f[i](n);var g=d&&Vw(n);return{c(){e=I("div"),o.c(),s=ne(),g&&g.c(),w(e,"role","treeitem"),w(e,"tabindex","-1"),w(e,"class",a=Fr(Wi("jse-json-node",{"jse-expanded":n[10]},n[6].onClassName(n[7],n[1])))+" svelte-1n9xu6u"),w(e,"data-path",n[16]),w(e,"aria-selected",n[14]),he(e,"jse-root",n[15]),he(e,"jse-selected",n[14]&&Jt(n[5])),he(e,"jse-selected-value",n[14]&&Ft(n[5])),he(e,"jse-readonly",n[6].readOnly),he(e,"jse-hovered",n[8]===Ag),xr(e,"--level",n[7].length)},m(v,m){K(v,e,m),h[i].m(e,null),O(e,s),g&&g.m(e,null),l=!0,c||(u=[ve(e,"mousedown",n[22]),ve(e,"mousemove",n[23]),ve(e,"mouseover",n[25]),ve(e,"mouseout",n[26]),ve(e,"focus",void 0),ve(e,"blur",void 0)],c=!0)},p(v,m){var y=i;(i=p(v,m))===y?h[i].p(v,m):(be(),C(h[y],1,1,()=>{h[y]=null}),xe(),(o=h[i])?o.p(v,m):(o=h[i]=f[i](v)).c(),$(o,1),o.m(e,s)),16736&m[0]&&(d=!v[6].readOnly&&(v[8]===tu||v[14]&&Mr(v[5]))),d?g?(g.p(v,m),16736&m[0]&&$(g,1)):((g=Vw(v)).c(),$(g,1),g.m(e,null)):g&&(be(),C(g,1,1,()=>{g=null}),xe()),(!l||1218&m[0]&&a!==(a=Fr(Wi("jse-json-node",{"jse-expanded":v[10]},v[6].onClassName(v[7],v[1])))+" svelte-1n9xu6u"))&&w(e,"class",a),(!l||65536&m[0])&&w(e,"data-path",v[16]),(!l||16384&m[0])&&w(e,"aria-selected",v[14]),(!l||33986&m[0])&&he(e,"jse-root",v[15]),(!l||17634&m[0])&&he(e,"jse-selected",v[14]&&Jt(v[5])),(!l||17634&m[0])&&he(e,"jse-selected-value",v[14]&&Ft(v[5])),(!l||1218&m[0])&&he(e,"jse-readonly",v[6].readOnly),(!l||1474&m[0])&&he(e,"jse-hovered",v[8]===Ag),128&m[0]&&xr(e,"--level",v[7].length)},i(v){l||($(o),$(g),l=!0)},o(v){C(o),C(g),l=!1},d(v){v&&W(e),h[i].d(),g&&g.d(),c=!1,tn(u)}}}function lU(n,e,t){var r,i,o,s,a,l,c,u,{$$slots:d={},$$scope:f}=e,{pointer:h}=e,{value:p}=e,{state:g}=e,{validationErrors:v}=e,{searchResults:m}=e,{selection:y}=e,{context:b}=e,{onDragSelectionStart:j}=e,x=Zn("jsoneditor:JSONNode"),S=void 0,_=void 0,B=void 0;function R(T){b.onDrag(T)}function F(T){Wn.selecting&&(Wn.selecting=!1,T.stopPropagation()),b.onDragEnd(),document.removeEventListener("mousemove",R,!0),document.removeEventListener("mouseup",F)}function Q(){var T;return((T=b.findElement([]))===null||T===void 0||(T=T.getBoundingClientRect())===null||T===void 0?void 0:T.top)||0}function Z(T,re){var ie=Q()-T.initialContentTop;return re.clientY-T.initialClientY-ie}function J(T){if(B){var re=b.getJson();if(re===void 0)return;var ie=Z(B,T),{offset:G}=Jp({json:re,selection:b.getSelection(),deltaY:ie,items:B.items});G!==B.offset&&(x("drag selection",G,ie),t(9,B=Ee(Ee({},B),{},{offset:G,didMoveItems:!0})))}}function U(T){if(B){var re=b.getJson();if(re===void 0)return;var ie=Z(B,T),{operations:G,updatedSelection:L}=Jp({json:re,selection:b.getSelection(),deltaY:ie,items:B.items});if(G)b.onPatch(G,(ee,H)=>({state:H,selection:L??y}));else if(T.target===B.initialTarget&&!B.didMoveItems){var M=Bp(T.target),E=Y3(T.target);E&&b.onSelect(Yx(M,E))}t(9,B=void 0),Wn.dragging=!1,document.removeEventListener("mousemove",J,!0),document.removeEventListener("mouseup",U)}}return n.$$set=T=>{"pointer"in T&&t(0,h=T.pointer),"value"in T&&t(1,p=T.value),"state"in T&&t(2,g=T.state),"validationErrors"in T&&t(3,v=T.validationErrors),"searchResults"in T&&t(4,m=T.searchResults),"selection"in T&&t(5,y=T.selection),"context"in T&&t(6,b=T.context),"onDragSelectionStart"in T&&t(31,j=T.onDragSelectionStart),"$$scope"in T&&t(33,f=T.$$scope)},n.$$.update=()=>{var T;1&n.$$.dirty[0]&&t(7,o=bi(h)),1&n.$$.dirty[0]&&t(16,r=encodeURIComponent(h)),4&n.$$.dirty[0]&&t(10,s=!!Al(g)&&g.expanded),6&n.$$.dirty[0]&&t(11,a=jo(p,g,[])),4&n.$$.dirty[0]&&t(12,l=Qn(g)?g.visibleSections:void 0),8&n.$$.dirty[0]&&t(13,c=(T=v)===null||T===void 0?void 0:T.validationError),224&n.$$.dirty[0]&&t(14,u=iu(b.getJson(),y,o)),128&n.$$.dirty[0]&&t(15,i=o.length===0)},[h,p,g,v,m,y,b,o,S,B,s,a,l,c,u,i,r,function(T,re){var ie=Object.keys(T);return re&&re.offset!==0?Sx(ie,re.selectionStartIndex,re.selectionItemsCount,re.offset):ie},function(T,re,ie){var G=re.start,L=Math.min(re.end,T.length),M=lk(G,L);return ie&&ie.offset!==0?Sx(M,ie.selectionStartIndex,ie.selectionItemsCount,ie.offset).map((E,ee)=>({index:E,gutterIndex:ee})):M.map(E=>({index:E,gutterIndex:E}))},function(T){T.stopPropagation();var re=Hv(T);b.onExpand(o,!s,re)},function(T){T.stopPropagation(),b.onExpand(o,!0)},function(T,re){var ie=Eu(o,Object.keys(p),T,re);return b.onPatch(ie),kt(bi(ie[0].path))},function(T){if((T.buttons===1||T.buttons===2)&&!(function(E){return E.nodeName==="DIV"&&E.contentEditable==="true"}(T.target)||T.buttons===1&&J3(T.target,"BUTTON"))){T.stopPropagation(),T.preventDefault(),b.focus(),document.addEventListener("mousemove",R,!0),document.addEventListener("mouseup",F);var re=Bp(T.target),ie=b.getJson(),G=b.getDocumentState();if(!y||re===Yt.after||re===Yt.inside||y.type!==re&&y.type!==Yt.multi||!iu(ie,y,o))if(Wn.selecting=!0,Wn.selectionAnchor=o,Wn.selectionAnchorType=re,Wn.selectionFocus=o,T.shiftKey){var L=b.getSelection();L&&b.onSelect(yr(ua(L),o))}else if(re===Yt.multi)if(i&&T.target.hasAttribute("data-path")){var M=kt(i6(p,G));b.onSelect(Tg(M))}else b.onSelect(yr(o,o));else ie!==void 0&&b.onSelect(Yx(re,o));else T.button===0&&j(T)}},function(T){if(Wn.selecting){T.preventDefault(),T.stopPropagation(),Wn.selectionFocus===void 0&&window.getSelection&&window.getSelection().empty();var re=Bp(T.target);Ct(o,Wn.selectionFocus)&&re===Wn.selectionAnchorType||(Wn.selectionFocus=o,Wn.selectionAnchorType=re,b.onSelect(yr(Wn.selectionAnchor||Wn.selectionFocus,Wn.selectionFocus)))}},function(T){if(!b.readOnly&&y){var re=_t(Ke(y));if(Ct(o,re)){var ie=function(ee,H){var k=[];function P(jt){var at=o.concat(jt),Fe=b.findElement(at);Fe!==void 0&&k.push({path:at,height:Fe.clientHeight})}if(Array.isArray(p)){var D=b.getJson();if(D===void 0)return;var N=zo(D,ee),se=Ms(D,ee),$e=parseInt(kt(N),10),Y=parseInt(kt(se),10),Pe=H.find(jt=>$e>=jt.start&&Y<=jt.end);if(!Pe)return;var{start:Ve,end:wt}=Pe;B3(Ve,Math.min(p.length,wt),jt=>P(String(jt)))}else Object.keys(p).forEach(P);return k}(y,l||qs);if(x("dragSelectionStart",{selection:y,items:ie}),ie){var G=b.getJson();if(G!==void 0){var L=zo(G,y),M=ie.findIndex(ee=>Ct(ee.path,L)),{offset:E}=Jp({json:G,selection:b.getSelection(),deltaY:0,items:ie});t(9,B={initialTarget:T.target,initialClientY:T.clientY,initialContentTop:Q(),selectionStartIndex:M,selectionItemsCount:As(G,y).length,items:ie,offset:E,didMoveItems:!1}),Wn.dragging=!0,document.addEventListener("mousemove",J,!0),document.addEventListener("mouseup",U)}}else x("Cannot drag the current selection (probably spread over multiple sections)")}else j(T)}},function(T){Wn.selecting||Wn.dragging||(T.stopPropagation(),js(T.target,"data-type","selectable-value")?t(8,S=Ag):js(T.target,"data-type","selectable-key")?t(8,S=void 0):js(T.target,"data-type","insert-selection-area-inside")?t(8,S=Qo):js(T.target,"data-type","insert-selection-area-after")&&t(8,S=tu),clearTimeout(_))},function(T){T.stopPropagation(),_=window.setTimeout(()=>t(8,S=void 0))},function(T){T.shiftKey||(T.stopPropagation(),T.preventDefault(),b.onSelect(Zo(o)))},function(T){T.shiftKey||(T.stopPropagation(),T.preventDefault(),b.onSelect(Vo(o)))},function(T){b.onSelect(Zo(o)),b.onContextMenu(T)},function(T){b.onSelect(Vo(o)),b.onContextMenu(T)},j,d,f]}class d1 extends et{constructor(e){super(),Ze(this,e,lU,aU,yt,{pointer:0,value:1,state:2,validationErrors:3,searchResults:4,selection:5,context:6,onDragSelectionStart:31},BV,[-1,-1])}}var cU={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},uU={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},Fg={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},dU={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function fU(n){var e,t;return e=new Vh({props:{items:n[0]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};1&o&&(s.items=r[0]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function hU(n,e,t){var r,i,o,s,a,l,c,{json:u}=e,{selection:d}=e,{readOnly:f}=e,{showSearch:h=!1}=e,{historyState:p}=e,{onExpandAll:g}=e,{onCollapseAll:v}=e,{onUndo:m}=e,{onRedo:y}=e,{onSort:b}=e,{onTransform:j}=e,{onContextMenu:x}=e,{onCopy:S}=e,{onRenderMenu:_}=e;function B(){t(1,h=!h)}return n.$$set=R=>{"json"in R&&t(2,u=R.json),"selection"in R&&t(3,d=R.selection),"readOnly"in R&&t(4,f=R.readOnly),"showSearch"in R&&t(1,h=R.showSearch),"historyState"in R&&t(5,p=R.historyState),"onExpandAll"in R&&t(6,g=R.onExpandAll),"onCollapseAll"in R&&t(7,v=R.onCollapseAll),"onUndo"in R&&t(8,m=R.onUndo),"onRedo"in R&&t(9,y=R.onRedo),"onSort"in R&&t(10,b=R.onSort),"onTransform"in R&&t(11,j=R.onTransform),"onContextMenu"in R&&t(12,x=R.onContextMenu),"onCopy"in R&&t(13,S=R.onCopy),"onRenderMenu"in R&&t(14,_=R.onRenderMenu)},n.$$.update=()=>{4&n.$$.dirty&&t(20,r=u!==void 0),1048584&n.$$.dirty&&t(19,i=r&&(Jt(d)||zn(d)||Ft(d))),68&n.$$.dirty&&t(15,s={type:"button",icon:cU,title:"Expand all",className:"jse-expand-all",onClick:g,disabled:!Cn(u)}),132&n.$$.dirty&&t(16,a={type:"button",icon:uU,title:"Collapse all",className:"jse-collapse-all",onClick:v,disabled:!Cn(u)}),4&n.$$.dirty&&t(17,l={type:"button",icon:fh,title:"Search (Ctrl+F)",className:"jse-search",onClick:B,disabled:u===void 0}),769844&n.$$.dirty&&t(18,c=f?[s,a,{type:"separator"},{type:"button",icon:ks,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:S,disabled:!i},{type:"separator"},l,{type:"space"}]:[s,a,{type:"separator"},{type:"button",icon:dh,title:"Sort",className:"jse-sort",onClick:b,disabled:f||u===void 0},{type:"button",icon:ch,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:j,disabled:f||u===void 0},l,{type:"button",icon:Mk,title:Gv,className:"jse-contextmenu",onClick:x},{type:"separator"},{type:"button",icon:u0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:m,disabled:!p.canUndo},{type:"button",icon:c0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:y,disabled:!p.canRedo},{type:"space"}]),278528&n.$$.dirty&&t(0,o=_(c)||c)},[o,h,u,d,f,p,g,v,m,y,b,j,x,S,_,s,a,l,c,i,r]}class pU extends et{constructor(e){super(),Ze(this,e,hU,fU,yt,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14})}}function mU(n){ct(n,"svelte-1eamlhk",'.jse-welcome.svelte-1eamlhk.svelte-1eamlhk{flex:1;overflow:auto;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-1eamlhk.svelte-1eamlhk:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-1eamlhk .jse-space.jse-before.svelte-1eamlhk{flex:1}.jse-welcome.svelte-1eamlhk .jse-space.jse-after.svelte-1eamlhk{flex:2}.jse-welcome.svelte-1eamlhk .jse-contents.svelte-1eamlhk{display:flex;flex-direction:column;max-width:300px;margin:2em var(--jse-padding, 10px);gap:var(--jse-padding, 10px)}.jse-welcome.svelte-1eamlhk .jse-contents .jse-welcome-info.svelte-1eamlhk{color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-welcome.svelte-1eamlhk .jse-contents button.svelte-1eamlhk{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-welcome.svelte-1eamlhk .jse-contents button.svelte-1eamlhk:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-welcome.svelte-1eamlhk .jse-contents button.svelte-1eamlhk:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}')}function Uw(n){var e,t,r,i,o,s,a;return{c(){(e=I("div")).innerHTML="You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:",t=ne(),(r=I("button")).textContent="Create object",i=ne(),(o=I("button")).textContent="Create array",w(e,"class","jse-welcome-info svelte-1eamlhk"),w(r,"title","Create an empty JSON object (press '{')"),w(r,"class","svelte-1eamlhk"),w(o,"title","Create an empty JSON array (press '[')"),w(o,"class","svelte-1eamlhk")},m(l,c){K(l,e,c),K(l,t,c),K(l,r,c),K(l,i,c),K(l,o,c),s||(a=[ve(r,"click",Hi(n[4])),ve(o,"click",Hi(n[5]))],s=!0)},p:ke,d(l){l&&(W(e),W(t),W(r),W(i),W(o)),s=!1,tn(a)}}}function gU(n){var e,t,r,i,o,s,a,l,c,u,d=!n[0]&&Uw(n);return{c(){e=I("div"),t=I("div"),r=ne(),i=I("div"),(o=I("div")).textContent="Empty document",s=ne(),d&&d.c(),a=ne(),l=I("div"),w(t,"class","jse-space jse-before svelte-1eamlhk"),w(o,"class","jse-welcome-title"),w(i,"class","jse-contents svelte-1eamlhk"),w(l,"class","jse-space jse-after svelte-1eamlhk"),w(e,"class","jse-welcome svelte-1eamlhk"),w(e,"role","none")},m(f,h){K(f,e,h),O(e,t),O(e,r),O(e,i),O(i,o),O(i,s),d&&d.m(i,null),O(e,a),O(e,l),c||(u=ve(e,"click",n[6]),c=!0)},p(f,h){var[p]=h;f[0]?d&&(d.d(1),d=null):d?d.p(f,p):((d=Uw(f)).c(),d.m(i,null))},i:ke,o:ke,d(f){f&&W(e),d&&d.d(),c=!1,u()}}}function vU(n,e,t){var{readOnly:r}=e,{onCreateArray:i}=e,{onCreateObject:o}=e,{onClick:s}=e;return n.$$set=a=>{"readOnly"in a&&t(0,r=a.readOnly),"onCreateArray"in a&&t(1,i=a.onCreateArray),"onCreateObject"in a&&t(2,o=a.onCreateObject),"onClick"in a&&t(3,s=a.onClick)},[r,i,o,s,()=>o(),()=>i(),()=>s()]}class yU extends et{constructor(e){super(),Ze(this,e,vU,gU,yt,{readOnly:0,onCreateArray:1,onCreateObject:2,onClick:3},mU)}}function Vg(n,e){var t=typeof n=="string"?n.toLowerCase():n,r=typeof e=="string"?e.toLowerCase():e;return mA(t,r)}function T6(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(vn(De(n,e))){if(t===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l=function(u,d){return function(f,h){var p=De(f,u),g=De(h,u);return p===void 0?d:g===void 0?-d:typeof p!="string"&&typeof g!="string"?p>g?d:p<g?-d:0:d*Vg(p,g)}}(s,a),c=De(i,o);return[{op:"replace",path:it(o),value:c.slice(0).sort(l)}]}(n,e,t,r)}if(Ut(n))return function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=De(i,o),l=Object.keys(a).slice();l.sort((h,p)=>s*Vg(h,p));for(var c=[],u=0;u<l.length;u++){var d=l[u],f=it(o.concat(d));c.push({op:"move",from:f,path:f})}return c}(n,e,r);throw new Error("Cannot sort: no array or object")}function bU(n){ct(n,"svelte-2nnd2m",'.jse-navigation-bar-dropdown.svelte-2nnd2m.svelte-2nnd2m{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.svelte-2nnd2m{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px)) 36px}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.svelte-2nnd2m:focus,.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.svelte-2nnd2m:hover{background:var(--jse-navigation-bar-background-highlight, #e5e5e5)}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.jse-selected.svelte-2nnd2m{background:var(--jse-navigation-bar-dropdown-color, #656565);color:var(--jse-navigation-bar-background, var(--jse-background-color, #fff))}')}function Hw(n,e,t){var r=n.slice();return r[4]=e[t],r}function Ww(n,e){var t,r,i,o,s,a=Jo(e[4].toString(),Gw)+"";function l(){return e[3](e[4])}return{key:n,first:null,c(){t=I("button"),r=Se(a),w(t,"type","button"),w(t,"class","jse-navigation-bar-dropdown-item svelte-2nnd2m"),w(t,"title",i=e[4].toString()),he(t,"jse-selected",e[4]===e[1]),this.first=t},m(c,u){K(c,t,u),O(t,r),o||(s=ve(t,"click",Hi(l)),o=!0)},p(c,u){e=c,1&u&&a!==(a=Jo(e[4].toString(),Gw)+"")&&Xe(r,a),1&u&&i!==(i=e[4].toString())&&w(t,"title",i),3&u&&he(t,"jse-selected",e[4]===e[1])},d(c){c&&W(t),o=!1,s()}}}function Kw(n){var e,t;return{c(){e=I("button"),t=Se("..."),w(e,"type","button"),w(e,"class","jse-navigation-bar-dropdown-item svelte-2nnd2m"),w(e,"title","Limited to "+bc+" items")},m(r,i){K(r,e,i),O(e,t)},p:ke,d(r){r&&W(e)}}}function xU(n){for(var e,t,r=[],i=new Map,o=ut(Ff(n[0],bc)),s=d=>d[4],a=0;a<o.length;a+=1){var l=Hw(n,o,a),c=s(l);i.set(c,r[a]=Ww(c,l))}var u=n[0].length>bc&&Kw();return{c(){e=I("div");for(var d=0;d<r.length;d+=1)r[d].c();t=ne(),u&&u.c(),w(e,"class","jse-navigation-bar-dropdown svelte-2nnd2m")},m(d,f){K(d,e,f);for(var h=0;h<r.length;h+=1)r[h]&&r[h].m(e,null);O(e,t),u&&u.m(e,null)},p(d,f){var[h]=f;7&h&&(o=ut(Ff(d[0],bc)),r=Rh(r,h,s,0,d,o,i,e,PL,Ww,t,Hw)),d[0].length>bc?u?u.p(d,h):((u=Kw()).c(),u.m(e,null)):u&&(u.d(1),u=null)},i:ke,o:ke,d(d){d&&W(e);for(var f=0;f<r.length;f+=1)r[f].d();u&&u.d()}}}var bc=100,Gw=30;function wU(n,e,t){var{items:r}=e,{selectedItem:i}=e,{onSelect:o}=e;return n.$$set=s=>{"items"in s&&t(0,r=s.items),"selectedItem"in s&&t(1,i=s.selectedItem),"onSelect"in s&&t(2,o=s.onSelect)},[r,i,o,s=>o(s)]}class jU extends et{constructor(e){super(),Ze(this,e,wU,xU,yt,{items:0,selectedItem:1,onSelect:2},bU)}}function $U(n){ct(n,"svelte-752ro1",".jse-navigation-bar-item.svelte-752ro1.svelte-752ro1{position:relative;display:flex}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.svelte-752ro1{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding, 10px)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.svelte-752ro1:focus,.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.svelte-752ro1:hover{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d))}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-752ro1{padding:2px var(--jse-padding, 10px) 0}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-752ro1{background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565)}.jse-navigation-bar-item.svelte-752ro1.svelte-752ro1:last-child{padding-right:var(--jse-padding, 10px)}")}function Jw(n){var e,t,r,i;return{c(){e=I("button"),t=Se(n[2]),w(e,"type","button"),w(e,"class","jse-navigation-bar-button svelte-752ro1")},m(o,s){K(o,e,s),O(e,t),r||(i=ve(e,"click",n[9]),r=!0)},p(o,s){4&s&&Xe(t,o[2])},d(o){o&&W(e),r=!1,i()}}}function kU(n){var e,t,r,i,o,s,a;r=new Mt({props:{data:Ek}});var l=n[2]!==void 0&&Jw(n);return{c(){e=I("div"),t=I("button"),ue(r.$$.fragment),i=ne(),l&&l.c(),w(t,"type","button"),w(t,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-752ro1"),he(t,"jse-open",n[1]),w(e,"class","jse-navigation-bar-item svelte-752ro1")},m(c,u){K(c,e,u),O(e,t),le(r,t,null),O(e,i),l&&l.m(e,null),n[10](e),o=!0,s||(a=ve(t,"click",n[4]),s=!0)},p(c,u){var[d]=u;(!o||2&d)&&he(t,"jse-open",c[1]),c[2]!==void 0?l?l.p(c,d):((l=Jw(c)).c(),l.m(e,null)):l&&(l.d(1),l=null)},i(c){o||($(r.$$.fragment,c),o=!0)},o(c){C(r.$$.fragment,c),o=!1},d(c){c&&W(e),ce(r),l&&l.d(),n[10](null),s=!1,a()}}}function CU(n,e,t){var r,i,o,s,{openAbsolutePopup:a,closeAbsolutePopup:l}=Hs("absolute-popup"),{path:c}=e,{index:u}=e,{onSelect:d}=e,{getItems:f}=e,h=!1;function p(g){l(s),d(r.concat(g))}return n.$$set=g=>{"path"in g&&t(5,c=g.path),"index"in g&&t(6,u=g.index),"onSelect"in g&&t(7,d=g.onSelect),"getItems"in g&&t(8,f=g.getItems)},n.$$.update=()=>{96&n.$$.dirty&&(r=c.slice(0,u)),96&n.$$.dirty&&t(2,i=c[u])},[o,h,i,p,function(){if(o){t(1,h=!0);var g={items:f(r),selectedItem:i,onSelect:p};s=a(jU,g,{anchor:o,closeOnOuterClick:!0,onClose:()=>{t(1,h=!1)}})}},c,u,d,f,()=>p(i),function(g){xt[g?"unshift":"push"](()=>{t(0,o=g)})}]}class R6 extends et{constructor(e){super(),Ze(this,e,CU,kU,yt,{path:5,index:6,onSelect:7,getItems:8},$U)}}function f1(n){var e,t;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"copy")){var r=document.createElement("textarea");r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(i){console.error(i)}finally{document.body.removeChild(r)}return Promise.resolve()}return console.error("Copy failed."),Promise.resolve()}function SU(n){ct(n,"svelte-zc2wx7",".jse-navigation-bar-path-editor.svelte-zc2wx7.svelte-zc2wx7{flex:1;display:flex;border:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff)}.jse-navigation-bar-path-editor.svelte-zc2wx7 input.jse-navigation-bar-text.svelte-zc2wx7{flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.svelte-zc2wx7{border:none;background:var(--jse-background-color, #fff);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-copy.copied.svelte-zc2wx7{color:var(--message-success-background, #9ac45d)}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-validation-error.svelte-zc2wx7{color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-zc2wx7.svelte-zc2wx7{border-color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-zc2wx7 input.jse-navigation-bar-text.svelte-zc2wx7{color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.svelte-zc2wx7 .jse-copied-text.svelte-zc2wx7{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff);position:relative;margin:2px;padding:0 5px;border-radius:3px}")}function Qw(n){var e,t,r,i,o,s;return t=new Mt({props:{data:ka}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class","jse-navigation-bar-validation-error svelte-zc2wx7")},m(a,l){K(a,e,l),le(t,e,null),i=!0,o||(s=$r(r=s1.call(null,e,Ee({text:String(n[3]||"")},n[4]))),o=!0)},p(a,l){r&&ii(r.update)&&8&l&&r.update.call(null,Ee({text:String(a[3]||"")},a[4]))},i(a){i||($(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&W(e),ce(t),o=!1,s()}}}function Yw(n){var e;return{c(){(e=I("div")).textContent="Copied!",w(e,"class","jse-copied-text svelte-zc2wx7")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function OU(n){var e,t,r,i,o,s,a,l,c,u,d=n[3]&&Qw(n),f=n[2]&&Yw();return a=new Mt({props:{data:ks}}),{c(){e=I("div"),t=I("input"),r=ne(),d&&d.c(),i=ne(),f&&f.c(),o=ne(),s=I("button"),ue(a.$$.fragment),w(t,"type","text"),w(t,"class","jse-navigation-bar-text svelte-zc2wx7"),t.value=n[0],w(s,"type","button"),w(s,"class","jse-navigation-bar-copy svelte-zc2wx7"),w(s,"title","Copy selected path to the clipboard"),he(s,"copied",n[2]),w(e,"class","jse-navigation-bar-path-editor svelte-zc2wx7"),he(e,"error",n[3])},m(h,p){K(h,e,p),O(e,t),n[15](t),O(e,r),d&&d.m(e,null),O(e,i),f&&f.m(e,null),O(e,o),O(e,s),le(a,s,null),l=!0,c||(u=[ve(t,"keydown",Hi(n[6])),ve(t,"input",n[5]),ve(s,"click",n[7])],c=!0)},p(h,p){var[g]=p;(!l||1&g&&t.value!==h[0])&&(t.value=h[0]),h[3]?d?(d.p(h,g),8&g&&$(d,1)):((d=Qw(h)).c(),$(d,1),d.m(e,i)):d&&(be(),C(d,1,1,()=>{d=null}),xe()),h[2]?f||((f=Yw()).c(),f.m(e,o)):f&&(f.d(1),f=null),(!l||4&g)&&he(s,"copied",h[2]),(!l||8&g)&&he(e,"error",h[3])},i(h){l||($(d),$(a.$$.fragment,h),l=!0)},o(h){C(d),C(a.$$.fragment,h),l=!1},d(h){h&&W(e),n[15](null),d&&d.d(),f&&f.d(),ce(a),c=!1,tn(u)}}}function EU(n,e,t){var r,i,o,s=Hs("absolute-popup"),{path:a}=e,{pathParser:l}=e,{onChange:c}=e,{onClose:u}=e,{onError:d}=e,{pathExists:f}=e,h=!1,p=void 0,g=!1;function v(){i.focus()}function m(y){try{var b=l.parse(y);return function(j){if(!f(j))throw new Error("Path does not exist in current document")}(b),{path:b,error:void 0}}catch(j){return{path:void 0,error:j}}}return Vr(()=>{v()}),ri(()=>{clearTimeout(p)}),n.$$set=y=>{"path"in y&&t(8,a=y.path),"pathParser"in y&&t(9,l=y.pathParser),"onChange"in y&&t(10,c=y.onChange),"onClose"in y&&t(11,u=y.onClose),"onError"in y&&t(12,d=y.onError),"pathExists"in y&&t(13,f=y.pathExists)},n.$$.update=()=>{768&n.$$.dirty&&t(0,o=l.stringify(a)),16385&n.$$.dirty&&t(3,r=h?m(o).error:void 0)},[o,i,g,r,s,function(y){t(0,o=y.currentTarget.value)},function(y){var b=Go(y);if(b==="Escape"&&u(),b==="Enter"){t(14,h=!0);var j=m(o);j.path!==void 0?c(j.path):d(j.error)}},function(){f1(o),t(2,g=!0),p=window.setTimeout(()=>t(2,g=!1),1e3),v()},a,l,c,u,d,f,h,function(y){xt[y?"unshift":"push"](()=>{t(1,i=y)})}]}class AU extends et{constructor(e){super(),Ze(this,e,EU,OU,Hn,{path:8,pathParser:9,onChange:10,onClose:11,onError:12,pathExists:13},SU)}}function MU(n){ct(n,"svelte-xs03gj",'.jse-navigation-bar.svelte-xs03gj.svelte-xs03gj{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-button-color, inherit);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.svelte-xs03gj{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);color:var(--jse-panel-color-readonly, #b2b2b2);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.flex.svelte-xs03gj{flex:1}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.svelte-xs03gj:focus,.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.svelte-xs03gj:hover,.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.editing.svelte-xs03gj{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));transition:color 0.2s ease-in, background 0.2s ease-in}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit .jse-navigation-bar-space.svelte-xs03gj{flex:1;text-align:left}')}function Xw(n,e,t){var r=n.slice();return r[18]=e[t],r[20]=t,r}function PU(n){var e,t;return e=new AU({props:{path:n[3],onClose:n[11],onChange:n[12],onError:n[1],pathExists:n[8],pathParser:n[2]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8&i&&(o.path=r[3]),2&i&&(o.onError=r[1]),4&i&&(o.pathParser=r[2]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function _U(n){for(var e,t,r,i=[],o=new Map,s=ut(n[3]),a=f=>f[20],l=0;l<s.length;l+=1){var c=Xw(n,s,l),u=a(c);o.set(u,i[l]=Zw(u,c))}var d=n[6]&&ej(n);return{c(){for(var f=0;f<i.length;f+=1)i[f].c();e=ne(),d&&d.c(),t=Bt()},m(f,h){for(var p=0;p<i.length;p+=1)i[p]&&i[p].m(f,h);K(f,e,h),d&&d.m(f,h),K(f,t,h),r=!0},p(f,h){648&h&&(s=ut(f[3]),be(),i=Rh(i,h,a,0,f,s,o,e.parentNode,zv,Zw,e,Xw),xe()),f[6]?d?(d.p(f,h),64&h&&$(d,1)):((d=ej(f)).c(),$(d,1),d.m(t.parentNode,t)):d&&(be(),C(d,1,1,()=>{d=null}),xe())},i(f){if(!r){for(var h=0;h<s.length;h+=1)$(i[h]);$(d),r=!0}},o(f){for(var h=0;h<i.length;h+=1)C(i[h]);C(d),r=!1},d(f){f&&(W(e),W(t));for(var h=0;h<i.length;h+=1)i[h].d(f);d&&d.d(f)}}}function Zw(n,e){var t,r,i;return r=new R6({props:{getItems:e[7],path:e[3],index:e[20],onSelect:e[9]}}),{key:n,first:null,c(){t=Bt(),ue(r.$$.fragment),this.first=t},m(o,s){K(o,t,s),le(r,o,s),i=!0},p(o,s){e=o;var a={};8&s&&(a.path=e[3]),8&s&&(a.index=e[20]),r.$set(a)},i(o){i||($(r.$$.fragment,o),i=!0)},o(o){C(r.$$.fragment,o),i=!1},d(o){o&&W(t),ce(r,o)}}}function ej(n){var e,t;return e=new R6({props:{getItems:n[7],path:n[3],index:n[3].length,onSelect:n[9]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};8&i&&(o.path=r[3]),8&i&&(o.index=r[3].length),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function TU(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p=Cn(n[0])||n[5]?" ":"Navigation bar",g=[_U,PU],v=[];function m(y,b){return y[5]?1:0}return t=m(n),r=v[t]=g[t](n),c=new Mt({props:{data:n[5]?J1:K1}}),{c(){e=I("div"),r.c(),i=ne(),o=I("button"),s=I("span"),a=Se(p),l=ne(),ue(c.$$.fragment),w(s,"class","jse-navigation-bar-space svelte-xs03gj"),w(o,"type","button"),w(o,"class","jse-navigation-bar-edit svelte-xs03gj"),w(o,"title",u=n[5]?"Cancel editing the selected path":"Edit the selected path"),he(o,"flex",!n[5]),he(o,"editing",n[5]),w(e,"class","jse-navigation-bar svelte-xs03gj")},m(y,b){K(y,e,b),v[t].m(e,null),O(e,i),O(e,o),O(o,s),O(s,a),O(o,l),le(c,o,null),n[15](e),d=!0,f||(h=ve(o,"click",n[10]),f=!0)},p(y,b){var[j]=b,x=t;(t=m(y))===x?v[t].p(y,j):(be(),C(v[x],1,1,()=>{v[x]=null}),xe(),(r=v[t])?r.p(y,j):(r=v[t]=g[t](y)).c(),$(r,1),r.m(e,i)),(!d||33&j)&&p!==(p=Cn(y[0])||y[5]?" ":"Navigation bar")&&Xe(a,p);var S={};32&j&&(S.data=y[5]?J1:K1),c.$set(S),(!d||32&j&&u!==(u=y[5]?"Cancel editing the selected path":"Edit the selected path"))&&w(o,"title",u),(!d||32&j)&&he(o,"flex",!y[5]),(!d||32&j)&&he(o,"editing",y[5])},i(y){d||($(r),$(c.$$.fragment,y),d=!0)},o(y){C(r),C(c.$$.fragment,y),d=!1},d(y){y&&W(e),v[t].d(),ce(c),n[15](null),f=!1,h()}}}function RU(n,e,t){var r,i,o,s=Zn("jsoneditor:NavigationBar"),{json:a}=e,{selection:l}=e,{onSelect:c}=e,{onError:u}=e,{pathParser:d}=e,f=!1;function h(g){s("select path",JSON.stringify(g)),c(yr(g,g))}function p(){t(5,f=!1)}return n.$$set=g=>{"json"in g&&t(0,a=g.json),"selection"in g&&t(13,l=g.selection),"onSelect"in g&&t(14,c=g.onSelect),"onError"in g&&t(1,u=g.onError),"pathParser"in g&&t(2,d=g.pathParser)},n.$$.update=()=>{8192&n.$$.dirty&&t(3,r=l?Ke(l):[]),9&n.$$.dirty&&t(6,i=Cn(De(a,r))),8&n.$$.dirty&&setTimeout(()=>{if(o&&o.scrollTo){var g=o.scrollWidth-o.clientWidth;g>0&&(s("scrollTo ",g),o.scrollTo({left:g,behavior:"smooth"}))}})},[a,u,d,r,o,f,i,function(g){s("get items for path",g);var v=De(a,g);if(Array.isArray(v))return lk(0,v.length).map(String);if(Ut(v)){var m=Object.keys(v).slice(0);return m.sort(Vg),m}return[]},function(g){return hi(a,g)},h,function(){t(5,f=!f)},p,function(g){p(),h(g)},l,c,function(g){xt[g?"unshift":"push"](()=>{t(4,o=g)})}]}class NU extends et{constructor(e){super(),Ze(this,e,RU,TU,yt,{json:0,selection:13,onSelect:14,onError:1,pathParser:2},MU)}}function DU(n){ct(n,"svelte-1mxl2uo",'.jse-search-box.svelte-1mxl2uo.svelte-1mxl2uo{border:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-radius:3px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-1mxl2uo .jse-search-form.svelte-1mxl2uo{display:flex;align-items:stretch}.jse-search-box.svelte-1mxl2uo .jse-search-form button.svelte-1mxl2uo,.jse-search-box.svelte-1mxl2uo .jse-search-form input.svelte-1mxl2uo{font-family:inherit;font-size:inherit}.jse-search-box.svelte-1mxl2uo .jse-search-form button.svelte-1mxl2uo{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent)}.jse-search-box.svelte-1mxl2uo .jse-search-form button.svelte-1mxl2uo:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1mxl2uo .jse-search-form input.svelte-1mxl2uo{color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:3px;background:var(--jse-input-background, var(--jse-background-color, #fff));height:28px;padding:0 5px;margin:0;flex:1;width:0;min-width:50px;outline:none}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-replace-toggle.svelte-1mxl2uo{padding:var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px));min-width:20px;background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents.svelte-1mxl2uo{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding, 10px));gap:calc(0.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-search-section.svelte-1mxl2uo{flex:1;display:flex;align-items:center;position:relative}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-1mxl2uo{color:inherit;cursor:inherit;background:inherit;width:32px;text-align:center}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-1mxl2uo{flex:1;display:flex}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-1mxl2uo{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-1mxl2uo{visibility:visible}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-replace-section.svelte-1mxl2uo{flex:1;display:flex;padding-left:32px}.jse-search-box.svelte-1mxl2uo .jse-search-form .jse-search-contents .jse-replace-section button.svelte-1mxl2uo{width:auto}')}function tj(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Q,Z,J=(n[7]!==-1&&n[7]<n[4]?"".concat(n[7]+1,"/"):"")+"",U=!n[2]&&nj(n),T=[zU,IU],re=[];function ie(L,M){return L[6]?0:1}a=ie(n),l=re[a]=T[a](n),y=new Mt({props:{data:dA}}),x=new Mt({props:{data:QE}}),B=new Mt({props:{data:Rc}});var G=n[0]&&!n[2]&&rj(n);return{c(){e=I("div"),t=I("form"),U&&U.c(),r=ne(),i=I("div"),o=I("div"),s=I("div"),l.c(),c=ne(),u=I("label"),d=I("input"),f=ne(),h=I("div"),p=Se(J),g=Se(n[8]),v=ne(),m=I("button"),ue(y.$$.fragment),b=ne(),j=I("button"),ue(x.$$.fragment),S=ne(),_=I("button"),ue(B.$$.fragment),R=ne(),G&&G.c(),w(s,"class","jse-search-icon svelte-1mxl2uo"),w(d,"class","jse-search-input svelte-1mxl2uo"),w(d,"title","Enter text to search"),w(d,"type","text"),w(d,"placeholder","Find"),w(u,"class","jse-search-input-label svelte-1mxl2uo"),w(u,"about","jse-search input"),w(h,"class","jse-search-count svelte-1mxl2uo"),he(h,"jse-visible",n[3]!==""),w(m,"type","button"),w(m,"class","jse-search-next svelte-1mxl2uo"),w(m,"title","Go to next search result (Enter)"),w(j,"type","button"),w(j,"class","jse-search-previous svelte-1mxl2uo"),w(j,"title","Go to previous search result (Shift+Enter)"),w(_,"type","button"),w(_,"class","jse-search-clear svelte-1mxl2uo"),w(_,"title","Close search box (Esc)"),w(o,"class","jse-search-section svelte-1mxl2uo"),w(i,"class","jse-search-contents svelte-1mxl2uo"),w(t,"class","jse-search-form svelte-1mxl2uo"),w(e,"class","jse-search-box svelte-1mxl2uo")},m(L,M){K(L,e,M),O(e,t),U&&U.m(t,null),O(t,r),O(t,i),O(i,o),O(o,s),re[a].m(s,null),O(o,c),O(o,u),O(u,d),Bs(d,n[3]),O(o,f),O(o,h),O(h,p),O(h,g),O(o,v),O(o,m),le(y,m,null),O(o,b),O(o,j),le(x,j,null),O(o,S),O(o,_),le(B,_,null),O(i,R),G&&G.m(i,null),F=!0,Q||(Z=[ve(d,"input",n[27]),$r(BU.call(null,d)),ve(d,"paste",n[12]),ve(m,"click",n[15]),ve(j,"click",n[16]),ve(_,"click",n[17]),ve(t,"keydown",n[10])],Q=!0)},p(L,M){L[2]?U&&(be(),C(U,1,1,()=>{U=null}),xe()):U?(U.p(L,M),4&M[0]&&$(U,1)):((U=nj(L)).c(),$(U,1),U.m(t,r));var E=a;(a=ie(L))!==E&&(be(),C(re[E],1,1,()=>{re[E]=null}),xe(),(l=re[a])||(l=re[a]=T[a](L)).c(),$(l,1),l.m(s,null)),8&M[0]&&d.value!==L[3]&&Bs(d,L[3]),(!F||144&M[0])&&J!==(J=(L[7]!==-1&&L[7]<L[4]?"".concat(L[7]+1,"/"):"")+"")&&Xe(p,J),(!F||256&M[0])&&Xe(g,L[8]),(!F||8&M[0])&&he(h,"jse-visible",L[3]!==""),L[0]&&!L[2]?G?G.p(L,M):((G=rj(L)).c(),G.m(i,null)):G&&(G.d(1),G=null)},i(L){F||($(U),$(l),$(y.$$.fragment,L),$(x.$$.fragment,L),$(B.$$.fragment,L),F=!0)},o(L){C(U),C(l),C(y.$$.fragment,L),C(x.$$.fragment,L),C(B.$$.fragment,L),F=!1},d(L){L&&W(e),U&&U.d(),re[a].d(),ce(y),ce(x),ce(B),G&&G.d(),Q=!1,tn(Z)}}}function nj(n){var e,t,r,i,o;return t=new Mt({props:{data:n[0]?pi:gs}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class","jse-replace-toggle svelte-1mxl2uo"),w(e,"title","Toggle visibility of replace options (Ctrl+H)")},m(s,a){K(s,e,a),le(t,e,null),r=!0,i||(o=ve(e,"click",n[9]),i=!0)},p(s,a){var l={};1&a[0]&&(l.data=s[0]?pi:gs),t.$set(l)},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),r=!1},d(s){s&&W(e),ce(t),i=!1,o()}}}function IU(n){var e,t;return e=new Mt({props:{data:fh}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function zU(n){var e,t;return e=new Mt({props:{data:VE,spin:!0}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function rj(n){var e,t,r,i,o,s,a,l;return{c(){e=I("div"),t=I("input"),r=ne(),(i=I("button")).textContent="Replace",o=ne(),(s=I("button")).textContent="All",w(t,"class","jse-replace-input svelte-1mxl2uo"),w(t,"title","Enter replacement text"),w(t,"type","text"),w(t,"placeholder","Replace"),w(i,"type","button"),w(i,"title","Replace current occurrence (Ctrl+Enter)"),w(i,"class","svelte-1mxl2uo"),w(s,"type","button"),w(s,"title","Replace all occurrences"),w(s,"class","svelte-1mxl2uo"),w(e,"class","jse-replace-section svelte-1mxl2uo")},m(c,u){K(c,e,u),O(e,t),Bs(t,n[5]),O(e,r),O(e,i),O(e,o),O(e,s),a||(l=[ve(t,"input",n[28]),ve(t,"keydown",n[11]),ve(i,"click",n[13]),ve(s,"click",n[14])],a=!0)},p(c,u){32&u[0]&&t.value!==c[5]&&Bs(t,c[5])},d(c){c&&W(e),a=!1,tn(l)}}}function LU(n){var e,t,r=n[1]&&tj(n);return{c(){r&&r.c(),e=Bt()},m(i,o){r&&r.m(i,o),K(i,e,o),t=!0},p(i,o){i[1]?r?(r.p(i,o),2&o[0]&&$(r,1)):((r=tj(i)).c(),$(r,1),r.m(e.parentNode,e)):r&&(be(),C(r,1,1,()=>{r=null}),xe())},i(i){t||($(r),t=!0)},o(i){C(r),t=!1},d(i){i&&W(e),r&&r.d(i)}}}function BU(n){n.select()}function qU(n,e,t){var r,i,o,s,a=Zn("jsoneditor:SearchBox"),{json:l}=e,{documentState:c}=e,{parser:u}=e,{showSearch:d}=e,{showReplace:f}=e,{readOnly:h}=e,{columns:p}=e,{onSearch:g}=e,{onFocus:v}=e,{onPatch:m}=e,{onClose:y}=e,b="",j="",x="",S=!1,_=tf(function(D){return E.apply(this,arguments)},300),B=tf(function(D){return ee.apply(this,arguments)},300);function R(){t(0,f=!f&&!h)}function F(){return(F=st(function*(){yield kn(),setTimeout(()=>_.flush())})).apply(this,arguments)}function Q(){return Z.apply(this,arguments)}function Z(){return(Z=st(function*(){var D;if(!h){var N=(D=s)===null||D===void 0?void 0:D.activeItem;if(a("handleReplace",{replaceText:x,activeItem:N}),s&&N&&l!==void 0){t(26,s=Ee(Ee({},Zx(s)),{},{activeIndex:i}));var{operations:se,newSelection:$e}=ZB(l,c,x,N,u);m(se,(Y,Pe)=>({state:Pe,selection:$e})),yield kn(),yield B.flush(),yield G()}}})).apply(this,arguments)}function J(){return J=st(function*(){if(!h){a("handleReplaceAll",{text:b,replaceText:x});var{operations:D,newSelection:N}=function(se,$e,Y,Pe,Ve){for(var wt=e2(Y,se,{maxResults:1/0}),jt=[],at=0;at<wt.length;at++){var Fe=wt[at-1],ye=wt[at];at!==0&&ye.field===Fe.field&&Ct(ye.path,Fe.path)?kt(jt).items.push(ye):jt.push({path:ye.path,field:ye.field,items:[ye]})}jt.sort((At,Ce)=>At.field!==Ce.field?At.field===Li.key?1:-1:Ce.path.length-At.path.length);var Gt,Me=[];return jt.forEach(At=>{var{field:Ce,path:Je,items:ae}=At;if(Ce===Li.key){var mt=_t(Je),we=De(se,mt),A=kt(Je),V=Eu(mt,Object.keys(we),A,n2(A,Pe,ae));Me=Me.concat(V),Gt=_l(se,V)}else{if(Ce!==Li.value)throw new Error("Cannot replace: unknown type of search result field ".concat(Ce));var X=De(se,Je);if(X===void 0)throw new Error("Cannot replace: path not found ".concat(it(Je)));var oe=typeof X=="string"?X:String(X),me=jo(se,$e,Je),Te=n2(oe,Pe,ae),nt=[{op:"replace",path:it(Je),value:me?Te:Vl(Te,Ve)}];Me=Me.concat(nt),Gt=_l(se,nt)}}),{operations:Me,newSelection:Gt}}(l,c,b,x,u);m(D,(se,$e)=>({state:$e,selection:N})),yield G()}}),J.apply(this,arguments)}function U(){return T.apply(this,arguments)}function T(){return(T=st(function*(){t(26,s=s?Zx(s):void 0),yield G()})).apply(this,arguments)}function re(){return ie.apply(this,arguments)}function ie(){return(ie=st(function*(){t(26,s=s?function(D){var N=D.activeIndex>0?D.activeIndex-1:D.items.length-1,se=D.items[N],$e=D.items.map((Y,Pe)=>Ee(Ee({},Y),{},{active:Pe===N}));return Ee(Ee({},D),{},{items:$e,activeItem:se,activeIndex:N})}(s):void 0),yield G()})).apply(this,arguments)}function G(){return L.apply(this,arguments)}function L(){return(L=st(function*(){var D;a("handleFocus",s);var N=(D=s)===null||D===void 0?void 0:D.activeItem;N&&l!==void 0&&(yield v(N.path))})).apply(this,arguments)}function M(){return M=st(function*(D){yield H(D,b,l)}),M.apply(this,arguments)}function E(){return E=st(function*(D){yield H(d,D,l),yield G()}),E.apply(this,arguments)}function ee(){return ee=st(function*(D){yield H(d,b,D)}),ee.apply(this,arguments)}function H(D,N,se){return k.apply(this,arguments)}function k(){return k=st(function*(D,N,se){return D?(a("applySearch",{showSearch:D,text:N}),N===""?(a("clearing search result"),s!==void 0&&t(26,s=void 0),Promise.resolve()):(j=N,t(6,S=!0),new Promise($e=>{setTimeout(()=>{var Y=e2(N,se,{maxResults:Bx,columns:p});t(26,s=function(Pe,Ve){var wt=Ve!=null&&Ve.activeItem?r2(Ve.activeItem):void 0,jt=Pe.findIndex(ye=>Ct(wt,r2(ye))),at=jt!==-1?jt:(Ve==null?void 0:Ve.activeIndex)!==void 0&&(Ve==null?void 0:Ve.activeIndex)<Pe.length?Ve==null?void 0:Ve.activeIndex:Pe.length>0?0:-1,Fe=Pe.map((ye,Gt)=>Ee(Ee({},ye),{},{active:Gt===at}));return{items:Fe,activeItem:Fe[at],activeIndex:at}}(Y,s)),t(6,S=!1),$e()})}))):(s&&t(26,s=void 0),Promise.resolve())}),k.apply(this,arguments)}function P(){a("handleClose"),_.cancel(),B.cancel(),H(!1,b,l),y()}return n.$$set=D=>{"json"in D&&t(18,l=D.json),"documentState"in D&&t(19,c=D.documentState),"parser"in D&&t(20,u=D.parser),"showSearch"in D&&t(1,d=D.showSearch),"showReplace"in D&&t(0,f=D.showReplace),"readOnly"in D&&t(2,h=D.readOnly),"columns"in D&&t(21,p=D.columns),"onSearch"in D&&t(22,g=D.onSearch),"onFocus"in D&&t(23,v=D.onFocus),"onPatch"in D&&t(24,m=D.onPatch),"onClose"in D&&t(25,y=D.onClose)},n.$$.update=()=>{var D,N;67108864&n.$$.dirty[0]&&t(4,r=((D=s)===null||D===void 0||(D=D.items)===null||D===void 0?void 0:D.length)||0),67108864&n.$$.dirty[0]&&t(7,i=((N=s)===null||N===void 0?void 0:N.activeIndex)||0),16&n.$$.dirty[0]&&t(8,o=r>=Bx?"".concat(999,"+"):String(r)),71303168&n.$$.dirty[0]&&g(s),2&n.$$.dirty[0]&&function(se){M.apply(this,arguments)}(d),8&n.$$.dirty[0]&&_(b),262144&n.$$.dirty[0]&&B(l)},[f,d,h,b,r,x,S,i,o,R,function(D){D.stopPropagation();var N=Go(D);N==="Enter"&&(D.preventDefault(),b!==j?_.flush():U()),N==="Shift+Enter"&&(D.preventDefault(),re()),N==="Ctrl+Enter"&&(D.preventDefault(),f?Q():U()),N==="Ctrl+H"&&(D.preventDefault(),R()),N==="Escape"&&(D.preventDefault(),P())},function(D){Go(D)==="Enter"&&(D.preventDefault(),D.stopPropagation(),Q())},function(){return F.apply(this,arguments)},Q,function(){return J.apply(this,arguments)},U,re,P,l,c,u,p,g,v,m,y,s,function(){b=this.value,t(3,b)},function(){x=this.value,t(5,x)}]}class N6 extends et{constructor(e){super(),Ze(this,e,qU,LU,yt,{json:18,documentState:19,parser:20,showSearch:1,showReplace:0,readOnly:2,columns:21,onSearch:22,onFocus:23,onPatch:24,onClose:25},DU,[-1,-1])}}var au=Symbol("path");function FU(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,r={};Array.isArray(n)&&function(o,s,a){if(o.length<s)o.forEach(a);else for(var l=s>1?(o.length-1)/(s-1):o.length,c=0;c<s;c++){var u=Math.floor(c*l);a(o[u],u,o)}}(n,t,o=>{Ut(o)?D6(o,r,e):r[au]=!0});var i=[];return au in r&&i.push([]),I6(r,[],i,e),i}function D6(n,e,t){for(var r in n){var i=n[r],o=e[r]||(e[r]={});Ut(i)&&t?D6(i,o,t):o[au]===void 0&&(o[au]=!0)}}function I6(n,e,t,r){for(var i in n){var o=e.concat(i),s=n[i];s&&s[au]===!0&&t.push(o),An(s)&&r&&I6(s,o,t,r)}}function VU(n,e,t,r,i,o){for(var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:80,a=vn(t)?t.length:0,l=function(y,b){var j=Object.values(y);if(Lt(j))return b;var x=(S,_)=>S+_;return j.reduce(x)/j.length}(r,i),c=n-s,u=e+2*s,d=y=>r[y]||i,f=0,h=o;h<c&&f<a;)h+=d(f),f++;f>0&&(h-=d(--f));for(var p=f,g=0;g<u&&p<a;)g+=d(p),p++;for(var v=0,m=p;m<a;m++)v+=d(m);return{startIndex:f,endIndex:p,startHeight:h,endHeight:v,averageItemHeight:l,visibleHeight:g,visibleItems:vn(t)?t.slice(f,p):[]}}function ij(n,e,t,r){for(var{rowIndex:i}=fi(n,e),o=0,s=0;s<i;s++)o+=t[s]||r;return o}function fi(n,e){var[t,...r]=n,i=parseInt(t,10);return{rowIndex:isNaN(i)?-1:i,columnIndex:e.findIndex(o=>Yo(r,o))}}function la(n,e){var{rowIndex:t,columnIndex:r}=n;return[String(t),...e[r]]}function UU(n,e){var[t,r]=oO(n,s=>Lv(s.path[0])),i=K5(t,HU),o=Z5(i,s=>{var a={row:[],columns:{}};return s.forEach(l=>{var c=function(u,d){var f=fi(u.path,d);return f.columnIndex!==-1?f.columnIndex:-1}(l,e);c!==-1?(a.columns[c]===void 0&&(a.columns[c]=[]),a.columns[c].push(l)):a.row.push(l)}),a});return{root:r,rows:o}}function h1(n,e){if(e&&e.length!==0)return e.length===1?e[0]:{path:n,message:"Multiple validation issues: "+e.map(t=>oi(t.path)+" "+t.message).join(", "),severity:zi.warning}}function HU(n){return parseInt(n.path[0],10)}function WU(n,e,t){var r=e.some(i=>function(o,s,a){if(!o)return!1;if(s.op==="replace"){var l=bi(s.path),{rowIndex:c,columnIndex:u}=fi(l,a),d=a.findIndex(f=>Ct(f,o.path));if(c!==-1&&u!==-1&&u!==d)return!1}return!0}(n,i,t));return r?void 0:n}var wr=Zn("jsoneditor:actions");function z6(n){return Ug.apply(this,arguments)}function Ug(){return Ug=st(function*(n){var{json:e,selection:t,indentation:r,readOnly:i,parser:o,onPatch:s}=n;if(!i&&e!==void 0&&t&&Hl(t)){var a=a6(e,t,r,o);if(a!==void 0){wr("cut",{selection:t,clipboard:a,indentation:r}),yield f1(a);var{operations:l,newSelection:c}=f6(e,t);s(l,(u,d)=>({state:d,selection:c}))}}}),Ug.apply(this,arguments)}function L6(n){return Hg.apply(this,arguments)}function Hg(){return Hg=st(function*(n){var{json:e,selection:t,indentation:r,parser:i}=n,o=a6(e,t,r,i);o!==void 0&&(wr("copy",{clipboard:o,indentation:r}),yield f1(o))}),Hg.apply(this,arguments)}function B6(n){var{clipboardText:e,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onChangeText:a,openRepairModal:l}=n;if(!i)try{c(e)}catch{l(e,d=>{wr("repaired pasted text: ",d),c(d)})}function c(u){if(t!==void 0){var d=r||Et([]),f=d6(t,d,u,o);wr("paste",{pastedText:u,operations:f,ensureSelection:d}),s(f,(h,p)=>{var g=p;return f.filter(v=>(ck(v)||n0(v))&&Cn(v.value)).forEach(v=>{var m=Di(t,v.path);g=No(h,g,m)}),{state:g}})}else wr("paste text",{pastedText:u}),a(e,(h,p)=>{if(h)return{state:No(h,p,[])}})}}function q6(n){var{json:e,text:t,selection:r,keepSelection:i,readOnly:o,onChange:s,onPatch:a}=n;if(!o&&r){var l=e!==void 0&&(zn(r)||Ft(r))?yr(r.path,r.path):r;if(Lt(Ke(r)))wr("remove root",{selection:r}),s&&s({text:"",json:void 0},e!==void 0?{text:void 0,json:e}:{text:t||"",json:e},{contentErrors:void 0,patchResult:void 0});else if(e!==void 0){var{operations:c,newSelection:u}=f6(e,l);wr("remove",{operations:c,selection:r,newSelection:u}),a(c,(d,f)=>({state:f,selection:i?r:u}))}}}function KU(n){var{json:e,selection:t,columns:r,readOnly:i,onPatch:o}=n;if(!i&&e!==void 0&&t&&Hl(t)){var{rowIndex:s,columnIndex:a}=fi(Ke(t),r);wr("duplicate row",{rowIndex:s});var l=[String(s)];o(u6(e,[l]),(c,u)=>({state:u,selection:Et(la({rowIndex:s<e.length?s+1:s,columnIndex:a},r))}))}}function GU(n){var{json:e,selection:t,columns:r,readOnly:i,onPatch:o}=n;if(!i&&e!==void 0&&t&&Hl(t)){var{rowIndex:s}=fi(Ke(t),r);wr("insert before row",{rowIndex:s}),o(Za(e,[String(s)],[{key:"",value:An(e[0])?{}:""}]))}}function JU(n){var{json:e,selection:t,columns:r,readOnly:i,onPatch:o}=n;if(!i&&e!==void 0&&t&&Hl(t)){var{rowIndex:s,columnIndex:a}=fi(Ke(t),r);wr("insert after row",{rowIndex:s});var l=s+1,c=[String(l)],u=[{key:"",value:An(e[0])?{}:""}];o(l<e.length?Za(e,c,u):Ng(e,[],u),(d,f)=>({state:f,selection:Et(la({rowIndex:l,columnIndex:a},r))}))}}function QU(n){var{json:e,selection:t,columns:r,readOnly:i,onPatch:o}=n;if(!i&&e!==void 0&&t&&Hl(t)){var{rowIndex:s,columnIndex:a}=fi(Ke(t),r);wr("remove row",{rowIndex:s}),o(Kf([[String(s)]]),(l,c)=>{var u=s<l.length?s:s>0?s-1:void 0,d=u!==void 0?Et(la({rowIndex:u,columnIndex:a},r)):void 0;return wr("remove row new selection",{rowIndex:s,newRowIndex:u,newSelection:d}),{state:c,selection:d}})}}function eh(n){var{insertType:e,selectInside:t,initialValue:r,json:i,selection:o,readOnly:s,parser:a,onPatch:l,onReplaceJson:c}=n;if(!s){var u=function(g,v,m){if(m==="object")return{};if(m==="array")return[];if(m==="structure"&&g!==void 0){var y=v?o6(v):[],b=De(g,y);if(Array.isArray(b)&&!Lt(b)){var j=Lo(b);return Cn(j)?I5(j,x=>Array.isArray(x)?[]:Ut(x)?void 0:""):""}}return""}(i,o,e);if(i!==void 0){var d=a.stringify(u),f=d6(i,o,d,a);wr("onInsert",{insertType:e,operations:f,newValue:u,data:d});var h=kt(f.filter(g=>g.op==="add"||g.op==="replace"));l(f,(g,v,m)=>{if(h){var y=Di(g,h.path);if(Cn(u))return{state:io(g,v,y,r1),selection:t?Zo(y):m};if(u===""){var b=Lt(y)?void 0:De(g,_t(y));return{state:io(g,v,y,_g),selection:Ut(b)?o1(y,r):Wf(y,r)}}}}),wr("after patch")}else{wr("onInsert",{insertType:e,newValue:u});var p=[];c(u,(g,v)=>({state:No(g,v,p),selection:Cn(u)?Zo(p):Wf(p)}))}}}function F6(n){return Wg.apply(this,arguments)}function Wg(){return Wg=st(function*(n){var{char:e,selectInside:t,json:r,selection:i,readOnly:o,parser:s,onPatch:a,onReplaceJson:l,onSelect:c}=n;o||(zn(i)?c(Ee(Ee({},i),{},{edit:!0,initialValue:e})):e==="{"?eh({insertType:"object",selectInside:t,initialValue:void 0,json:r,selection:i,readOnly:o,parser:s,onPatch:a,onReplaceJson:l}):e==="["?eh({insertType:"array",selectInside:t,initialValue:void 0,json:r,selection:i,readOnly:o,parser:s,onPatch:a,onReplaceJson:l}):Ft(i)&&r!==void 0?Cn(De(r,i.path))||c(Ee(Ee({},i),{},{edit:!0,initialValue:e})):(wr("onInsertValueWithCharacter",{char:e}),yield function(u){return Kg.apply(this,arguments)}({char:e,json:r,selection:i,readOnly:o,parser:s,onPatch:a,onReplaceJson:l})))}),Wg.apply(this,arguments)}function Kg(){return Kg=st(function*(n){var{char:e,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onReplaceJson:a}=n;i||eh({insertType:"value",selectInside:!1,initialValue:e,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onReplaceJson:a})}),Kg.apply(this,arguments)}function YU(n){ct(n,"svelte-1vjn89h",'.jse-json-preview.svelte-1vjn89h{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;padding:2px;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}')}function XU(n){var e,t;return{c(){e=I("div"),t=Se(n[0]),w(e,"class","jse-json-preview svelte-1vjn89h")},m(r,i){K(r,e,i),O(e,t)},p(r,i){var[o]=i;1&o&&Xe(t,r[0])},i:ke,o:ke,d(r){r&&W(e)}}}function ZU(n,e,t){var r,i,{text:o}=e,{json:s}=e,{indentation:a}=e,{parser:l}=e;return n.$$set=c=>{"text"in c&&t(1,o=c.text),"json"in c&&t(2,s=c.json),"indentation"in c&&t(3,a=c.indentation),"parser"in c&&t(4,l=c.parser)},n.$$.update=()=>{6&n.$$.dirty&&t(5,r=s!==void 0?{json:s}:{text:o||""}),56&n.$$.dirty&&t(0,i=Jo(Sg(r,a,l),Og))},[i,o,s,a,l,r]}class V6 extends et{constructor(e){super(),Ze(this,e,ZU,XU,Hn,{text:1,json:2,indentation:3,parser:4},YU)}}function eH(n){ct(n,"svelte-1idfykj",'button.jse-context-menu-button.svelte-1idfykj{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-1idfykj:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-1idfykj:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-1idfykj:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-1idfykj{text-align:left}button.jse-context-menu-button.svelte-1idfykj svg{width:16px}')}function oj(n){var e,t;return e=new Mt({props:{data:n[0].icon}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.data=r[0].icon),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function sj(n){var e,t=n[0].text+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=r[0].text+"")&&Xe(e,t)},d(r){r&&W(e)}}}function tH(n){var e,t,r,i,o,s,a,l,c=n[0].icon&&oj(n),u=n[0].text&&sj(n);return{c(){e=I("button"),c&&c.c(),t=ne(),u&&u.c(),w(e,"type","button"),w(e,"class",r=Fr(Wi("jse-context-menu-button",n[1],n[0].className))+" svelte-1idfykj"),w(e,"title",i=n[0].title),e.disabled=o=n[0].disabled||!1},m(d,f){K(d,e,f),c&&c.m(e,null),O(e,t),u&&u.m(e,null),s=!0,a||(l=ve(e,"click",n[3]),a=!0)},p(d,f){var[h]=f;d[0].icon?c?(c.p(d,h),1&h&&$(c,1)):((c=oj(d)).c(),$(c,1),c.m(e,t)):c&&(be(),C(c,1,1,()=>{c=null}),xe()),d[0].text?u?u.p(d,h):((u=sj(d)).c(),u.m(e,null)):u&&(u.d(1),u=null),(!s||3&h&&r!==(r=Fr(Wi("jse-context-menu-button",d[1],d[0].className))+" svelte-1idfykj"))&&w(e,"class",r),(!s||1&h&&i!==(i=d[0].title))&&w(e,"title",i),(!s||1&h&&o!==(o=d[0].disabled||!1))&&(e.disabled=o)},i(d){s||($(c),s=!0)},o(d){C(c),s=!1},d(d){d&&W(e),c&&c.d(),u&&u.d(),a=!1,l()}}}function nH(n,e,t){var{item:r}=e,{className:i}=e,{onRequestClose:o}=e;return n.$$set=s=>{"item"in s&&t(0,r=s.item),"className"in s&&t(1,i=s.className),"onRequestClose"in s&&t(2,o=s.onRequestClose)},[r,i,o,s=>{o(),r.onClick(s)}]}class p1 extends et{constructor(e){super(),Ze(this,e,nH,tH,Hn,{item:0,className:1,onRequestClose:2},eH)}}function rH(n){ct(n,"svelte-11rxb2m",'.jse-dropdown-button.svelte-11rxb2m.svelte-11rxb2m{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-11rxb2m ul.svelte-11rxb2m{margin:0;padding:0}.jse-dropdown-button.svelte-11rxb2m ul li.svelte-11rxb2m{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.svelte-11rxb2m{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));border-radius:0}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.jse-visible.svelte-11rxb2m{background:var(--jse-context-menu-background, #656565)}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.svelte-11rxb2m:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.svelte-11rxb2m:focus{z-index:1}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.svelte-11rxb2m:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items.svelte-11rxb2m{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items.jse-visible.svelte-11rxb2m{display:block}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items button.svelte-11rxb2m{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding, 10px);margin:0}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items button.svelte-11rxb2m:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items button.svelte-11rxb2m:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}')}function aj(n,e,t){var r=n.slice();return r[11]=e[t],r}var iH=n=>({}),lj=n=>({});function cj(n){var e,t;return e=new Mt({props:{data:n[11].icon}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.data=r[11].icon),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function uj(n){var e,t,r,i,o,s,a,l,c,u,d,f=n[11].text+"",h=n[11].icon&&cj(n);function p(){for(var g=arguments.length,v=new Array(g),m=0;m<g;m++)v[m]=arguments[m];return n[9](n[11],...v)}return{c(){e=I("li"),t=I("button"),h&&h.c(),r=ne(),i=Se(f),l=ne(),w(t,"type","button"),w(t,"title",o=n[11].title),t.disabled=s=n[11].disabled,w(t,"class",a=Fr(n[11].className)+" svelte-11rxb2m"),w(e,"class","svelte-11rxb2m")},m(g,v){K(g,e,v),O(e,t),h&&h.m(t,null),O(t,r),O(t,i),O(e,l),c=!0,u||(d=ve(t,"click",p),u=!0)},p(g,v){(n=g)[11].icon?h?(h.p(n,v),1&v&&$(h,1)):((h=cj(n)).c(),$(h,1),h.m(t,r)):h&&(be(),C(h,1,1,()=>{h=null}),xe()),(!c||1&v)&&f!==(f=n[11].text+"")&&Xe(i,f),(!c||1&v&&o!==(o=n[11].title))&&w(t,"title",o),(!c||1&v&&s!==(s=n[11].disabled))&&(t.disabled=s),(!c||1&v&&a!==(a=Fr(n[11].className)+" svelte-11rxb2m"))&&w(t,"class",a)},i(g){c||($(h),c=!0)},o(g){C(h),c=!1},d(g){g&&W(e),h&&h.d(),u=!1,d()}}}function oH(n){var e,t,r,i,o,s,a,l,c,u,d=n[8].defaultItem,f=yn(d,n,n[7],lj);i=new Mt({props:{data:pi}});for(var h=ut(n[0]),p=[],g=0;g<h.length;g+=1)p[g]=uj(aj(n,h,g));var v=m=>C(p[m],1,1,()=>{p[m]=null});return{c(){e=I("div"),f&&f.c(),t=ne(),r=I("button"),ue(i.$$.fragment),o=ne(),s=I("div"),a=I("ul");for(var m=0;m<p.length;m+=1)p[m].c();w(r,"type","button"),w(r,"class","jse-open-dropdown svelte-11rxb2m"),w(r,"data-type","jse-open-dropdown"),r.disabled=n[4],he(r,"jse-visible",n[3]),w(a,"class","svelte-11rxb2m"),w(s,"class","jse-dropdown-items svelte-11rxb2m"),xr(s,"width",n[2]),he(s,"jse-visible",n[3]),w(e,"role","button"),w(e,"tabindex","0"),w(e,"class","jse-dropdown-button svelte-11rxb2m"),w(e,"title",n[1])},m(m,y){K(m,e,y),f&&f.m(e,null),O(e,t),O(e,r),le(i,r,null),O(e,o),O(e,s),O(s,a);for(var b=0;b<p.length;b+=1)p[b]&&p[b].m(a,null);l=!0,c||(u=[ve(r,"click",n[5]),ve(e,"click",n[6])],c=!0)},p(m,y){var[b]=y;if(f&&f.p&&(!l||128&b)&&xn(f,d,m,m[7],l?bn(d,m[7],b,iH):wn(m[7]),lj),(!l||16&b)&&(r.disabled=m[4]),(!l||8&b)&&he(r,"jse-visible",m[3]),1&b){var j;for(h=ut(m[0]),j=0;j<h.length;j+=1){var x=aj(m,h,j);p[j]?(p[j].p(x,b),$(p[j],1)):(p[j]=uj(x),p[j].c(),$(p[j],1),p[j].m(a,null))}for(be(),j=h.length;j<p.length;j+=1)v(j);xe()}(!l||4&b)&&xr(s,"width",m[2]),(!l||8&b)&&he(s,"jse-visible",m[3]),(!l||2&b)&&w(e,"title",m[1])},i(m){if(!l){$(f,m),$(i.$$.fragment,m);for(var y=0;y<h.length;y+=1)$(p[y]);l=!0}},o(m){C(f,m),C(i.$$.fragment,m),p=p.filter(Boolean);for(var y=0;y<p.length;y+=1)C(p[y]);l=!1},d(m){m&&W(e),f&&f.d(m),ce(i),Ln(p,m),c=!1,tn(u)}}}function sH(n,e,t){var r,{$$slots:i={},$$scope:o}=e,{items:s=[]}=e,{title:a}=e,{width:l="120px"}=e,c=!1;function u(){t(3,c=!1)}function d(f){Go(f)==="Escape"&&(f.preventDefault(),t(3,c=!1))}return Vr(()=>{document.addEventListener("click",u),document.addEventListener("keydown",d)}),ri(()=>{document.removeEventListener("click",u),document.removeEventListener("keydown",d)}),n.$$set=f=>{"items"in f&&t(0,s=f.items),"title"in f&&t(1,a=f.title),"width"in f&&t(2,l=f.width),"$$scope"in f&&t(7,o=f.$$scope)},n.$$.update=()=>{1&n.$$.dirty&&t(4,r=s.every(f=>f.disabled===!0))},[s,a,l,c,r,function(){var f=c;setTimeout(()=>t(3,c=!f))},u,o,i,(f,h)=>f.onClick(h)]}class aH extends et{constructor(e){super(),Ze(this,e,sH,oH,yt,{items:0,title:1,width:2},rH)}}function lH(n){ct(n,"svelte-1idfykj",'button.jse-context-menu-button.svelte-1idfykj{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-1idfykj:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-1idfykj:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-1idfykj:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-1idfykj{text-align:left}button.jse-context-menu-button.svelte-1idfykj svg{width:16px}')}function dj(n){var e,t;return e=new Mt({props:{data:n[0].main.icon}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.data=r[0].main.icon),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function cH(n){var e,t,r,i,o,s,a,l,c,u=n[0].main.text+"",d=n[0].main.icon&&dj(n);return{c(){e=I("button"),d&&d.c(),t=ne(),r=Se(u),w(e,"class",i=Fr(Wi("jse-context-menu-button",n[1],n[0].main.className))+" svelte-1idfykj"),w(e,"type","button"),w(e,"slot","defaultItem"),w(e,"title",o=n[0].main.title),e.disabled=s=n[0].main.disabled||!1},m(f,h){K(f,e,h),d&&d.m(e,null),O(e,t),O(e,r),a=!0,l||(c=ve(e,"click",n[4]),l=!0)},p(f,h){f[0].main.icon?d?(d.p(f,h),1&h&&$(d,1)):((d=dj(f)).c(),$(d,1),d.m(e,t)):d&&(be(),C(d,1,1,()=>{d=null}),xe()),(!a||1&h)&&u!==(u=f[0].main.text+"")&&Xe(r,u),(!a||3&h&&i!==(i=Fr(Wi("jse-context-menu-button",f[1],f[0].main.className))+" svelte-1idfykj"))&&w(e,"class",i),(!a||1&h&&o!==(o=f[0].main.title))&&w(e,"title",o),(!a||1&h&&s!==(s=f[0].main.disabled||!1))&&(e.disabled=s)},i(f){a||($(d),a=!0)},o(f){C(d),a=!1},d(f){f&&W(e),d&&d.d(),l=!1,c()}}}function uH(n){var e,t;return e=new aH({props:{width:n[0].width,items:n[3],$$slots:{defaultItem:[cH]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};1&o&&(s.width=r[0].width),8&o&&(s.items=r[3]),39&o&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function dH(n,e,t){var r,{item:i}=e,{className:o}=e,{onRequestClose:s}=e;return n.$$set=a=>{"item"in a&&t(0,i=a.item),"className"in a&&t(1,o=a.className),"onRequestClose"in a&&t(2,s=a.onRequestClose)},n.$$.update=()=>{5&n.$$.dirty&&t(3,r=i.items.map(a=>Ee(Ee({},a),{},{onClick:l=>{s(),a.onClick(l)}})))},[i,o,s,r,a=>{s(),i.main.onClick(a)}]}class m1 extends et{constructor(e){super(),Ze(this,e,dH,uH,Hn,{item:0,className:1,onRequestClose:2},lH)}}function fH(n){ct(n,"svelte-12z7bz1",'.jse-contextmenu.svelte-12z7bz1.svelte-12z7bz1{box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff))}.jse-contextmenu.svelte-12z7bz1 .jse-row.svelte-12z7bz1{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-12z7bz1 .jse-row div.jse-label.svelte-12z7bz1{flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:var(--jse-context-menu-color-disabled, #9d9d9d);line-height:normal}.jse-contextmenu.svelte-12z7bz1 .jse-row div.jse-tip.svelte-12z7bz1{flex:1;background:var(--jse-context-menu-tip-background, rgba(255, 255, 255, 0.2));color:var(--context-menu-tip-color, inherit);margin:calc(0.5 * var(--jse-padding, 10px));padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:flex-start;gap:var(--jse-padding, 10px);border-radius:3px}.jse-contextmenu.svelte-12z7bz1 .jse-row div.jse-tip div.jse-tip-icon.svelte-12z7bz1{padding-top:calc(0.5 * var(--jse-padding, 10px))}.jse-contextmenu.svelte-12z7bz1 .jse-column.svelte-12z7bz1{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-12z7bz1 .jse-column.svelte-12z7bz1:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color, #7a7a7a)}.jse-contextmenu.svelte-12z7bz1 .jse-separator.svelte-12z7bz1{width:100%;height:1px;background:var(--jse-context-menu-separator-color, #7a7a7a)}')}function fj(n,e,t){var r=n.slice();return r[7]=e[t],r}function hj(n,e,t){var r=n.slice();return r[10]=e[t],r}function pj(n,e,t){var r=n.slice();return r[13]=e[t],r}function hH(n){var e,t=Nl(n[7])+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=Nl(r[7])+"")&&Xe(e,t)},i:ke,o:ke,d(r){r&&W(e)}}}function pH(n){var e;return{c(){w(e=I("div"),"class","jse-separator svelte-12z7bz1")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function mH(n){for(var e,t,r=ut(n[7].items),i=[],o=0;o<r.length;o+=1)i[o]=gj(hj(n,r,o));var s=a=>C(i[a],1,1,()=>{i[a]=null});return{c(){e=I("div");for(var a=0;a<i.length;a+=1)i[a].c();w(e,"class","jse-row svelte-12z7bz1")},m(a,l){K(a,e,l);for(var c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);t=!0},p(a,l){if(3&l){var c;for(r=ut(a[7].items),c=0;c<r.length;c+=1){var u=hj(a,r,c);i[c]?(i[c].p(u,l),$(i[c],1)):(i[c]=gj(u),i[c].c(),$(i[c],1),i[c].m(e,null))}for(be(),c=r.length;c<i.length;c+=1)s(c);xe()}},i(a){if(!t){for(var l=0;l<r.length;l+=1)$(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)C(i[l]);t=!1},d(a){a&&W(e),Ln(i,a)}}}function gH(n){var e,t;return e=new m1({props:{item:n[7],onRequestClose:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.item=r[7]),2&i&&(o.onRequestClose=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function vH(n){var e,t;return e=new p1({props:{item:n[7],onRequestClose:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.item=r[7]),2&i&&(o.onRequestClose=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function yH(n){var e,t=Nl(n[10])+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=Nl(r[10])+"")&&Xe(e,t)},i:ke,o:ke,d(r){r&&W(e)}}}function bH(n){var e;return{c(){w(e=I("div"),"class","jse-separator svelte-12z7bz1")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function xH(n){for(var e,t,r=ut(n[10].items),i=[],o=0;o<r.length;o+=1)i[o]=mj(pj(n,r,o));var s=a=>C(i[a],1,1,()=>{i[a]=null});return{c(){e=I("div");for(var a=0;a<i.length;a+=1)i[a].c();w(e,"class","jse-column svelte-12z7bz1")},m(a,l){K(a,e,l);for(var c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);t=!0},p(a,l){if(3&l){var c;for(r=ut(a[10].items),c=0;c<r.length;c+=1){var u=pj(a,r,c);i[c]?(i[c].p(u,l),$(i[c],1)):(i[c]=mj(u),i[c].c(),$(i[c],1),i[c].m(e,null))}for(be(),c=r.length;c<i.length;c+=1)s(c);xe()}},i(a){if(!t){for(var l=0;l<r.length;l+=1)$(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)C(i[l]);t=!1},d(a){a&&W(e),Ln(i,a)}}}function wH(n){var e,t;return e=new m1({props:{item:n[10],onRequestClose:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.item=r[10]),2&i&&(o.onRequestClose=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function jH(n){var e,t;return e=new p1({props:{item:n[10],onRequestClose:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.item=r[10]),2&i&&(o.onRequestClose=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function $H(n){var e,t=Nl(n[13])+"";return{c(){e=Se(t)},m(r,i){K(r,e,i)},p(r,i){1&i&&t!==(t=Nl(r[13])+"")&&Xe(e,t)},i:ke,o:ke,d(r){r&&W(e)}}}function kH(n){var e,t,r=n[13].text+"";return{c(){e=I("div"),t=Se(r),w(e,"class","jse-label svelte-12z7bz1")},m(i,o){K(i,e,o),O(e,t)},p(i,o){1&o&&r!==(r=i[13].text+"")&&Xe(t,r)},i:ke,o:ke,d(i){i&&W(e)}}}function CH(n){var e;return{c(){w(e=I("div"),"class","jse-separator svelte-12z7bz1")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function SH(n){var e,t;return e=new m1({props:{className:"left",item:n[13],onRequestClose:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.item=r[13]),2&i&&(o.onRequestClose=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function OH(n){var e,t;return e=new p1({props:{className:"left",item:n[13],onRequestClose:n[1]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i&&(o.item=r[13]),2&i&&(o.onRequestClose=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function mj(n){var e,t,r,i,o,s,a,l,c=[OH,SH,CH,kH,$H],u=[];function d(f,h){return 1&h&&(e=null),1&h&&(t=null),1&h&&(r=null),1&h&&(i=null),e==null&&(e=!!Su(f[13])),e?0:(t==null&&(t=!!Jv(f[13])),t?1:(r==null&&(r=!!Ih(f[13])),r?2:(i==null&&(i=!!LB(f[13])),i?3:4)))}return o=d(n,-1),s=u[o]=c[o](n),{c(){s.c(),a=Bt()},m(f,h){u[o].m(f,h),K(f,a,h),l=!0},p(f,h){var p=o;(o=d(f,h))===p?u[o].p(f,h):(be(),C(u[p],1,1,()=>{u[p]=null}),xe(),(s=u[o])?s.p(f,h):(s=u[o]=c[o](f)).c(),$(s,1),s.m(a.parentNode,a))},i(f){l||($(s),l=!0)},o(f){C(s),l=!1},d(f){f&&W(a),u[o].d(f)}}}function gj(n){var e,t,r,i,o,s,a,l,c=[jH,wH,xH,bH,yH],u=[];function d(f,h){return 1&h&&(e=null),1&h&&(t=null),1&h&&(r=null),1&h&&(i=null),e==null&&(e=!!Su(f[10])),e?0:(t==null&&(t=!!Jv(f[10])),t?1:(r==null&&(r=!!qB(f[10])),r?2:(i==null&&(i=!!Ih(f[10])),i?3:4)))}return o=d(n,-1),s=u[o]=c[o](n),{c(){s.c(),a=Bt()},m(f,h){u[o].m(f,h),K(f,a,h),l=!0},p(f,h){var p=o;(o=d(f,h))===p?u[o].p(f,h):(be(),C(u[p],1,1,()=>{u[p]=null}),xe(),(s=u[o])?s.p(f,h):(s=u[o]=c[o](f)).c(),$(s,1),s.m(a.parentNode,a))},i(f){l||($(s),l=!0)},o(f){C(s),l=!1},d(f){f&&W(a),u[o].d(f)}}}function vj(n){var e,t,r,i,o,s,a,l,c=[vH,gH,mH,pH,hH],u=[];function d(f,h){return 1&h&&(e=null),1&h&&(t=null),1&h&&(r=null),1&h&&(i=null),e==null&&(e=!!Su(f[7])),e?0:(t==null&&(t=!!Jv(f[7])),t?1:(r==null&&(r=!!BB(f[7])),r?2:(i==null&&(i=!!Ih(f[7])),i?3:4)))}return o=d(n,-1),s=u[o]=c[o](n),{c(){s.c(),a=Bt()},m(f,h){u[o].m(f,h),K(f,a,h),l=!0},p(f,h){var p=o;(o=d(f,h))===p?u[o].p(f,h):(be(),C(u[p],1,1,()=>{u[p]=null}),xe(),(s=u[o])?s.p(f,h):(s=u[o]=c[o](f)).c(),$(s,1),s.m(a.parentNode,a))},i(f){l||($(s),l=!0)},o(f){C(s),l=!1},d(f){f&&W(a),u[o].d(f)}}}function yj(n){var e,t,r,i,o,s,a,l;return i=new Mt({props:{data:BE}}),{c(){e=I("div"),t=I("div"),r=I("div"),ue(i.$$.fragment),o=ne(),s=I("div"),a=Se(n[2]),w(r,"class","jse-tip-icon svelte-12z7bz1"),w(s,"class","jse-tip-text"),w(t,"class","jse-tip svelte-12z7bz1"),w(e,"class","jse-row svelte-12z7bz1")},m(c,u){K(c,e,u),O(e,t),O(t,r),le(i,r,null),O(t,o),O(t,s),O(s,a),l=!0},p(c,u){(!l||4&u)&&Xe(a,c[2])},i(c){l||($(i.$$.fragment,c),l=!0)},o(c){C(i.$$.fragment,c),l=!1},d(c){c&&W(e),ce(i)}}}function EH(n){for(var e,t,r,i,o,s=ut(n[0]),a=[],l=0;l<s.length;l+=1)a[l]=vj(fj(n,s,l));var c=d=>C(a[d],1,1,()=>{a[d]=null}),u=n[2]&&yj(n);return{c(){e=I("div");for(var d=0;d<a.length;d+=1)a[d].c();t=ne(),u&&u.c(),w(e,"role","menu"),w(e,"tabindex","-1"),w(e,"class","jse-contextmenu svelte-12z7bz1")},m(d,f){K(d,e,f);for(var h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);O(e,t),u&&u.m(e,null),n[5](e),r=!0,i||(o=ve(e,"keydown",n[4]),i=!0)},p(d,f){var[h]=f;if(3&h){var p;for(s=ut(d[0]),p=0;p<s.length;p+=1){var g=fj(d,s,p);a[p]?(a[p].p(g,h),$(a[p],1)):(a[p]=vj(g),a[p].c(),$(a[p],1),a[p].m(e,t))}for(be(),p=s.length;p<a.length;p+=1)c(p);xe()}d[2]?u?(u.p(d,h),4&h&&$(u,1)):((u=yj(d)).c(),$(u,1),u.m(e,null)):u&&(be(),C(u,1,1,()=>{u=null}),xe())},i(d){if(!r){for(var f=0;f<s.length;f+=1)$(a[f]);$(u),r=!0}},o(d){a=a.filter(Boolean);for(var f=0;f<a.length;f+=1)C(a[f]);C(u),r=!1},d(d){d&&W(e),Ln(a,d),u&&u.d(),n[5](null),i=!1,o()}}}function Nl(n){return console.error("Unknown type of context menu item",n),"???"}function AH(n,e,t){var r,{items:i}=e,{onRequestClose:o}=e,{tip:s}=e;Vr(()=>{var l=Array.from(r.querySelectorAll("button")).find(c=>!c.disabled);l&&l.focus()});var a={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};return n.$$set=l=>{"items"in l&&t(0,i=l.items),"onRequestClose"in l&&t(1,o=l.onRequestClose),"tip"in l&&t(2,s=l.tip)},[i,o,s,r,function(l){var c=Go(l),u=a[c];if(u&&l.target){l.preventDefault();var d=ZL({allElements:Array.from(r.querySelectorAll("button:not([disabled])")),currentElement:l.target,direction:u,hasPrio:f=>f.getAttribute("data-type")!=="jse-open-dropdown"});d&&d.focus()}},function(l){xt[l?"unshift":"push"](()=>{t(3,r=l)})}]}class U6 extends et{constructor(e){super(),Ze(this,e,AH,EH,yt,{items:0,onRequestClose:1,tip:2},fH)}}var{window:MH}=Iv;function PH(n){ct(n,"svelte-vrx1dr",'.jse-tree-mode.svelte-vrx1dr.svelte-vrx1dr{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px))}.jse-tree-mode.svelte-vrx1dr .jse-hidden-input-label .jse-hidden-input.svelte-vrx1dr{position:fixed;top:-10px;left:-10px;width:1px;height:1px;padding:0;border:0;outline:none}.jse-tree-mode.no-main-menu.svelte-vrx1dr.svelte-vrx1dr{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-search-box-container.svelte-vrx1dr{position:relative;height:0;top:var(--jse-padding, 10px);margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-tree-mode.svelte-vrx1dr .jse-contents.svelte-vrx1dr{flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-contents.svelte-vrx1dr:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-contents .jse-loading-space.svelte-vrx1dr{flex:1}.jse-tree-mode.svelte-vrx1dr .jse-contents .jse-loading.svelte-vrx1dr{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-tree-mode.svelte-vrx1dr .jse-contents .jse-search-box-background.svelte-vrx1dr{border:50px solid var(--jse-modal-background, #f5f5f5);margin:-2px;margin-bottom:2px;display:inline-block}')}function bj(n){var e,t,r;function i(s){n[79](s)}var o={json:n[11],selection:n[12],readOnly:n[0],historyState:n[24],onExpandAll:n[41],onCollapseAll:n[42],onUndo:n[36],onRedo:n[37],onSort:n[38],onTransform:n[39],onContextMenu:n[46],onCopy:n[33],onRenderMenu:n[7]};return n[13]!==void 0&&(o.showSearch=n[13]),e=new pU({props:o}),xt.push(()=>Lr(e,"showSearch",i)),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),r=!0},p(s,a){var l={};2048&a[0]&&(l.json=s[11]),4096&a[0]&&(l.selection=s[12]),1&a[0]&&(l.readOnly=s[0]),16777216&a[0]&&(l.historyState=s[24]),128&a[0]&&(l.onRenderMenu=s[7]),!t&&8192&a[0]&&(t=!0,l.showSearch=s[13],zr(()=>t=!1)),e.$set(l)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),r=!1},d(s){ce(e,s)}}}function xj(n){var e,t;return e=new NU({props:{json:n[11],selection:n[12],onSelect:n[50],onError:n[6],pathParser:n[4]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};2048&i[0]&&(o.json=r[11]),4096&i[0]&&(o.selection=r[12]),64&i[0]&&(o.onError=r[6]),16&i[0]&&(o.pathParser=r[4]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function _H(n){var e;return{c(){(e=I("div")).innerHTML='<div class="jse-loading-space svelte-vrx1dr"></div> <div class="jse-loading svelte-vrx1dr">loading...</div>',w(e,"class","jse-contents svelte-vrx1dr")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function TH(n){var e,t,r,i,o,s,a,l,c,u=[NH,RH],d=[];function f(h,p){return h[11]===void 0?0:1}return i=f(n),o=d[i]=u[i](n),{c(){e=I("label"),t=I("input"),r=ne(),o.c(),s=Bt(),w(t,"type","text"),t.readOnly=!0,w(t,"tabindex","-1"),w(t,"class","jse-hidden-input svelte-vrx1dr"),w(e,"class","jse-hidden-input-label")},m(h,p){K(h,e,p),O(e,t),n[80](t),K(h,r,p),d[i].m(h,p),K(h,s,p),a=!0,l||(c=ve(t,"paste",n[34]),l=!0)},p(h,p){var g=i;(i=f(h))===g?d[i].p(h,p):(be(),C(d[g],1,1,()=>{d[g]=null}),xe(),(o=d[i])?o.p(h,p):(o=d[i]=u[i](h)).c(),$(o,1),o.m(s.parentNode,s))},i(h){a||($(o),a=!0)},o(h){C(o),a=!1},d(h){h&&(W(e),W(r),W(s)),n[80](null),d[i].d(h),l=!1,c()}}}function RH(n){var e,t,r,i,o,s,a,l,c,u,d;t=new N6({props:{json:n[11],documentState:n[20],parser:n[3],showSearch:n[13],showReplace:n[23],readOnly:n[0],columns:void 0,onSearch:n[29],onFocus:n[30],onPatch:n[40],onClose:n[31]}});var f=n[13]&&wj();s=new d1({props:{value:n[11],pointer:"",state:n[20],validationErrors:n[27],searchResults:n[22],selection:n[12],context:n[14],onDragSelectionStart:tr}});var h=n[21]&&jj(n),p=n[25]&&$j(n);return u=new u1({props:{validationErrors:n[26],selectError:n[32]}}),{c(){e=I("div"),ue(t.$$.fragment),r=ne(),i=I("div"),f&&f.c(),o=ne(),ue(s.$$.fragment),a=ne(),h&&h.c(),l=ne(),p&&p.c(),c=ne(),ue(u.$$.fragment),w(e,"class","jse-search-box-container svelte-vrx1dr"),w(i,"class","jse-contents svelte-vrx1dr"),w(i,"data-jsoneditor-scrollable-contents",!0)},m(g,v){K(g,e,v),le(t,e,null),K(g,r,v),K(g,i,v),f&&f.m(i,null),O(i,o),le(s,i,null),n[84](i),K(g,a,v),h&&h.m(g,v),K(g,l,v),p&&p.m(g,v),K(g,c,v),le(u,g,v),d=!0},p(g,v){var m={};2048&v[0]&&(m.json=g[11]),1048576&v[0]&&(m.documentState=g[20]),8&v[0]&&(m.parser=g[3]),8192&v[0]&&(m.showSearch=g[13]),8388608&v[0]&&(m.showReplace=g[23]),1&v[0]&&(m.readOnly=g[0]),t.$set(m),g[13]?f||((f=wj()).c(),f.m(i,o)):f&&(f.d(1),f=null);var y={};2048&v[0]&&(y.value=g[11]),1048576&v[0]&&(y.state=g[20]),134217728&v[0]&&(y.validationErrors=g[27]),4194304&v[0]&&(y.searchResults=g[22]),4096&v[0]&&(y.selection=g[12]),16384&v[0]&&(y.context=g[14]),s.$set(y),g[21]?h?(h.p(g,v),2097152&v[0]&&$(h,1)):((h=jj(g)).c(),$(h,1),h.m(l.parentNode,l)):h&&(be(),C(h,1,1,()=>{h=null}),xe()),g[25]?p?(p.p(g,v),33554432&v[0]&&$(p,1)):((p=$j(g)).c(),$(p,1),p.m(c.parentNode,c)):p&&(be(),C(p,1,1,()=>{p=null}),xe());var b={};67108864&v[0]&&(b.validationErrors=g[26]),u.$set(b)},i(g){d||($(t.$$.fragment,g),$(s.$$.fragment,g),$(h),$(p),$(u.$$.fragment,g),d=!0)},o(g){C(t.$$.fragment,g),C(s.$$.fragment,g),C(h),C(p),C(u.$$.fragment,g),d=!1},d(g){g&&(W(e),W(r),W(i),W(a),W(l),W(c)),ce(t),f&&f.d(),ce(s),n[84](null),h&&h.d(g),p&&p.d(g),ce(u,g)}}}function NH(n){var e,t,r,i,o=[IH,DH],s=[];function a(l,c){return l[19]===""||l[19]===void 0?0:1}return e=a(n),t=s[e]=o[e](n),{c(){t.c(),r=Bt()},m(l,c){s[e].m(l,c),K(l,r,c),i=!0},p(l,c){var u=e;(e=a(l))===u?s[e].p(l,c):(be(),C(s[u],1,1,()=>{s[u]=null}),xe(),(t=s[e])?t.p(l,c):(t=s[e]=o[e](l)).c(),$(t,1),t.m(r.parentNode,r))},i(l){i||($(t),i=!0)},o(l){C(t),i=!1},d(l){l&&W(r),s[e].d(l)}}}function wj(n){var e;return{c(){w(e=I("div"),"class","jse-search-box-background svelte-vrx1dr")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function jj(n){var e,t;return e=new Gi({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(n[21].contents)?"array":"object"," as text"),actions:[{icon:uh,text:"Paste as JSON instead",title:"Replace the value with the pasted JSON",onMouseDown:n[47]},{text:"Leave as is",title:"Keep the JSON embedded in the value",onClick:n[48]}]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};2097152&i[0]&&(o.message="You pasted a JSON ".concat(Array.isArray(r[21].contents)?"array":"object"," as text")),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function $j(n){var e,t;return e=new Gi({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:Nc,text:"Ok",title:"Accept the repaired document",onClick:n[8]},{icon:Ps,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:n[49]}],onClose:n[9]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i[0]&&(o.actions=r[0]?[]:[{icon:Nc,text:"Ok",title:"Accept the repaired document",onClick:r[8]},{icon:Ps,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:r[49]}]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function DH(n){var e,t,r,i;return e=new Gi({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:Ps,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:n[49]}]}}),r=new V6({props:{text:n[19],json:n[11],indentation:n[5],parser:n[3]}}),{c(){ue(e.$$.fragment),t=ne(),ue(r.$$.fragment)},m(o,s){le(e,o,s),K(o,t,s),le(r,o,s),i=!0},p(o,s){var a={};1&s[0]&&(a.actions=o[0]?[]:[{icon:Ps,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:o[49]}]),e.$set(a);var l={};524288&s[0]&&(l.text=o[19]),2048&s[0]&&(l.json=o[11]),32&s[0]&&(l.indentation=o[5]),8&s[0]&&(l.parser=o[3]),r.$set(l)},i(o){i||($(e.$$.fragment,o),$(r.$$.fragment,o),i=!0)},o(o){C(e.$$.fragment,o),C(r.$$.fragment,o),i=!1},d(o){o&&W(t),ce(e,o),ce(r,o)}}}function IH(n){var e,t;return e=new yU({props:{readOnly:n[0],onCreateObject:n[81],onCreateArray:n[82],onClick:n[83]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i[0]&&(o.readOnly=r[0]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function kj(n){var e,t;return e=new M6({props:{onClose:n[86]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};131072&i[0]&&(o.onClose=r[86]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Cj(n){for(var e,t,r=[n[18],{onClose:n[87]}],i={},o=0;o<r.length;o+=1)i=Yn(i,r[o]);return e=new P6({props:i}),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),t=!0},p(s,a){var l=262144&a[0]?Ur(r,[262144&a[0]&&wo(s[18]),{onClose:s[87]}]):{};e.$set(l)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function zH(n){var e,t,r,i,o,s,a,l,c,u,d,f=n[1]&&bj(n),h=n[2]&&xj(n),p=[TH,_H],g=[];i=function(y){return y[28]?1:0}(n),o=g[i]=p[i](n);var v=n[17]&&kj(n),m=n[18]&&Cj(n);return{c(){e=I("div"),f&&f.c(),t=ne(),h&&h.c(),r=ne(),o.c(),s=ne(),v&&v.c(),a=ne(),m&&m.c(),l=Bt(),w(e,"role","tree"),w(e,"tabindex","-1"),w(e,"class","jse-tree-mode svelte-vrx1dr"),he(e,"no-main-menu",!n[1])},m(y,b){K(y,e,b),f&&f.m(e,null),O(e,t),h&&h.m(e,null),O(e,r),g[i].m(e,null),n[85](e),K(y,s,b),v&&v.m(y,b),K(y,a,b),m&&m.m(y,b),K(y,l,b),c=!0,u||(d=[ve(MH,"mousedown",n[51]),ve(e,"keydown",n[43]),ve(e,"mousedown",n[44]),ve(e,"contextmenu",n[45])],u=!0)},p(y,b){y[1]?f?(f.p(y,b),2&b[0]&&$(f,1)):((f=bj(y)).c(),$(f,1),f.m(e,t)):f&&(be(),C(f,1,1,()=>{f=null}),xe()),y[2]?h?(h.p(y,b),4&b[0]&&$(h,1)):((h=xj(y)).c(),$(h,1),h.m(e,r)):h&&(be(),C(h,1,1,()=>{h=null}),xe()),o.p(y,b),(!c||2&b[0])&&he(e,"no-main-menu",!y[1]),y[17]?v?(v.p(y,b),131072&b[0]&&$(v,1)):((v=kj(y)).c(),$(v,1),v.m(a.parentNode,a)):v&&(be(),C(v,1,1,()=>{v=null}),xe()),y[18]?m?(m.p(y,b),262144&b[0]&&$(m,1)):((m=Cj(y)).c(),$(m,1),m.m(l.parentNode,l)):m&&(be(),C(m,1,1,()=>{m=null}),xe())},i(y){c||($(f),$(h),$(o),$(v),$(m),c=!0)},o(y){C(f),C(h),C(o),C(v),C(m),c=!1},d(y){y&&(W(e),W(s),W(a),W(l)),f&&f.d(),h&&h.d(),g[i].d(),n[85](null),v&&v.d(y),m&&m.d(y),u=!1,tn(d)}}}function LH(n,e,t){var r,i=Zn("jsoneditor:TreeMode"),o=typeof window>"u";i("isSSR:",o);var s,a,l,c,u,d=gl(),f=gl(),{openAbsolutePopup:h,closeAbsolutePopup:p}=Hs("absolute-popup"),g=!1,v=S6(),{readOnly:m}=e,{externalContent:y}=e,{externalSelection:b}=e,{mainMenuBar:j}=e,{navigationBar:x}=e,{escapeControlCharacters:S}=e,{escapeUnicodeCharacters:_}=e,{parser:B}=e,{parseMemoizeOne:R}=e,{validator:F}=e,{validationParser:Q}=e,{pathParser:Z}=e,{indentation:J}=e,{onError:U}=e,{onChange:T}=e,{onChangeMode:re}=e,{onSelect:ie}=e,{onRenderValue:G}=e,{onRenderMenu:L}=e,{onRenderContextMenu:M}=e,{onClassName:E}=e,{onFocus:ee}=e,{onBlur:H}=e,{onSortModal:k}=e,{onTransformModal:P}=e,{onJSONEditorModal:D}=e,N=!1,se=!1,$e=void 0;c1({onMount:Vr,onDestroy:ri,getWindow:()=>ku(l),hasFocus:()=>N&&document.hasFocus()||Vv(l),onFocus:()=>{g=!0,ee&&ee()},onBlur:()=>{g=!1,H&&H()}});var Y,Pe,Ve,wt,jt,at=void 0,Fe=!1,ye=Pg({json:c});function Gt(z){t(12,Y=z)}var Me=!1,At=!1;function Ce(){return(Ce=st(function*(z){t(20,ye=io(c,ye,z,_g)),yield Qi(z)})).apply(this,arguments)}var Je=O6({onChange:z=>{t(24,ae=z)}}),ae=Je.getState();function mt(z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kx;i("expand"),t(20,ye=io(c,ye,z,de))}function we(z,de){t(20,ye=Vx(c,ye,z,de)),Y&&function(Oe,ze){return Yo(Ke(Oe),ze)&&(Ke(Oe).length>ze.length||En(Oe))}(Y,z)&&t(12,Y=void 0)}var A,V,X=!1,oe=[],me=du(E6);function Te(z,de,Oe,ze){el(()=>{var Be;try{Be=me(z,de,Oe,ze)}catch(Le){Be=[{path:[],message:"Failed to validate: "+Le.message,severity:zi.warning}]}Ct(Be,oe)||(i("validationErrors changed:",Be),t(26,oe=Be),t(27,A=function(Le,gt){var pt;return gt.forEach(Pt=>{pt=K2(Le,pt,Pt.path,(On,jn)=>Ee(Ee({},jn),{},{validationError:Pt}))}),gt.forEach(Pt=>{for(var On=Pt.path;On.length>0;)On=_t(On),pt=K2(Le,pt,On,(jn,Nn)=>Nn.validationError?Nn:Ee(Ee({},Nn),{},{validationError:{isChildError:!0,path:On,message:"Contains invalid data",severity:zi.warning}}))}),pt}(z,oe)))},Be=>i("validationErrors updated in ".concat(Be," ms")))}function nt(){return i("validate"),at?{parseError:at,isRepairable:!1}:(Te(c,F,B,Q),Lt(oe)?void 0:{validationErrors:oe})}function dt(){return c}function cn(){return ye}function Bn(){return Y}function Ht(z){i("applyExternalContent",{updatedContent:z}),Zc(z)?function(de){if(de!==void 0){var Oe=!Ct(c,de);if(i("update external json",{isChanged:Oe,currentlyText:c===void 0}),!!Oe){var ze={documentState:ye,selection:Y,json:c,text:u,textIsRepaired:X};t(11,c=de),t(20,ye=Zr(de,ye)),Qe(c),t(19,u=void 0),t(25,X=!1),at=void 0,$t(c),Pn(ze)}}}(z.json):El(z)&&function(de){if(!(de===void 0||Zc(y))){var Oe=de!==u;if(i("update external text",{isChanged:Oe}),!!Oe){var ze={documentState:ye,selection:Y,json:c,text:u,textIsRepaired:X};try{t(11,c=R(de)),t(20,ye=Zr(c,ye)),Qe(c),t(19,u=de),t(25,X=!1),at=void 0}catch(Be){try{t(11,c=R(mo(de))),t(20,ye=Zr(c,ye)),Qe(c),t(19,u=de),t(25,X=!0),at=void 0,$t(c)}catch{t(11,c=void 0),t(20,ye=void 0),t(19,u=y.text),t(25,X=!1),at=u!==void 0&&u!==""?Ol(u,Be.message||String(Be)):void 0}}$t(c),Pn(ze)}}}(z.text)}function Qe(z){Fe||(Fe=!0,t(20,ye=No(z,ye,[])))}function $t(z){Y&&(hi(z,ua(Y))&&hi(z,Ke(Y))||(i("clearing selection: path does not exist anymore",Y),t(12,Y=Ia(z,ye))))}function Pn(z){if(z.json!==void 0||z.text!==void 0){var de=c!==void 0&&z.json!==void 0;Je.add({undo:{patch:de?[{op:"replace",path:"",value:z.json}]:void 0,json:z.json,text:z.text,documentState:z.documentState,textIsRepaired:z.textIsRepaired,selection:lo(z.selection),sortedColumn:void 0},redo:{patch:de?[{op:"replace",path:"",value:c}]:void 0,json:c,text:u,documentState:ye,textIsRepaired:X,selection:lo(Y),sortedColumn:void 0}})}}function Hr(z,de){var Oe;if(i("patch",z,de),c===void 0)throw new Error("Cannot apply patch: no JSON");var ze=c,Be={json:void 0,text:u,documentState:ye,selection:lo(Y),textIsRepaired:X,sortedColumn:void 0},Le=h6(c,z),gt=n6(c,ye,z),pt=(Oe=_l(c,z))!==null&&Oe!==void 0?Oe:Y,Pt=typeof de=="function"?de(gt.json,gt.documentState,pt):void 0;return t(11,c=(Pt==null?void 0:Pt.json)!==void 0?Pt.json:gt.json),t(20,ye=(Pt==null?void 0:Pt.state)!==void 0?Pt.state:gt.documentState),t(12,Y=(Pt==null?void 0:Pt.selection)!==void 0?Pt.selection:pt),t(19,u=void 0),t(25,X=!1),t(21,Ve=void 0),at=void 0,$t(c),Je.add({undo:Ee({patch:Le},Be),redo:{patch:z,json:void 0,text:u,documentState:ye,selection:lo(Y),sortedColumn:void 0,textIsRepaired:X}}),{json:c,previousJson:ze,undo:Le,redo:z}}function qn(){!m&&Y&&t(12,Y=o1(Ke(Y)))}function un(){if(!m&&Y){var z=Ke(Y),de=De(c,z);Cn(de)?function(Oe,ze){i("openJSONEditorModal",{path:Oe,value:ze}),N=!0,D({content:{json:ze},path:Oe,onPatch:V.onPatch,onClose:()=>{N=!1,setTimeout(bt)}})}(z,de):t(12,Y=Wf(z))}}function ir(){if(!m&&Ft(Y)){var z=Ke(Y),de=it(z),Oe=De(c,z),ze=!jo(c,ye,z),Be=ze?String(Oe):Vl(String(Oe),B);i("handleToggleEnforceString",{enforceString:ze,value:Oe,updatedValue:Be}),Ge([{op:"replace",path:de,value:Be}],(Le,gt)=>({state:zh(c,gt,z,{type:"value",enforceString:ze})}))}}function nn(){return fe.apply(this,arguments)}function fe(){return fe=st(function*(){var z=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];yield z6({json:c,selection:Y,indentation:z?J:void 0,readOnly:m,parser:B,onPatch:Ge})}),fe.apply(this,arguments)}function Re(){return ft.apply(this,arguments)}function ft(){return ft=st(function*(){var z=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];c!==void 0&&(yield L6({json:c,selection:Y,indentation:z?J:void 0,parser:B}))}),ft.apply(this,arguments)}function qt(){t(17,se=!0)}function Wt(z,de){t(18,$e={text:z,onParse:Oe=>Dh(Oe,ze=>$u(ze,B)),onRepair:F3,onApply:de,onClose:bt})}function en(){q6({json:c,text:u,selection:Y,keepSelection:!1,readOnly:m,onChange:T,onPatch:Ge})}function Xt(){!m&&c!==void 0&&Y&&Hl&&!Lt(Ke(Y))&&(i("duplicate",{selection:Y}),Ge(u6(c,As(c,Y))))}function Cr(){if(!m&&Y&&(Jt(Y)||Ft(Y))&&!Lt(Ke(Y))){i("extract",{selection:Y});var z=function(de,Oe){if(Ft(Oe))return[{op:"move",from:it(Oe.path),path:""}];if(!Jt(Oe))throw new Error("Cannot create extract operations: parent must be an Object or Array");var ze=_t(Oe.focusPath),Be=De(de,ze);if(vn(Be))return[{op:"replace",path:"",value:As(de,Oe).map(gt=>{var pt=rr(kt(gt));return Be[pt]})}];if(An(Be)){var Le={};return As(de,Oe).forEach(gt=>{var pt=String(kt(gt));Le[pt]=Be[pt]}),[{op:"replace",path:"",value:Le}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(Oe))}(c,Y);Ge(z,(de,Oe)=>{if(Cn(de))return{state:No(de,Oe,[])}})}}function or(z){eh({insertType:z,selectInside:!0,initialValue:void 0,json:c,selection:Y,readOnly:m,parser:B,onPatch:Ge,onReplaceJson:ht})}function Mo(z){zn(Y)&&t(12,Y=Et(Y.path)),Y||t(12,Y=Ia(c,ye)),or(z)}function Ji(z){if(!m&&Y)if(xd(Y))try{var de=ua(Y),Oe=De(c,de),ze=function(Le,gt,pt){if(gt==="array"){if(Array.isArray(Le))return Le;if(Ut(Le))return Cx(Le);if(typeof Le=="string")try{var Pt=pt.parse(Le);if(Array.isArray(Pt))return Pt;if(Ut(Pt))return Cx(Pt)}catch{return[Le]}return[Le]}if(gt==="object"){if(Array.isArray(Le))return kx(Le);if(Ut(Le))return Le;if(typeof Le=="string")try{var On=pt.parse(Le);if(Ut(On))return On;if(Array.isArray(On))return kx(On)}catch{return{value:Le}}return{value:Le}}if(gt==="value")return Cn(Le)?pt.stringify(Le):Le;throw new Error("Cannot convert ".concat(Bv(Le,pt)," to ").concat(gt))}(Oe,z,B);if(ze===Oe)return;var Be=[{op:"replace",path:it(de),value:ze}];i("handleConvert",{selection:Y,path:de,type:z,operations:Be}),Ge(Be,(Le,gt)=>({state:Y?No(Le,gt,Ke(Y)):ye}))}catch(Le){U(Le)}else U(new Error("Cannot convert current selection to ".concat(z)))}function Po(){if(Y){var z=Gx(c,ye,Y,!1),de=_t(Ke(Y));z&&!Lt(Ke(z))&&Ct(de,_t(Ke(z)))?t(12,Y=Vo(Ke(z))):t(12,Y=Zo(de)),i("insert before",{selection:Y,selectionBefore:z,parentPath:de}),kn().then(()=>rt())}}function Zt(){if(Y){var z=Ms(c,Y);i("insert after",z),t(12,Y=Vo(z)),kn().then(()=>rt())}}function sr(z){return rs.apply(this,arguments)}function rs(){return(rs=st(function*(z){yield F6({char:z,selectInside:!0,json:c,selection:Y,readOnly:m,parser:B,onPatch:Ge,onReplaceJson:ht,onSelect:Gt})})).apply(this,arguments)}function Wr(){if(!m&&Je.getState().canUndo){var z=Je.undo();if(z){var de={json:c,text:u};t(11,c=z.undo.patch?Ni(c,z.undo.patch):z.undo.json),t(20,ye=z.undo.documentState),t(12,Y=z.undo.selection),t(19,u=z.undo.text),t(25,X=z.undo.textIsRepaired),at=void 0,i("undo",{item:z,json:c,documentState:ye,selection:Y}),_e(de,z.undo.patch&&z.redo.patch?{json:c,previousJson:de.json,redo:z.undo.patch,undo:z.redo.patch}:void 0),bt(),Y&&Qi(Ke(Y),!1)}}}function is(){if(!m&&Je.getState().canRedo){var z=Je.redo();if(z){var de={json:c,text:u};t(11,c=z.redo.patch?Ni(c,z.redo.patch):z.redo.json),t(20,ye=z.redo.documentState),t(12,Y=z.redo.selection),t(19,u=z.redo.text),t(25,X=z.redo.textIsRepaired),at=void 0,i("redo",{item:z,json:c,documentState:ye,selection:Y}),_e(de,z.undo.patch&&z.redo.patch?{json:c,previousJson:de.json,redo:z.redo.patch,undo:z.undo.patch}:void 0),bt(),Y&&Qi(Ke(Y),!1)}}}function Kr(z){var de;m||c===void 0||(N=!0,k({id:d,json:c,rootPath:z,onSort:(de=st(function*(Oe){var{operations:ze}=Oe;i("onSort",z,ze),Ge(ze,(Be,Le)=>({state:No(Be,Le,z),selection:Et(z)}))}),function(Oe){return de.apply(this,arguments)}),onClose:()=>{N=!1,setTimeout(bt)}}))}function Ma(){Y&&Kr(Qx(c,Y))}function si(z){if(c!==void 0){var{id:de,onTransform:Oe,onClose:ze}=z,Be=z.rootPath||[];N=!0,P({id:de||f,json:c,rootPath:Be,onTransform:Le=>{Oe?Oe({operations:Le,json:c,transformedJson:Ni(c,Le)}):(i("onTransform",Be,Le),Ge(Le,(gt,pt)=>({state:No(gt,pt,Be),selection:Et(Be)})))},onClose:()=>{N=!1,setTimeout(bt),ze&&ze()}})}}function Kl(){Y&&si({rootPath:Qx(c,Y)})}function Qi(z){return os.apply(this,arguments)}function os(){return os=st(function*(z){var de=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];t(20,ye=io(c,ye,z,_g)),yield kn();var Oe=Gr(z);if(i("scrollTo",{path:z,elem:Oe,refContents:s}),!Oe||!s)return Promise.resolve();var ze=s.getBoundingClientRect(),Be=Oe.getBoundingClientRect();if(!de&&Be.bottom>ze.top&&Be.top<ze.bottom)return Promise.resolve();var Le=-ze.height/4;return new Promise(gt=>{v(Oe,{container:s,offset:Le,duration:300,callback:()=>gt()})})}),os.apply(this,arguments)}function Gr(z){var de,Oe;return(de=(Oe=s)===null||Oe===void 0?void 0:Oe.querySelector('div[data-path="'.concat(Vf(z),'"]')))!==null&&de!==void 0?de:void 0}function te(z){var de=Gr(z);if(de&&s){var Oe=s.getBoundingClientRect(),ze=de.getBoundingClientRect(),Be=Cn(De(c,z))?20:ze.height;ze.top<Oe.top+20?v(de,{container:s,offset:-20,duration:0}):ze.top+Be>Oe.bottom-20&&v(de,{container:s,offset:-(Oe.height-Be-20),duration:0})}}function _e(z,de){var Oe;if(z.json!==void 0||(z==null?void 0:z.text)!==void 0){if(u!==void 0)(Oe=T)===null||Oe===void 0||Oe({text:u,json:void 0},z,{contentErrors:nt(),patchResult:de});else if(c!==void 0){var ze;(ze=T)===null||ze===void 0||ze({text:void 0,json:c},z,{contentErrors:nt(),patchResult:de})}}}function Ge(z,de){i("handlePatch",z,de);var Oe={json:c,text:u},ze=Hr(z,de);return _e(Oe,ze),ze}function ht(z,de){var Oe={json:c,text:u},ze={documentState:ye,selection:Y,json:c,text:u,textIsRepaired:X},Be=io(c,Zr(z,ye),[],vc),Le=typeof de=="function"?de(z,Be,Y):void 0;t(11,c=(Le==null?void 0:Le.json)!==void 0?Le.json:z),t(20,ye=(Le==null?void 0:Le.state)!==void 0?Le.state:Be),t(12,Y=(Le==null?void 0:Le.selection)!==void 0?Le.selection:Y),t(19,u=void 0),t(25,X=!1),at=void 0,$t(c),Pn(ze),_e(Oe,void 0)}function Kt(z,de){i("handleChangeText");var Oe={json:c,text:u},ze={documentState:ye,selection:Y,json:c,text:u,textIsRepaired:X};try{t(11,c=R(z)),t(20,ye=io(c,Zr(c,ye),[],vc)),t(19,u=void 0),t(25,X=!1),at=void 0}catch(Le){try{t(11,c=R(mo(z))),t(20,ye=io(c,Zr(c,ye),[],vc)),t(19,u=z),t(25,X=!0),at=void 0}catch{t(11,c=void 0),t(20,ye=Pg({json:c,expand:vc})),t(19,u=z),t(25,X=!1),at=u!==""?Ol(u,Le.message||String(Le)):void 0}}if(typeof de=="function"){var Be=de(c,ye,Y);t(11,c=(Be==null?void 0:Be.json)!==void 0?Be.json:c),t(20,ye=(Be==null?void 0:Be.state)!==void 0?Be.state:ye),t(12,Y=(Be==null?void 0:Be.selection)!==void 0?Be.selection:Y)}$t(c),Pn(ze),_e(Oe,void 0)}function q(z,de){var Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i("handleExpand",{path:z,expanded:de,recursive:Oe}),de?mt(z,Oe?r1:Kx):we(z,Oe),bt()}function ge(z){i("openFind",{findAndReplace:z}),t(13,Me=!1),t(23,At=!1),kn().then(()=>{t(13,Me=!0),t(23,At=z)})}function We(z,de){i("handleExpandSection",z,de),t(20,ye=function(Oe,ze,Be,Le){return Pl(Oe,ze,Be,(gt,pt)=>{if(!Qn(pt))return pt;var Pt=X3(pt.visibleSections.concat(Le));return Ee(Ee({},pt),{},{visibleSections:Pt})})}(c,ye,z,de))}function tt(z){i("pasted json as text",z),t(21,Ve=z)}function Ye(z){var de,{anchor:Oe,left:ze,top:Be,width:Le,height:gt,offsetTop:pt,offsetLeft:Pt,showTip:On}=z,jn=function(ai){var{json:li,documentState:$n,selection:It,readOnly:_n,onEditKey:Ci,onEditValue:_o,onToggleEnforceString:Jh,onCut:Si,onCopy:Ks,onPaste:Qh,onRemove:Yh,onDuplicate:Xh,onExtract:k8,onInsertBefore:C8,onInsert:S8,onConvert:O8,onInsertAfter:E8,onSort:A8,onTransform:M8}=ai,Gl=li!==void 0,Pu=!!It,Pa=!!It&&Lt(Ke(It)),Gs=It?De(li,Ke(It)):void 0,_1=Array.isArray(Gs)?"Edit array":Ut(Gs)?"Edit object":"Edit value",Xi=Gl&&(Jt(It)||zn(It)||Ft(It)),T1=It&&!Pa?De(li,_t(Ke(It))):void 0,P8=!_n&&Gl&&Hf(It)&&!Pa&&!Array.isArray(T1),Zh=!_n&&Gl&&It!==void 0&&Hf(It),_8=Zh&&!Cn(Gs),ep=!_n&&Xi,tp=Xi,T8=!_n&&Pu,R8=!_n&&Gl&&Xi&&!Pa,N8=!_n&&Gl&&It!==void 0&&(Jt(It)||Ft(It))&&!Pa,ss=Xi,Jl=ss?"Convert to:":"Insert:",D8=!_n&&(En(It)&&Array.isArray(Gs)||Mr(It)&&Array.isArray(T1)),I8=!_n&&(ss?xd(It)&&!Ut(Gs):Pu),z8=!_n&&(ss?xd(It)&&!Array.isArray(Gs):Pu),L8=!_n&&(ss?xd(It)&&Cn(Gs):Pu),B8=It!==void 0&&jo(li,$n,Ke(It));function _u(np){Xi?np!=="structure"&&O8(np):S8(np)}return[{type:"row",items:[{type:"button",onClick:()=>Ci(),icon:rl,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!P8},{type:"dropdown-button",main:{type:"button",onClick:()=>_o(),icon:rl,text:_1,title:"Edit the value (Double-click on the value)",disabled:!Zh},width:"11em",items:[{type:"button",icon:rl,text:_1,title:"Edit the value (Double-click on the value)",onClick:()=>_o(),disabled:!Zh},{type:"button",icon:B8?Ok:Ak,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>Jh(),disabled:!_8}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:()=>Si(!0),icon:nl,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!ep},width:"10em",items:[{type:"button",icon:nl,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>Si(!0),disabled:!ep},{type:"button",icon:nl,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>Si(!1),disabled:!ep}]},{type:"dropdown-button",main:{type:"button",onClick:()=>Ks(!0),icon:ks,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!tp},width:"12em",items:[{type:"button",icon:ks,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>Ks(!0),disabled:!tp},{type:"button",icon:ks,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>Ks(!1),disabled:!tp}]},{type:"button",onClick:()=>Qh(),icon:Sk,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!T8}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:()=>Xh(),icon:_k,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!R8},{type:"button",onClick:()=>k8(),icon:rA,text:"Extract",title:"Extract selected contents",disabled:!N8},{type:"button",onClick:()=>A8(),icon:dh,text:"Sort",title:"Sort array or object contents",disabled:_n||!Xi},{type:"button",onClick:()=>M8(),icon:ch,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:_n||!Xi},{type:"button",onClick:()=>Yh(),icon:pm,text:"Remove",title:"Remove selected contents (Delete)",disabled:_n||!Xi}]},{type:"column",items:[{type:"label",text:Jl},{type:"button",onClick:()=>_u("structure"),icon:ss?qu:Ga,text:"Structure",title:Jl+" structure like the first item in the array",disabled:!D8},{type:"button",onClick:()=>_u("object"),icon:ss?qu:Ga,text:"Object",title:Jl+" object",disabled:!I8},{type:"button",onClick:()=>_u("array"),icon:ss?qu:Ga,text:"Array",title:Jl+" array",disabled:!z8},{type:"button",onClick:()=>_u("value"),icon:ss?qu:Ga,text:"Value",title:Jl+" value",disabled:!L8}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:()=>C8(),icon:XE,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:_n||!Xi||Pa},{type:"button",onClick:()=>E8(),icon:WE,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:_n||!Xi||Pa}]}]}({json:c,documentState:ye,selection:Y,readOnly:m,onEditKey:qn,onEditValue:un,onToggleEnforceString:ir,onCut:nn,onCopy:Re,onPaste:qt,onRemove:en,onDuplicate:Xt,onExtract:Cr,onInsertBefore:Po,onInsert:Mo,onInsertAfter:Zt,onConvert:Ji,onSort:Ma,onTransform:Kl}),Nn=(de=M(jn))!==null&&de!==void 0?de:jn;if(Nn!==!1){var Dt={left:ze,top:Be,offsetTop:pt,offsetLeft:Pt,width:Le,height:gt,anchor:Oe,closeOnOuterClick:!0,onClose:()=>{N=!1,bt()}};N=!0;var Yi=h(U6,{tip:On?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:Nn,onRequestClose:()=>p(Yi)},Dt)}}function rt(z){if(!Un(Y))if(z&&(z.stopPropagation(),z.preventDefault()),z&&z.type==="contextmenu"&&z.target!==a)Ye({left:z.clientX,top:z.clientY,width:Io,height:Do,showTip:!1});else{var de,Oe=(de=s)===null||de===void 0?void 0:de.querySelector(".jse-context-menu-pointer.jse-selected");if(Oe)Ye({anchor:Oe,offsetTop:2,width:Io,height:Do,showTip:!1});else{var ze,Be=(ze=s)===null||ze===void 0?void 0:ze.getBoundingClientRect();Be&&Ye({top:Be.top+2,left:Be.left+2,width:Io,height:Do,showTip:!1})}}}function rn(){return(rn=st(function*(){if(i("apply pasted json",Ve),Ve){var{onPasteAsJson:z}=Ve;t(21,Ve=void 0),z(),setTimeout(bt)}})).apply(this,arguments)}function bt(){i("focus"),a&&(a.focus(),a.select())}function on(z){return function(de,Oe,ze){var Be=_t(ze),Le=[kt(ze)],gt=De(de,Be),pt=gt?Vp(gt,Oe,Le):void 0;return pt?Et(Be.concat(pt)):Vo(ze)}(c,ye,z)}function Rn(z){r&&r.onDrag(z)}function ar(){r&&r.onDragEnd()}return n.$$set=z=>{"readOnly"in z&&t(0,m=z.readOnly),"externalContent"in z&&t(52,y=z.externalContent),"externalSelection"in z&&t(53,b=z.externalSelection),"mainMenuBar"in z&&t(1,j=z.mainMenuBar),"navigationBar"in z&&t(2,x=z.navigationBar),"escapeControlCharacters"in z&&t(54,S=z.escapeControlCharacters),"escapeUnicodeCharacters"in z&&t(55,_=z.escapeUnicodeCharacters),"parser"in z&&t(3,B=z.parser),"parseMemoizeOne"in z&&t(56,R=z.parseMemoizeOne),"validator"in z&&t(57,F=z.validator),"validationParser"in z&&t(58,Q=z.validationParser),"pathParser"in z&&t(4,Z=z.pathParser),"indentation"in z&&t(5,J=z.indentation),"onError"in z&&t(6,U=z.onError),"onChange"in z&&t(59,T=z.onChange),"onChangeMode"in z&&t(60,re=z.onChangeMode),"onSelect"in z&&t(61,ie=z.onSelect),"onRenderValue"in z&&t(62,G=z.onRenderValue),"onRenderMenu"in z&&t(7,L=z.onRenderMenu),"onRenderContextMenu"in z&&t(63,M=z.onRenderContextMenu),"onClassName"in z&&t(64,E=z.onClassName),"onFocus"in z&&t(65,ee=z.onFocus),"onBlur"in z&&t(66,H=z.onBlur),"onSortModal"in z&&t(67,k=z.onSortModal),"onTransformModal"in z&&t(68,P=z.onTransformModal),"onJSONEditorModal"in z&&t(69,D=z.onJSONEditorModal)},n.$$.update=()=>{var z;4096&n.$$.dirty[0]&&(Ct(z=Y,b)||(i("onSelect",z),ie(z))),25165824&n.$$.dirty[1]&&t(78,Pe=qv({escapeControlCharacters:S,escapeUnicodeCharacters:_})),8192&n.$$.dirty[0]&&function(de){s&&de&&s.scrollTop===0&&(t(10,s.style.overflowAnchor="none",s),t(10,s.scrollTop+=Qd,s),setTimeout(()=>{s&&t(10,s.style.overflowAnchor="",s)}))}(Me),2097152&n.$$.dirty[1]&&Ht(y),4194304&n.$$.dirty[1]&&function(de){Ct(Y,de)||(i("applyExternalSelection",{selection:Y,externalSelection:de}),i1(de)&&t(12,Y=de))}(b),2056&n.$$.dirty[0]|201326592&n.$$.dirty[1]&&Te(c,F,B,Q),1024&n.$$.dirty[0]&&(r=s?function(de){var Oe,ze;function Be(Pt){return Pt<20?_B:Pt<50?TB:RB}function Le(){if(de){var Pt=(Oe||0)*(Lx/1e3);de.scrollTop+=Pt}}function gt(Pt){ze&&Pt===Oe||(pt(),Gp("startAutoScroll",Pt),Oe=Pt,ze=setInterval(Le,Lx))}function pt(){ze&&(Gp("stopAutoScroll"),clearInterval(ze),ze=void 0,Oe=void 0)}return Gp("createAutoScrollHandler",de),{onDrag:function(Pt){if(de){var On=Pt.clientY,{top:jn,bottom:Nn}=de.getBoundingClientRect();On<jn?gt(-Be(jn-On)):On>Nn?gt(Be(On-Nn)):pt()}},onDragEnd:function(){pt()}}}(s):void 0),9&n.$$.dirty[0]|65541&n.$$.dirty[2]&&t(14,V={mode:Tn.tree,readOnly:m,parser:B,normalization:Pe,getJson:dt,getDocumentState:cn,getSelection:Bn,findElement:Gr,findNextInside:on,focus:bt,onPatch:Ge,onInsert:or,onExpand:q,onSelect:Gt,onFind:ge,onExpandSection:We,onPasteJson:tt,onRenderValue:G,onContextMenu:Ye,onClassName:E||(()=>{}),onDrag:Rn,onDragEnd:ar}),16384&n.$$.dirty[0]&&i("context changed",V)},[m,j,x,B,Z,J,U,L,function(){return X&&c!==void 0&&ht(c),c!==void 0?{json:c}:{text:u||""}},bt,s,c,Y,Me,V,a,l,se,$e,u,ye,Ve,jt,At,ae,X,oe,A,o,function(z){t(22,jt=(wt=z)?p6(c,wt.items):void 0)},function(z){return Ce.apply(this,arguments)},function(){t(13,Me=!1),t(23,At=!1),bt()},function(z){i("select validation error",z),t(12,Y=Et(z.path)),Qi(z.path)},Re,function(z){var de;z.preventDefault();var Oe=(de=z.clipboardData)===null||de===void 0?void 0:de.getData("text/plain");Oe!==void 0&&B6({clipboardText:Oe,json:c,selection:Y,readOnly:m,parser:B,onPatch:Ge,onChangeText:Kt,openRepairModal:Wt})},sr,Wr,is,function(){Kr([])},function(){si({rootPath:[]})},Ge,function(){q([],!0,!0)},function(){q([],!1,!0)},function(z){var de=Go(z),Oe=z.shiftKey;if(i("keydown",{combo:de,key:z.key}),de==="Ctrl+X"&&(z.preventDefault(),nn(!0)),de==="Ctrl+Shift+X"&&(z.preventDefault(),nn(!1)),de==="Ctrl+C"&&(z.preventDefault(),Re(!0)),de==="Ctrl+Shift+C"&&(z.preventDefault(),Re(!1)),de==="Ctrl+D"&&(z.preventDefault(),Xt()),de!=="Delete"&&de!=="Backspace"||(z.preventDefault(),en()),de==="Insert"&&(z.preventDefault(),or("structure")),de==="Ctrl+A"&&(z.preventDefault(),t(12,Y=Et([]))),de==="Ctrl+Q"&&rt(z),de==="ArrowUp"||de==="Shift+ArrowUp"){z.preventDefault();var ze=Y?Gx(c,ye,Y,Oe)||Y:Ia(c,ye);t(12,Y=ze),te(Ke(ze))}if(de==="ArrowDown"||de==="Shift+ArrowDown"){z.preventDefault();var Be=Y?function(jn,Nn,Dt){var Yi=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Dt){var ai=Yi?Ke(Dt):Ms(jn,Dt),li=Cn(De(jn,ai))?Vx(jn,Nn,ai,!0):Nn,$n=Vp(jn,Nn,ai),It=Vp(jn,li,ai);if(Yi)return En(Dt)?$n!==void 0?yr($n,$n):void 0:Mr(Dt)?It!==void 0?yr(It,It):void 0:It!==void 0?yr(ua(Dt),It):void 0;if(Mr(Dt))return It!==void 0?Et(It):void 0;if(En(Dt)||Ft(Dt))return $n!==void 0?Et($n):void 0;if(zn(Dt)){if($n===void 0||$n.length===0)return;var _n=_t($n),Ci=De(jn,_n);return Array.isArray(Ci)?Et($n):Xo($n)}return Jt(Dt)?It!==void 0?Et(It):$n!==void 0?Et($n):void 0:void 0}}(c,ye,Y,Oe)||Y:Ia(c,ye);t(12,Y=Be),te(Ke(Be))}if(de==="ArrowLeft"||de==="Shift+ArrowLeft"){z.preventDefault();var Le=Y?function(jn,Nn,Dt){var Yi=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ai=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(Dt){var{caret:li,previous:$n}=Jx(jn,Nn,Dt,ai);if(Yi)return Jt(Dt)?void 0:yr(Dt.path,Dt.path);if(li&&$n)return Tg($n);var It=_t(Ke(Dt)),_n=De(jn,It);return Ft(Dt)&&Array.isArray(_n)?yr(Dt.path,Dt.path):Jt(Dt)&&!Array.isArray(_n)?Xo(Dt.focusPath):void 0}}(c,ye,Y,Oe,!m)||Y:Ia(c,ye);t(12,Y=Le),te(Ke(Le))}if(de==="ArrowRight"||de==="Shift+ArrowRight"){z.preventDefault();var gt=Y&&c!==void 0?function(jn,Nn,Dt){var Yi=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ai=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(Dt){var{caret:li,next:$n}=Jx(jn,Nn,Dt,ai);return Yi?Jt(Dt)?void 0:yr(Dt.path,Dt.path):li&&$n?Tg($n):Jt(Dt)?Et(Dt.focusPath):void 0}}(c,ye,Y,Oe,!m)||Y:Ia(c,ye);t(12,Y=gt),te(Ke(gt))}if(de==="Enter"&&Y){if(Lh(Y)){var pt=Y.focusPath,Pt=De(c,_t(pt));Array.isArray(Pt)&&t(12,Y=Et(pt))}zn(Y)&&(z.preventDefault(),t(12,Y=Ee(Ee({},Y),{},{edit:!0}))),Ft(Y)&&(z.preventDefault(),Cn(De(c,Y.path))?q(Y.path,!0):t(12,Y=Ee(Ee({},Y),{},{edit:!0})))}if(de.replace(/^Shift\+/,"").length===1&&Y)return z.preventDefault(),void sr(z.key);if(de==="Enter"&&(Mr(Y)||En(Y)))return z.preventDefault(),void sr("");if(de==="Ctrl+Enter"&&Ft(Y)){var On=De(c,Y.path);Nh(On)&&window.open(String(On),"_blank")}de==="Escape"&&Y&&(z.preventDefault(),t(12,Y=void 0)),de==="Ctrl+F"&&(z.preventDefault(),ge(!1)),de==="Ctrl+H"&&(z.preventDefault(),ge(!0)),de==="Ctrl+Z"&&(z.preventDefault(),Wr()),de==="Ctrl+Shift+Z"&&(z.preventDefault(),is())},function(z){i("handleMouseDown",z);var de=z.target;J3(de,"BUTTON")||de.isContentEditable||(bt(),Y||c!==void 0||u!==""&&u!==void 0||(i("createDefaultSelection"),t(12,Y=Et([]))))},rt,function(z){Ye({anchor:Q3(z.target,"BUTTON"),offsetTop:0,width:Io,height:Do,showTip:!0})},function(){return rn.apply(this,arguments)},function(){i("clear pasted json"),t(21,Ve=void 0),bt()},function(){re(Tn.text)},function(z){t(12,Y=z),bt(),Qi(Ke(z))},function(z){var de=!Ul(z.target,Oe=>Oe===l);de&&Un(Y)&&(i("click outside the editor, exit edit mode"),t(12,Y=lo(Y)),g&&a&&(a.focus(),a.blur()),i("blur (outside editor)"),a&&a.blur())},y,b,S,_,R,F,Q,T,re,ie,G,M,E,ee,H,k,P,D,mt,we,nt,dt,Hr,si,Qi,Gr,Pe,function(z){t(13,Me=z)},function(z){xt[z?"unshift":"push"](()=>{t(15,a=z)})},()=>{bt(),sr("{")},()=>{bt(),sr("[")},()=>{bt()},function(z){xt[z?"unshift":"push"](()=>{t(10,s=z)})},function(z){xt[z?"unshift":"push"](()=>{t(16,l=z)})},()=>t(17,se=!1),()=>{var z;(z=$e)===null||z===void 0||z.onClose(),t(18,$e=void 0)}]}class g1 extends et{constructor(e){super(),Ze(this,e,LH,zH,yt,{readOnly:0,externalContent:52,externalSelection:53,mainMenuBar:1,navigationBar:2,escapeControlCharacters:54,escapeUnicodeCharacters:55,parser:3,parseMemoizeOne:56,validator:57,validationParser:58,pathParser:4,indentation:5,onError:6,onChange:59,onChangeMode:60,onSelect:61,onRenderValue:62,onRenderMenu:7,onRenderContextMenu:63,onClassName:64,onFocus:65,onBlur:66,onSortModal:67,onTransformModal:68,onJSONEditorModal:69,expand:70,collapse:71,validate:72,getJson:73,patch:74,acceptAutoRepair:8,openTransformModal:75,scrollTo:76,findElement:77,focus:9},PH,[-1,-1,-1,-1,-1])}get expand(){return this.$$.ctx[70]}get collapse(){return this.$$.ctx[71]}get validate(){return this.$$.ctx[72]}get getJson(){return this.$$.ctx[73]}get patch(){return this.$$.ctx[74]}get acceptAutoRepair(){return this.$$.ctx[8]}get openTransformModal(){return this.$$.ctx[75]}get scrollTo(){return this.$$.ctx[76]}get findElement(){return this.$$.ctx[77]}get focus(){return this.$$.ctx[9]}}function H6(n){return typeof(e=n)!="object"||e===null?n:new Proxy(n,{get:(t,r,i)=>H6(Reflect.get(t,r,i)),set:()=>!1,deleteProperty:()=>!1});var e}function BH(n){ct(n,"svelte-rrrjnb",'.jse-transform-modal-inner.svelte-rrrjnb.svelte-rrrjnb{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents.svelte-rrrjnb{color:inherit;flex:1;display:flex;flex-direction:column;padding:0;overflow:auto;min-width:0;min-height:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-actions.svelte-rrrjnb{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-actions button.jse-primary.svelte-rrrjnb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-actions button.jse-primary.svelte-rrrjnb:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-actions button.jse-primary.svelte-rrrjnb:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents.svelte-rrrjnb{flex:1;display:flex;gap:calc(2 * var(--jse-padding, 10px));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents.svelte-rrrjnb{flex:1;display:flex;flex-direction:column}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-rrrjnb p{margin:var(--jse-padding, 10px) 0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-rrrjnb p:first-child{margin-top:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-rrrjnb p:last-child{margin-bottom:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-rrrjnb code{background:var(--jse-modal-code-background, rgba(0, 0, 0, 0.05));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents .query-error.svelte-rrrjnb{color:var(--jse-error-color, #ee5341)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-rrrjnb{flex:1;outline:none;resize:vertical}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-rrrjnb{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding, 10px))}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-rrrjnb{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-rrrjnb{flex:none}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-rrrjnb{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-rrrjnb{flex-direction:column;gap:0;margin-bottom:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-actions.svelte-rrrjnb{padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px))}@media screen and (max-width: 1200px){.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents.svelte-rrrjnb{flex-direction:column;overflow:auto}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-rrrjnb{min-height:150px;flex:none}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-rrrjnb .jse-tree-mode{height:300px;flex:none}}.jse-transform-modal-inner.svelte-rrrjnb .jse-label.svelte-rrrjnb{font-weight:bold;display:block;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-label .jse-label-inner.svelte-rrrjnb{margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(0.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-label .jse-label-inner button.svelte-rrrjnb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;font-weight:bold;padding:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly, transparent);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border, 1px solid #d8dbdf)}.jse-transform-modal-inner.svelte-rrrjnb input.svelte-rrrjnb,.jse-transform-modal-inner.svelte-rrrjnb textarea.svelte-rrrjnb{border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-transform-modal-inner.svelte-rrrjnb input.svelte-rrrjnb:focus,.jse-transform-modal-inner.svelte-rrrjnb textarea.svelte-rrrjnb:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-transform-modal-inner.svelte-rrrjnb input.svelte-rrrjnb:read-only,.jse-transform-modal-inner.svelte-rrrjnb textarea.svelte-rrrjnb:read-only{background:var(--jse-input-background-readonly, transparent)}.jse-transform-modal-inner.svelte-rrrjnb .jse-preview.jse-error.svelte-rrrjnb{flex:1;background:var(--jse-input-background-readonly, transparent);border:var(--jse-input-border, 1px solid #d8dbdf);color:var(--jse-error-color, #ee5341);padding:calc(0.5 * var(--jse-padding, 10px))}.jse-transform-modal-inner.svelte-rrrjnb a{color:var(--jse-a-color, #156fc5)}.jse-transform-modal-inner.svelte-rrrjnb a:hover{color:var(--jse-a-color-highlight, #0f508d)}')}function Sj(n){var e,t,r,i,o,s=[FH,qH],a=[];function l(c,u){return 32768&u[0]&&(e=null),e==null&&(e=!!Array.isArray(c[15])),e?0:1}return t=l(n,[-1,-1]),r=a[t]=s[t](n),{c(){r.c(),i=Bt()},m(c,u){a[t].m(c,u),K(c,i,u),o=!0},p(c,u){var d=t;(t=l(c,u))===d?a[t].p(c,u):(be(),C(a[d],1,1,()=>{a[d]=null}),xe(),(r=a[t])?r.p(c,u):(r=a[t]=s[t](c)).c(),$(r,1),r.m(i.parentNode,i))},i(c){o||($(r),o=!0)},o(c){C(r),o=!1},d(c){c&&W(i),a[t].d(c)}}}function qH(n){var e;return{c(){e=Se("(Only available for arrays, not for objects)")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function FH(n){var e,t,r,i;e=new vF({props:{queryOptions:n[16],json:n[15],onChange:n[27]}});var o=n[23]&&Oj(n);return{c(){ue(e.$$.fragment),t=ne(),o&&o.c(),r=Bt()},m(s,a){le(e,s,a),K(s,t,a),o&&o.m(s,a),K(s,r,a),i=!0},p(s,a){var l={};65536&a[0]&&(l.queryOptions=s[16]),32768&a[0]&&(l.json=s[15]),e.$set(l),s[23]?o?o.p(s,a):((o=Oj(s)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i(s){i||($(e.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),i=!1},d(s){s&&(W(t),W(r)),ce(e,s),o&&o.d(s)}}}function Oj(n){var e,t;return{c(){e=I("div"),t=Se(n[23]),w(e,"class","query-error svelte-rrrjnb")},m(r,i){K(r,e,i),O(e,t)},p(r,i){8388608&i[0]&&Xe(t,r[23])},d(r){r&&W(e)}}}function Ej(n){var e,t;return e=new g1({props:{externalContent:n[19],externalSelection:void 0,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:n[11],onRenderContextMenu:n[12],onError:console.error,onChange:tr,onChangeMode:tr,onSelect:tr,onFocus:tr,onBlur:tr,onSortModal:tr,onTransformModal:tr,onJSONEditorModal:tr,onClassName:n[13],validator:void 0,validationParser:n[7],pathParser:n[8]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};524288&i[0]&&(o.externalContent=r[19]),4&i[0]&&(o.indentation=r[2]),8&i[0]&&(o.escapeControlCharacters=r[3]),16&i[0]&&(o.escapeUnicodeCharacters=r[4]),32&i[0]&&(o.parser=r[5]),64&i[0]&&(o.parseMemoizeOne=r[6]),1024&i[0]&&(o.onRenderValue=r[10]),2048&i[0]&&(o.onRenderMenu=r[11]),4096&i[0]&&(o.onRenderContextMenu=r[12]),8192&i[0]&&(o.onClassName=r[13]),128&i[0]&&(o.validationParser=r[7]),256&i[0]&&(o.pathParser=r[8]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function VH(n){var e,t;return{c(){e=I("div"),t=Se(n[24]),w(e,"class","jse-preview jse-error svelte-rrrjnb")},m(r,i){K(r,e,i),O(e,t)},p(r,i){16777216&i[0]&&Xe(t,r[24])},i:ke,o:ke,d(r){r&&W(e)}}}function UH(n){var e,t;return e=new g1({props:{externalContent:n[25],externalSelection:void 0,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:n[11],onRenderContextMenu:n[12],onError:console.error,onChange:tr,onChangeMode:tr,onSelect:tr,onFocus:tr,onBlur:tr,onSortModal:tr,onTransformModal:tr,onJSONEditorModal:tr,onClassName:n[13],validator:void 0,validationParser:n[7],pathParser:n[8]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};33554432&i[0]&&(o.externalContent=r[25]),4&i[0]&&(o.indentation=r[2]),8&i[0]&&(o.escapeControlCharacters=r[3]),16&i[0]&&(o.escapeUnicodeCharacters=r[4]),32&i[0]&&(o.parser=r[5]),64&i[0]&&(o.parseMemoizeOne=r[6]),1024&i[0]&&(o.onRenderValue=r[10]),2048&i[0]&&(o.onRenderMenu=r[11]),4096&i[0]&&(o.onRenderContextMenu=r[12]),8192&i[0]&&(o.onClassName=r[13]),128&i[0]&&(o.validationParser=r[7]),256&i[0]&&(o.pathParser=r[8]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function HH(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Q,Z,J,U,T,re,ie,G,L,M,E,ee,H,k,P,D,N,se,$e,Y,Pe,Ve,wt=n[26](n[0]).description+"";function jt(Ce){n[40](Ce)}var at={queryLanguages:n[9],queryLanguageId:n[0],onChangeQueryLanguage:n[32],onClose:n[14]};n[20]!==void 0&&(at.fullscreen=n[20]),e=new _F({props:at}),xt.push(()=>Lr(e,"fullscreen",jt)),b=new Mt({props:{data:n[21]?pi:gs}});var Fe=n[21]&&Sj(n);re=new Mt({props:{data:n[22]?pi:gs}});var ye=n[22]&&Ej(n),Gt=[UH,VH],Me=[];function At(Ce,Je){return Ce[24]?1:0}return H=At(n),k=Me[H]=Gt[H](n),{c(){ue(e.$$.fragment),r=ne(),i=I("div"),o=I("div"),s=I("div"),(a=I("div")).innerHTML='<div class="jse-label-inner svelte-rrrjnb">Language</div>',l=ne(),c=I("div"),u=ne(),(d=I("div")).innerHTML='<div class="jse-label-inner svelte-rrrjnb">Path</div>',f=ne(),h=I("input"),g=ne(),v=I("div"),m=I("div"),y=I("button"),ue(b.$$.fragment),j=Se(`
                  Wizard`),x=ne(),Fe&&Fe.c(),S=ne(),(_=I("div")).innerHTML='<div class="jse-label-inner svelte-rrrjnb">Query</div>',B=ne(),R=I("textarea"),F=ne(),Q=I("div"),Z=I("div"),J=I("div"),U=I("div"),T=I("button"),ue(re.$$.fragment),ie=Se(`
                    Original`),G=ne(),ye&&ye.c(),L=ne(),M=I("div"),(E=I("div")).innerHTML='<div class="jse-label-inner svelte-rrrjnb">Preview</div>',ee=ne(),k.c(),P=ne(),D=I("div"),N=I("button"),se=Se("Transform"),w(a,"class","jse-label svelte-rrrjnb"),w(c,"class","jse-description svelte-rrrjnb"),w(d,"class","jse-label svelte-rrrjnb"),w(h,"class","jse-path svelte-rrrjnb"),w(h,"type","text"),h.readOnly=!0,w(h,"title","Selected path"),h.value=p=Lt(n[1])?"(document root)":oi(n[1]),w(y,"type","button"),w(y,"class","svelte-rrrjnb"),w(m,"class","jse-label-inner svelte-rrrjnb"),w(v,"class","jse-label svelte-rrrjnb"),w(_,"class","jse-label svelte-rrrjnb"),w(R,"class","jse-query svelte-rrrjnb"),w(R,"spellcheck","false"),R.value=n[17],w(s,"class","jse-query-contents svelte-rrrjnb"),w(T,"type","button"),w(T,"class","svelte-rrrjnb"),w(U,"class","jse-label-inner svelte-rrrjnb"),w(J,"class","jse-label svelte-rrrjnb"),w(Z,"class","jse-original-data svelte-rrrjnb"),he(Z,"jse-hide",!n[22]),w(E,"class","jse-label svelte-rrrjnb"),w(M,"class","jse-preview-data svelte-rrrjnb"),w(Q,"class","jse-data-contents svelte-rrrjnb"),he(Q,"jse-hide-original-data",!n[22]),w(o,"class","jse-main-contents svelte-rrrjnb"),w(N,"type","button"),w(N,"class","jse-primary svelte-rrrjnb"),N.disabled=$e=!!n[24],w(D,"class","jse-actions svelte-rrrjnb"),w(i,"class","jse-modal-contents svelte-rrrjnb")},m(Ce,Je){le(e,Ce,Je),K(Ce,r,Je),K(Ce,i,Je),O(i,o),O(o,s),O(s,a),O(s,l),O(s,c),c.innerHTML=wt,O(s,u),O(s,d),O(s,f),O(s,h),O(s,g),O(s,v),O(v,m),O(m,y),le(b,y,null),O(y,j),O(s,x),Fe&&Fe.m(s,null),O(s,S),O(s,_),O(s,B),O(s,R),n[41](R),O(o,F),O(o,Q),O(Q,Z),O(Z,J),O(J,U),O(U,T),le(re,T,null),O(T,ie),O(Z,G),ye&&ye.m(Z,null),O(Q,L),O(Q,M),O(M,E),O(M,ee),Me[H].m(M,null),O(i,P),O(i,D),O(D,N),O(N,se),Y=!0,Pe||(Ve=[ve(y,"click",n[30]),ve(R,"input",n[28]),ve(T,"click",n[31]),ve(N,"click",n[29]),$r(GH.call(null,N))],Pe=!0)},p(Ce,Je){var ae={};512&Je[0]&&(ae.queryLanguages=Ce[9]),1&Je[0]&&(ae.queryLanguageId=Ce[0]),16384&Je[0]&&(ae.onClose=Ce[14]),!t&&1048576&Je[0]&&(t=!0,ae.fullscreen=Ce[20],zr(()=>t=!1)),e.$set(ae),(!Y||1&Je[0])&&wt!==(wt=Ce[26](Ce[0]).description+"")&&(c.innerHTML=wt),(!Y||2&Je[0]&&p!==(p=Lt(Ce[1])?"(document root)":oi(Ce[1]))&&h.value!==p)&&(h.value=p);var mt={};2097152&Je[0]&&(mt.data=Ce[21]?pi:gs),b.$set(mt),Ce[21]?Fe?(Fe.p(Ce,Je),2097152&Je[0]&&$(Fe,1)):((Fe=Sj(Ce)).c(),$(Fe,1),Fe.m(s,S)):Fe&&(be(),C(Fe,1,1,()=>{Fe=null}),xe()),(!Y||131072&Je[0])&&(R.value=Ce[17]);var we={};4194304&Je[0]&&(we.data=Ce[22]?pi:gs),re.$set(we),Ce[22]?ye?(ye.p(Ce,Je),4194304&Je[0]&&$(ye,1)):((ye=Ej(Ce)).c(),$(ye,1),ye.m(Z,null)):ye&&(be(),C(ye,1,1,()=>{ye=null}),xe()),(!Y||4194304&Je[0])&&he(Z,"jse-hide",!Ce[22]);var A=H;(H=At(Ce))===A?Me[H].p(Ce,Je):(be(),C(Me[A],1,1,()=>{Me[A]=null}),xe(),(k=Me[H])?k.p(Ce,Je):(k=Me[H]=Gt[H](Ce)).c(),$(k,1),k.m(M,null)),(!Y||4194304&Je[0])&&he(Q,"jse-hide-original-data",!Ce[22]),(!Y||16777216&Je[0]&&$e!==($e=!!Ce[24]))&&(N.disabled=$e)},i(Ce){Y||($(e.$$.fragment,Ce),$(b.$$.fragment,Ce),$(Fe),$(re.$$.fragment,Ce),$(ye),$(k),Y=!0)},o(Ce){C(e.$$.fragment,Ce),C(b.$$.fragment,Ce),C(Fe),C(re.$$.fragment,Ce),C(ye),C(k),Y=!1},d(Ce){Ce&&(W(r),W(i)),ce(e,Ce),ce(b),Fe&&Fe.d(),n[41](null),ce(re),ye&&ye.d(),Me[H].d(),Pe=!1,tn(Ve)}}}function WH(n){var e,t,r,i,o;return t=new Wv({props:{$$slots:{default:[HH]},$$scope:{ctx:n}}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-transform-modal-inner svelte-rrrjnb")},m(s,a){K(s,e,a),le(t,e,null),r=!0,i||(o=$r(A6.call(null,e,n[33])),i=!0)},p(s,a){var l={};67108863&a[0]|131072&a[1]&&(l.$$scope={dirty:a,ctx:s}),t.$set(l)},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),r=!1},d(s){s&&W(e),ce(t),i=!1,o()}}}function KH(n){var e,t;return e=new Au({props:{onClose:n[14],className:"jse-transform-modal",fullscreen:n[20],$$slots:{default:[WH]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};16384&i[0]&&(o.onClose=r[14]),1048576&i[0]&&(o.fullscreen=r[20]),67108863&i[0]|131072&i[1]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function GH(n){n.focus()}function JH(n,e,t){var r,i,o,s,a,l,c=Zn("jsoneditor:TransformModal"),{id:u="transform-modal-"+Pc()}=e,{json:d}=e,{rootPath:f=[]}=e,{indentation:h}=e,{escapeControlCharacters:p}=e,{escapeUnicodeCharacters:g}=e,{parser:v}=e,{parseMemoizeOne:m}=e,{validationParser:y}=e,{pathParser:b}=e,{queryLanguages:j}=e,{queryLanguageId:x}=e,{onChangeQueryLanguage:S}=e,{onRenderValue:_}=e,{onRenderMenu:B}=e,{onRenderContextMenu:R}=e,{onClassName:F}=e,{onTransform:Q}=e,{onClose:Z}=e,J=!1,U="".concat(u,":").concat(it(f)),T=(r=oc[U])!==null&&r!==void 0?r:{},re=wd.showWizard!==!1,ie=wd.showOriginal!==!1,G=(i=T.queryOptions)!==null&&i!==void 0?i:{},L=x===T.queryLanguageId&&T.query?T.query:"",M=(o=T.isManual)!==null&&o!==void 0&&o,E=void 0,ee=void 0,H={text:""};function k(N){var se;return(se=j.find($e=>$e.id===N))!==null&&se!==void 0?se:j[0]}function P(N){try{t(16,G=N),t(17,L=k(x).createQuery(a,N)),t(23,E=void 0),t(39,M=!1),c("updateQueryByWizard",{queryOptions:G,query:L,isManual:M})}catch(se){t(23,E=String(se))}}M||P(G),Vr(()=>{var N;(N=s)===null||N===void 0||N.focus()});var D=tf(function(N,se){if(N===void 0)return t(25,H={text:""}),void t(24,ee="Error: No JSON");if(se.trim()!=="")try{c("previewTransform",{query:se});var $e=k(x).executeQuery(N,se,v);t(25,H={json:$e}),t(24,ee=void 0)}catch(Y){t(25,H={text:""}),t(24,ee=String(Y))}else t(25,H={json:N})},300);return n.$$set=N=>{"id"in N&&t(34,u=N.id),"json"in N&&t(35,d=N.json),"rootPath"in N&&t(1,f=N.rootPath),"indentation"in N&&t(2,h=N.indentation),"escapeControlCharacters"in N&&t(3,p=N.escapeControlCharacters),"escapeUnicodeCharacters"in N&&t(4,g=N.escapeUnicodeCharacters),"parser"in N&&t(5,v=N.parser),"parseMemoizeOne"in N&&t(6,m=N.parseMemoizeOne),"validationParser"in N&&t(7,y=N.validationParser),"pathParser"in N&&t(8,b=N.pathParser),"queryLanguages"in N&&t(9,j=N.queryLanguages),"queryLanguageId"in N&&t(0,x=N.queryLanguageId),"onChangeQueryLanguage"in N&&t(36,S=N.onChangeQueryLanguage),"onRenderValue"in N&&t(10,_=N.onRenderValue),"onRenderMenu"in N&&t(11,B=N.onRenderMenu),"onRenderContextMenu"in N&&t(12,R=N.onRenderContextMenu),"onClassName"in N&&t(13,F=N.onClassName),"onTransform"in N&&t(37,Q=N.onTransform),"onClose"in N&&t(14,Z=N.onClose)},n.$$.update=()=>{2&n.$$.dirty[0]|16&n.$$.dirty[1]&&t(15,a=H6(De(d,f))),32768&n.$$.dirty[0]&&t(19,l=a?{json:a}:{text:""}),163840&n.$$.dirty[0]&&D(a,L),196609&n.$$.dirty[0]|384&n.$$.dirty[1]&&(t(38,oc[U]={queryOptions:G,query:L,queryLanguageId:x,isManual:M},oc),c("store state in memory",U,oc[U]))},[x,f,h,p,g,v,m,y,b,j,_,B,R,F,Z,a,G,L,s,l,J,re,ie,E,ee,H,k,P,function(N){t(17,L=N.target.value),t(39,M=!0),c("handleChangeQuery",{query:L,isManual:M})},function(){if(a===void 0)return t(25,H={text:""}),void t(24,ee="Error: No JSON");try{c("handleTransform",{query:L});var N=k(x).executeQuery(a,L,v);Q([{op:"replace",path:it(f),value:N}]),Z()}catch(se){console.error(se),t(25,H={text:""}),t(24,ee=String(se))}},function(){t(21,re=!re),wd.showWizard=re},function(){t(22,ie=!ie),wd.showOriginal=ie},function(N){c("handleChangeQueryLanguage",N),t(0,x=N),S(N),P(G)},function(){J?t(20,J=!J):Z()},u,d,S,Q,oc,M,function(N){t(20,J=N)},function(N){xt[N?"unshift":"push"](()=>{t(18,s=N)})}]}class QH extends et{constructor(e){super(),Ze(this,e,JH,KH,yt,{id:34,json:35,rootPath:1,indentation:2,escapeControlCharacters:3,escapeUnicodeCharacters:4,parser:5,parseMemoizeOne:6,validationParser:7,pathParser:8,queryLanguages:9,queryLanguageId:0,onChangeQueryLanguage:36,onRenderValue:10,onRenderMenu:11,onRenderContextMenu:12,onClassName:13,onTransform:37,onClose:14},BH,[-1,-1])}}function Ai(){}function Sd(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(n<.9*e)return n.toFixed()+" B";var t=n/e;if(t<.9*e)return t.toFixed(1)+" KB";var r=t/e;if(r<.9*e)return r.toFixed(1)+" MB";var i=r/e;return i<.9*e?i.toFixed(1)+" GB":(i/e).toFixed(1)+" TB"}function YH(n){var e,t;return e=new Vh({props:{items:n[0]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};1&o&&(s.items=r[0]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function XH(n,e,t){var r,i,{readOnly:o=!1}=e,{onFormat:s}=e,{onCompact:a}=e,{onSort:l}=e,{onTransform:c}=e,{onToggleSearch:u}=e,{onUndo:d}=e,{onRedo:f}=e,{canUndo:h}=e,{canRedo:p}=e,{canFormat:g}=e,{canCompact:v}=e,{canSort:m}=e,{canTransform:y}=e,{onRenderMenu:b}=e,j={type:"button",icon:fh,title:"Search (Ctrl+F)",className:"jse-search",onClick:u};return n.$$set=x=>{"readOnly"in x&&t(1,o=x.readOnly),"onFormat"in x&&t(2,s=x.onFormat),"onCompact"in x&&t(3,a=x.onCompact),"onSort"in x&&t(4,l=x.onSort),"onTransform"in x&&t(5,c=x.onTransform),"onToggleSearch"in x&&t(6,u=x.onToggleSearch),"onUndo"in x&&t(7,d=x.onUndo),"onRedo"in x&&t(8,f=x.onRedo),"canUndo"in x&&t(9,h=x.canUndo),"canRedo"in x&&t(10,p=x.canRedo),"canFormat"in x&&t(11,g=x.canFormat),"canCompact"in x&&t(12,v=x.canCompact),"canSort"in x&&t(13,m=x.canSort),"canTransform"in x&&t(14,y=x.canTransform),"onRenderMenu"in x&&t(15,b=x.onRenderMenu)},n.$$.update=()=>{32702&n.$$.dirty&&t(16,i=o?[j,{type:"space"}]:[{type:"button",icon:Fg,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:s,disabled:o||!g},{type:"button",icon:dU,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:a,disabled:o||!v},{type:"separator"},{type:"button",icon:dh,title:"Sort",className:"jse-sort",onClick:l,disabled:o||!m},{type:"button",icon:ch,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:c,disabled:o||!y},j,{type:"separator"},{type:"button",icon:u0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:d,disabled:!h},{type:"button",icon:c0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:f,disabled:!p},{type:"space"}]),98304&n.$$.dirty&&t(0,r=b(i)||i)},[r,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,i]}class ZH extends et{constructor(e){super(),Ze(this,e,XH,YH,yt,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15})}}function eW(n){ct(n,"svelte-1ulj7zd",'.jse-status-bar.svelte-1ulj7zd.svelte-1ulj7zd{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);margin:0;border-top:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);display:flex;gap:var(--jse-padding, 10px)}.jse-status-bar.svelte-1ulj7zd.svelte-1ulj7zd:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-status-bar.svelte-1ulj7zd .jse-status-bar-info.svelte-1ulj7zd{padding:2px}')}function Aj(n){var e,t,r;return{c(){e=I("div"),t=Se("Line: "),r=Se(n[0]),w(e,"class","jse-status-bar-info svelte-1ulj7zd")},m(i,o){K(i,e,o),O(e,t),O(e,r)},p(i,o){1&o&&Xe(r,i[0])},d(i){i&&W(e)}}}function Mj(n){var e,t,r;return{c(){e=I("div"),t=Se("Column: "),r=Se(n[1]),w(e,"class","jse-status-bar-info svelte-1ulj7zd")},m(i,o){K(i,e,o),O(e,t),O(e,r)},p(i,o){2&o&&Xe(r,i[1])},d(i){i&&W(e)}}}function Pj(n){var e,t,r,i;return{c(){e=I("div"),t=Se("Selection: "),r=Se(n[2]),i=Se(" characters"),w(e,"class","jse-status-bar-info svelte-1ulj7zd")},m(o,s){K(o,e,s),O(e,t),O(e,r),O(e,i)},p(o,s){4&s&&Xe(r,o[2])},d(o){o&&W(e)}}}function tW(n){var e,t,r,i=n[0]!==void 0&&Aj(n),o=n[1]!==void 0&&Mj(n),s=n[2]!==void 0&&n[2]>0&&Pj(n);return{c(){e=I("div"),i&&i.c(),t=ne(),o&&o.c(),r=ne(),s&&s.c(),w(e,"class","jse-status-bar svelte-1ulj7zd")},m(a,l){K(a,e,l),i&&i.m(e,null),O(e,t),o&&o.m(e,null),O(e,r),s&&s.m(e,null)},p(a,l){var[c]=l;a[0]!==void 0?i?i.p(a,c):((i=Aj(a)).c(),i.m(e,t)):i&&(i.d(1),i=null),a[1]!==void 0?o?o.p(a,c):((o=Mj(a)).c(),o.m(e,r)):o&&(o.d(1),o=null),a[2]!==void 0&&a[2]>0?s?s.p(a,c):((s=Pj(a)).c(),s.m(e,null)):s&&(s.d(1),s=null)},i:ke,o:ke,d(a){a&&W(e),i&&i.d(),o&&o.d(),s&&s.d()}}}function nW(n,e,t){var r,i,o,s,a,{editorState:l}=e;return n.$$set=c=>{"editorState"in c&&t(3,l=c.editorState)},n.$$.update=()=>{var c,u,d;8&n.$$.dirty&&t(4,r=(c=l)===null||c===void 0||(c=c.selection)===null||c===void 0||(c=c.main)===null||c===void 0?void 0:c.head),24&n.$$.dirty&&t(5,i=r!==void 0?(u=l)===null||u===void 0||(u=u.doc)===null||u===void 0?void 0:u.lineAt(r):void 0),32&n.$$.dirty&&t(0,o=i!==void 0?i.number:void 0),48&n.$$.dirty&&t(1,s=i!==void 0&&r!==void 0?r-i.from+1:void 0),8&n.$$.dirty&&t(2,a=(d=l)===null||d===void 0||(d=d.selection)===null||d===void 0||(d=d.ranges)===null||d===void 0?void 0:d.reduce((f,h)=>f+h.to-h.from,0))},[o,s,a,l,r,i]}class rW extends et{constructor(e){super(),Ze(this,e,nW,tW,Hn,{editorState:3},eW)}}var Od,Ed,v1=vu.define([{tag:Ae.propertyName,color:"var(--internal-key-color)"},{tag:Ae.number,color:"var(--internal-value-color-number)"},{tag:Ae.bool,color:"var(--internal-value-color-boolean)"},{tag:Ae.string,color:"var(--internal-value-color-string)"},{tag:Ae.keyword,color:"var(--internal-value-color-null)"}]),iW=OS(v1),oW=v1.style;function sW(n){ct(n,"svelte-xt61xw",'.jse-text-mode.svelte-xt61xw.svelte-xt61xw{--internal-key-color:var(--jse-key-color, #1a1a1a);--internal-value-color-number:var(--jse-value-color-number, #ee422e);--internal-value-color-boolean:var(--jse-value-color-boolean, #ff8c00);--internal-value-color-string:var(--jse-value-color-string, #008000);--internal-value-color-null:var(--jse-value-color-null, #004ed0);flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color, #fff)}.jse-text-mode.no-main-menu.svelte-xt61xw.svelte-xt61xw{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw{flex:1;display:flex;position:relative;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents.jse-hidden.svelte-xt61xw{visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px));color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-gutters{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);border-right:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-activeLine,.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color, rgba(0, 0, 0, 0.06))}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color, #d3d3d3)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color, rgba(153, 255, 119, 0.5019607843))}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background, rgba(0, 0, 0, 0.2));color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));border:none;padding:0 var(--jse-padding, 10px)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-tooltip{font-size:var(--jse-font-size, 16px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);color:var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));background:var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));border:var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tooltip-action-button-background, #4d4d4d)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-panels{border-bottom:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search input{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-input-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);background:var(--jse-input-background, var(--jse-background-color, #fff));margin-right:2px}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search button{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);margin:0}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search button:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search label{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);padding-left:var(--jse-padding, 10px)}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-xt61xw .jse-contents.svelte-xt61xw .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color, #4d4d4d)}.jse-text-mode.svelte-xt61xw .jse-contents .jse-loading-space.svelte-xt61xw{flex:1}.jse-text-mode.svelte-xt61xw .jse-contents .jse-loading.svelte-xt61xw{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-xt61xw .jse-contents.jse-preview.svelte-xt61xw{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;word-break:break-word;padding:2px}')}function Qp(n){var e=n.slice(),t=e[11].length===0;return e[101]=t,e}function _j(n){var e,t;return e=new ZH({props:{readOnly:n[0],onFormat:n[17],onCompact:n[18],onSort:n[19],onTransform:n[20],onToggleSearch:n[21],onUndo:n[22],onRedo:n[23],canFormat:!n[101],canCompact:!n[101],canSort:!n[101],canTransform:!n[101],canUndo:n[12],canRedo:n[13],onRenderMenu:n[3]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i[0]&&(o.readOnly=r[0]),2048&i[0]&&(o.canFormat=!r[101]),2048&i[0]&&(o.canCompact=!r[101]),2048&i[0]&&(o.canSort=!r[101]),2048&i[0]&&(o.canTransform=!r[101]),4096&i[0]&&(o.canUndo=r[12]),8192&i[0]&&(o.canRedo=r[13]),8&i[0]&&(o.onRenderMenu=r[3]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function aW(n){var e;return{c(){(e=I("div")).innerHTML='<div class="jse-loading-space svelte-xt61xw"></div> <div class="jse-loading svelte-xt61xw">loading...</div>',w(e,"class","jse-contents svelte-xt61xw")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function lW(n){var e,t,r,i,o,s=n[100]&&Tj(n),a=!n[100]&&Rj(n);return{c(){e=I("div"),t=ne(),s&&s.c(),r=ne(),a&&a.c(),i=Bt(),w(e,"class","jse-contents svelte-xt61xw"),he(e,"jse-hidden",n[100])},m(l,c){K(l,e,c),n[54](e),K(l,t,c),s&&s.m(l,c),K(l,r,c),a&&a.m(l,c),K(l,i,c),o=!0},p(l,c){(!o||268437760&c[0])&&he(e,"jse-hidden",l[100]),l[100]?s?(s.p(l,c),2304&c[0]&&$(s,1)):((s=Tj(l)).c(),$(s,1),s.m(r.parentNode,r)):s&&(be(),C(s,1,1,()=>{s=null}),xe()),l[100]?a&&(be(),C(a,1,1,()=>{a=null}),xe()):a?(a.p(l,c),2304&c[0]&&$(a,1)):((a=Rj(l)).c(),$(a,1),a.m(i.parentNode,i))},i(l){o||($(s),$(a),o=!0)},o(l){C(s),C(a),o=!1},d(l){l&&(W(e),W(t),W(r),W(i)),n[54](null),s&&s.d(l),a&&a.d(l)}}}function Tj(n){var e,t,r,i,o,s=Jo(n[11]||"",Og)+"";return e=new Gi({props:{icon:ka,type:"error",message:"The JSON document is larger than ".concat(Sd(Eg,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(Sd(n[11].length,1024),"."),actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:n[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:n[25]},{text:"Cancel",title:"Cancel opening this large document.",onClick:n[26]}],onClose:n[4]}}),{c(){ue(e.$$.fragment),t=ne(),r=I("div"),i=Se(s),w(r,"class","jse-contents jse-preview svelte-xt61xw")},m(a,l){le(e,a,l),K(a,t,l),K(a,r,l),O(r,i),o=!0},p(a,l){var c={};2048&l[0]&&(c.message="The JSON document is larger than ".concat(Sd(Eg,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(Sd(a[11].length,1024),".")),e.$set(c),(!o||2048&l[0])&&s!==(s=Jo(a[11]||"",Og)+"")&&Xe(i,s)},i(a){o||($(e.$$.fragment,a),o=!0)},o(a){C(e.$$.fragment,a),o=!1},d(a){a&&(W(t),W(r)),ce(e,a)}}}function Rj(n){var e,t,r,i,o,s=!n[14]&&n[9]&&Ax(n[11]),a=n[2]&&Nj(n),l=n[14]&&Dj(n),c=s&&Ij(n);return i=new u1({props:{validationErrors:n[10],selectError:n[27]}}),{c(){a&&a.c(),e=ne(),l&&l.c(),t=ne(),c&&c.c(),r=ne(),ue(i.$$.fragment)},m(u,d){a&&a.m(u,d),K(u,e,d),l&&l.m(u,d),K(u,t,d),c&&c.m(u,d),K(u,r,d),le(i,u,d),o=!0},p(u,d){u[2]?a?(a.p(u,d),4&d[0]&&$(a,1)):((a=Nj(u)).c(),$(a,1),a.m(e.parentNode,e)):a&&(be(),C(a,1,1,()=>{a=null}),xe()),u[14]?l?(l.p(u,d),16384&d[0]&&$(l,1)):((l=Dj(u)).c(),$(l,1),l.m(t.parentNode,t)):l&&(be(),C(l,1,1,()=>{l=null}),xe()),18944&d[0]&&(s=!u[14]&&u[9]&&Ax(u[11])),s?c?(c.p(u,d),18944&d[0]&&$(c,1)):((c=Ij(u)).c(),$(c,1),c.m(r.parentNode,r)):c&&(be(),C(c,1,1,()=>{c=null}),xe());var f={};1024&d[0]&&(f.validationErrors=u[10]),i.$set(f)},i(u){o||($(a),$(l),$(c),$(i.$$.fragment,u),o=!0)},o(u){C(a),C(l),C(c),C(i.$$.fragment,u),o=!1},d(u){u&&(W(e),W(t),W(r)),a&&a.d(u),l&&l.d(u),c&&c.d(u),ce(i,u)}}}function Nj(n){var e,t;return e=new rW({props:{editorState:n[7]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};128&i[0]&&(o.editorState=r[7]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Dj(n){var e,t;return e=new Gi({props:{type:"error",icon:ka,message:n[14].message,actions:n[15],onClick:n[29],onClose:n[4]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};16384&i[0]&&(o.message=r[14].message),32768&i[0]&&(o.actions=r[15]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Ij(n){var e,t;return e=new Gi({props:{type:"success",message:"Do you want to format the JSON?",actions:[{icon:Fg,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:n[17]},{icon:Rc,text:"No thanks",title:"Close this message",onClick:n[55]}],onClose:n[4]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};512&i[0]&&(o.actions=[{icon:Fg,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:r[17]},{icon:Rc,text:"No thanks",title:"Close this message",onClick:r[55]}]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function cW(n){var e,t,r,i,o,s=n[1]&&_j(Qp(n)),a=[lW,aW],l=[];function c(u,d){return d===0?function(f){var h=f.slice(),p=h[28](h[11],h[8]);return h[100]=p,h}(u):u}return r=function(u){return u[16]?1:0}(n),i=l[r]=a[r](c(n,r)),{c(){e=I("div"),s&&s.c(),t=ne(),i.c(),w(e,"class","jse-text-mode svelte-xt61xw"),he(e,"no-main-menu",!n[1])},m(u,d){K(u,e,d),s&&s.m(e,null),O(e,t),l[r].m(e,null),n[56](e),o=!0},p(u,d){u[1]?s?(s.p(Qp(u),d),2&d[0]&&$(s,1)):((s=_j(Qp(u))).c(),$(s,1),s.m(e,t)):s&&(be(),C(s,1,1,()=>{s=null}),xe()),i.p(c(u,r),d),(!o||2&d[0])&&he(e,"no-main-menu",!u[1])},i(u){o||($(s),$(i),o=!0)},o(u){C(s),C(i),o=!1},d(u){u&&W(e),s&&s.d(),l[r].d(),n[56](null)}}}function zj(n){return{from:n.from||0,to:n.to||0,message:n.message||"",actions:n.actions,severity:n.severity}}function uW(n,e,t){var r,i,o,s,a,l,{readOnly:c}=e,{mainMenuBar:u}=e,{statusBar:d}=e,{askToFormat:f}=e,{externalContent:h}=e,{externalSelection:p}=e,{indentation:g}=e,{tabSize:v}=e,{escapeUnicodeCharacters:m}=e,{parser:y}=e,{validator:b}=e,{validationParser:j}=e,{onChange:x}=e,{onChangeMode:S}=e,{onSelect:_}=e,{onError:B}=e,{onFocus:R}=e,{onBlur:F}=e,{onRenderMenu:Q}=e,{onSortModal:Z}=e,{onTransformModal:J}=e,U=Zn("jsoneditor:TextMode"),T={key:"Mod-i",run:at,shift:Fe,preventDefault:!0},re=typeof window>"u";U("isSSR:",re);var ie=!1,G=f,L=[],M=new Ro,E=new Ro,ee=new Ro,H=new Ro,k=new Ro,P=h,D=Sg(P,g,y),N=m;Vr(st(function*(){if(!re)try{a=function(fe){var{target:Re,initialText:ft,readOnly:qt,indentation:Wt}=fe;U("Create CodeMirror editor",{readOnly:qt,indentation:Wt});var en=zt.create({doc:ft,selection:ae(p,ft)?V(p):void 0,extensions:[ff.of([O_,T]),M.of(Ce()),H_(),i7(),a7(),C9(),kP(),Y7(),p9(),b9(),zt.allowMultipleSelections.of(!0),I7(),OS(tP,{fallback:!0}),lP(),sR(),vR(),I9(),B9(),P9(),uT(),ff.of([...uR,...S_,...MT,...NP,...K7,...N4,...R_]),iW,kR({hideFirstIndent:!0}),Ie.domEventHandlers({dblclick:At}),Ie.updateListener.of(Xt=>{t(7,l=Xt.state),Xt.docChanged?dt():Xt.selectionSet&&Ht()}),iT(),bT({top:!0}),Ie.lineWrapping,E.of(zt.readOnly.of(qt)),H.of(zt.tabSize.of(v)),ee.of(Te(Wt)),k.of(Ie.theme({},{dark:Je()}))]});return a=new Ie({state:en,parent:Re})}({target:o,initialText:Qe(D,ie)?"":r.escapeValue(D),readOnly:c,indentation:g})}catch(fe){console.error(fe)}})),ri(()=>{a&&(U("Destroy CodeMirror editor"),a.destroy())});var se=!1,$e=!1,Y=gl(),Pe=gl();function Ve(){a&&(U("focus"),a.focus())}var wt=!1;function jt(fe,Re){U("handlePatch",fe,Re);var ft=y.parse(D),qt=Ni(ft,fe),Wt=pk(ft,fe);return A({text:y.stringify(qt,null,g)},Re,!1),{json:qt,previousJson:ft,undo:Wt,redo:fe}}function at(){if(U("format"),c)return!1;try{var fe=y.parse(D);return A({text:y.stringify(fe,null,g)},!0,!1),t(9,G=f),!0}catch(Re){B(Re)}return!1}function Fe(){if(U("compact"),c)return!1;try{var fe=y.parse(D);return A({text:y.stringify(fe)},!0,!1),t(9,G=!1),!0}catch(Re){B(Re)}return!1}function ye(){if(U("repair"),!c)try{A({text:mo(D)},!0,!1),t(53,Pn=Fp),t(14,$t=void 0)}catch(fe){B(fe)}}function Gt(fe){var{id:Re,rootPath:ft,onTransform:qt,onClose:Wt}=fe;try{var en=y.parse(D);wt=!0,J({id:Re||Pe,json:en,rootPath:ft||[],onTransform:Xt=>{qt?qt({operations:Xt,json:en,transformedJson:Ni(en,Xt)}):(U("onTransform",Xt),jt(Xt,!0))},onClose:()=>{wt=!1,Ve(),Wt&&Wt()}})}catch(Xt){B(Xt)}}function Me(fe,Re){U("setSelection",{anchor:fe,head:Re}),a&&a.dispatch(a.state.update({selection:{anchor:fe,head:Re},scrollIntoView:!0}))}function At(fe,Re){if(Re.state.selection.ranges.length===1){var ft=Re.state.selection.ranges[0],qt=D.slice(ft.from,ft.to);if(qt==="{"||qt==="["){var Wt=nf.parse(D),en=Object.keys(Wt.pointers).find(Cr=>{var or;return((or=Wt.pointers[Cr].value)===null||or===void 0?void 0:or.pos)===ft.from}),Xt=Wt.pointers[en];en&&Xt&&Xt.value&&Xt.valueEnd&&(U("pointer found, selecting inner contents of path:",en,Xt),Me(Xt.value.pos+1,Xt.valueEnd.pos-1))}}}function Ce(){return I_(Hr,{delay:300})}function Je(){return!!o&&getComputedStyle(o).getPropertyValue("--jse-theme").includes("dark")}function ae(fe,Re){return!!Up(fe)&&fe.ranges.every(ft=>ft.anchor<Re.length&&ft.head<Re.length)}function mt(fe){var{path:Re,message:ft,severity:qt}=fe,{line:Wt,column:en,from:Xt,to:Cr}=function(or,Mo){try{var Ji=nf.parse(or),Po=it(Mo),Zt=Ji.pointers[Po];if(Zt)return{path:Mo,line:Zt.key?Zt.key.line:Zt.value?Zt.value.line:0,column:Zt.key?Zt.key.column:Zt.value?Zt.value.column:0,from:Zt.key?Zt.key.pos:Zt.value?Zt.value.pos:0,to:Zt.keyEnd?Zt.keyEnd.pos:Zt.valueEnd?Zt.valueEnd.pos:0}}catch(sr){console.error(sr)}return{path:Mo,line:0,column:0,from:0,to:0}}(r.escapeValue(D),Re);return{path:Re,line:Wt,column:en,from:Xt,to:Cr,message:ft,severity:qt,actions:[]}}function we(fe,Re){var{line:ft,column:qt,position:Wt,message:en}=fe;return{path:[],line:ft,column:qt,from:Wt,to:Wt,severity:zi.error,message:en,actions:Re&&!c?[{name:"Auto repair",apply:()=>ye()}]:void 0}}function A(fe,Re,ft){var qt=Sg(fe,g,y),Wt=!Ct(fe,P),en=P;U("setCodeMirrorContent",{isChanged:Wt,emitChange:Re,forceUpdate:ft}),a&&(Wt||ft)&&(P=fe,t(11,D=qt),Qe(D,ie)||a.dispatch({changes:{from:0,to:a.state.doc.length,insert:r.escapeValue(D)}}),nt(),Wt&&Re&&Bn(P,en))}function V(fe){return Up(fe)?je.fromJSON(fe):void 0}function X(){return X=st(function*(){U("refresh"),yield function(){return me.apply(this,arguments)}()}),X.apply(this,arguments)}function oe(){if(a){var fe=a?r.unescapeValue(a.state.doc.toString()):"",Re=fe!==D;if(U("onChangeCodeMirrorValue",{isChanged:Re}),Re){var ft=P;t(11,D=fe),P={text:D},nt(),Bn(P,ft),kn().then(Ht)}}}function me(){return(me=st(function*(){if(yield kn(),a){var fe=Je();U("updateTheme",{dark:fe}),a.dispatch({effects:[k.reconfigure(Ie.theme({},{dark:fe}))]})}})).apply(this,arguments)}function Te(fe){var Re=yh.of(typeof fe=="number"?" ".repeat(fe):fe);return fe==="	"?[Re]:[Re,SR]}function nt(){t(12,se=OP(a.state)>0),t(13,$e=EP(a.state)>0),U({canUndo:se,canRedo:$e})}ri(()=>{cn()}),c1({onMount:Vr,onDestroy:ri,getWindow:()=>ku(s),hasFocus:()=>wt&&document.hasFocus()||Vv(s),onFocus:R,onBlur:()=>{cn(),F()}});var dt=tf(oe,300);function cn(){dt.flush()}function Bn(fe,Re){x&&x(fe,Re,{contentErrors:qn(),patchResult:void 0})}function Ht(){_(Ee({type:Yt.text},l.selection.toJSON()))}function Qe(fe,Re){return!!fe&&fe.length>Eg&&!Re}var $t,Pn=Fp;function Hr(){if(Qe(D,ie))return[];var fe=qn();if(Fx(fe)){var{parseError:Re,isRepairable:ft}=fe;return[zj(we(Re,ft))]}return FB(fe)?fe.validationErrors.map(mt).map(zj):[]}function qn(){U("validate:start"),cn();var fe=un(r.escapeValue(D),b,y,j);return Fx(fe)?(t(53,Pn=fe.isRepairable?qx:"invalid"),t(14,$t=fe.parseError),t(10,L=[])):(t(53,Pn=Fp),t(14,$t=void 0),t(10,L=(fe==null?void 0:fe.validationErrors)||[])),U("validate:end"),fe}var un=du(DF);function ir(){$t&&function(fe){U("select parse error",fe);var Re=we(fe,!1);Me(Re.from!=null?Re.from:0,Re.to!=null?Re.to:0),Ve()}($t)}var nn={icon:ZE,text:"Show me",title:"Move to the parse error location",onClick:ir};return n.$$set=fe=>{"readOnly"in fe&&t(0,c=fe.readOnly),"mainMenuBar"in fe&&t(1,u=fe.mainMenuBar),"statusBar"in fe&&t(2,d=fe.statusBar),"askToFormat"in fe&&t(30,f=fe.askToFormat),"externalContent"in fe&&t(31,h=fe.externalContent),"externalSelection"in fe&&t(32,p=fe.externalSelection),"indentation"in fe&&t(33,g=fe.indentation),"tabSize"in fe&&t(34,v=fe.tabSize),"escapeUnicodeCharacters"in fe&&t(35,m=fe.escapeUnicodeCharacters),"parser"in fe&&t(36,y=fe.parser),"validator"in fe&&t(37,b=fe.validator),"validationParser"in fe&&t(38,j=fe.validationParser),"onChange"in fe&&t(39,x=fe.onChange),"onChangeMode"in fe&&t(40,S=fe.onChangeMode),"onSelect"in fe&&t(41,_=fe.onSelect),"onError"in fe&&t(42,B=fe.onError),"onFocus"in fe&&t(43,R=fe.onFocus),"onBlur"in fe&&t(44,F=fe.onBlur),"onRenderMenu"in fe&&t(3,Q=fe.onRenderMenu),"onSortModal"in fe&&t(45,Z=fe.onSortModal),"onTransformModal"in fe&&t(46,J=fe.onTransformModal)},n.$$.update=()=>{16&n.$$.dirty[1]&&(r=qv({escapeControlCharacters:!1,escapeUnicodeCharacters:m})),1&n.$$.dirty[1]&&A(h,!1,!1),2&n.$$.dirty[1]&&function(fe){if(Up(fe)){var Re=V(fe);!a||!Re||l&&l.selection.eq(Re)||(U("applyExternalSelection",Re),a.dispatch({selection:Re}))}}(p),64&n.$$.dirty[1]&&function(fe){U("updateLinter",fe),a&&a.dispatch({effects:M.reconfigure(Ce())})}(b),4&n.$$.dirty[1]&&function(fe){a&&(U("updateIndentation",fe),a.dispatch({effects:ee.reconfigure(Te(fe))}))}(g),8&n.$$.dirty[1]&&function(fe){a&&(U("updateTabSize",fe),a.dispatch({effects:H.reconfigure(zt.tabSize.of(fe))}))}(v),1&n.$$.dirty[0]&&function(fe){a&&(U("updateReadOnly",fe),a.dispatch({effects:[E.reconfigure(zt.readOnly.of(fe))]}))}(c),2097168&n.$$.dirty[1]&&N!==m&&(t(52,N=m),U("forceUpdateText",{escapeUnicodeCharacters:m}),a&&a.dispatch({changes:{from:0,to:a.state.doc.length,insert:r.escapeValue(D)}})),1&n.$$.dirty[0]|4194304&n.$$.dirty[1]&&t(15,i=Pn!==qx||c?[nn]:[{icon:uh,text:"Auto repair",title:"Automatically repair JSON",onClick:ye},nn])},[c,u,d,Q,Ve,o,s,l,ie,G,L,D,se,$e,$t,i,re,at,Fe,function(){var fe;if(!c)try{var Re=y.parse(D);wt=!0,Z({id:Y,json:Re,rootPath:[],onSort:(fe=st(function*(ft){var{operations:qt}=ft;U("onSort",qt),jt(qt,!0)}),function(ft){return fe.apply(this,arguments)}),onClose:()=>{wt=!1,Ve()}})}catch(ft){B(ft)}},function(){c||Gt({rootPath:[]})},function(){a&&(o&&o.querySelector(".cm-search")?F0(a):q0(a))},function(){c||a&&(R0(a),Ve())},function(){c||a&&(wf(a),Ve())},function(){t(8,ie=!0),A(h,!0,!0)},function(){S(Tn.tree)},function(){oe()},function(fe){U("select validation error",fe);var{from:Re,to:ft}=mt(fe);Re!==void 0&&ft!==void 0&&(Me(Re,ft),Ve())},Qe,ir,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Z,J,function(fe){return jt(fe,!1)},jt,Gt,function(){return X.apply(this,arguments)},qn,N,Pn,function(fe){xt[fe?"unshift":"push"](()=>{t(5,o=fe)})},()=>t(9,G=!1),function(fe){xt[fe?"unshift":"push"](()=>{t(6,s=fe)})}]}v1.style=n=>oW(n||[]);class dW extends et{constructor(e){super(),Ze(this,e,uW,cW,yt,{readOnly:0,mainMenuBar:1,statusBar:2,askToFormat:30,externalContent:31,externalSelection:32,indentation:33,tabSize:34,escapeUnicodeCharacters:35,parser:36,validator:37,validationParser:38,onChange:39,onChangeMode:40,onSelect:41,onError:42,onFocus:43,onBlur:44,onRenderMenu:3,onSortModal:45,onTransformModal:46,focus:4,patch:47,handlePatch:48,openTransformModal:49,refresh:50,validate:51},sW,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[4]}get patch(){return this.$$.ctx[47]}get handlePatch(){return this.$$.ctx[48]}get openTransformModal(){return this.$$.ctx[49]}get refresh(){return this.$$.ctx[50]}get validate(){return this.$$.ctx[51]}}function fW(n){var e,t;return e=new Vh({props:{items:n[0]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};1&o&&(s.items=r[0]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function hW(n,e,t){var r,i,{containsValidArray:o}=e,{readOnly:s}=e,{showSearch:a=!1}=e,{historyState:l}=e,{onSort:c}=e,{onTransform:u}=e,{onContextMenu:d}=e,{onUndo:f}=e,{onRedo:h}=e,{onRenderMenu:p}=e;function g(){t(1,a=!a)}return n.$$set=v=>{"containsValidArray"in v&&t(2,o=v.containsValidArray),"readOnly"in v&&t(3,s=v.readOnly),"showSearch"in v&&t(1,a=v.showSearch),"historyState"in v&&t(4,l=v.historyState),"onSort"in v&&t(5,c=v.onSort),"onTransform"in v&&t(6,u=v.onTransform),"onContextMenu"in v&&t(7,d=v.onContextMenu),"onUndo"in v&&t(8,f=v.onUndo),"onRedo"in v&&t(9,h=v.onRedo),"onRenderMenu"in v&&t(10,p=v.onRenderMenu)},n.$$.update=()=>{1020&n.$$.dirty&&t(11,r=s?[{type:"space"}]:[{type:"button",icon:dh,title:"Sort",className:"jse-sort",onClick:c,disabled:s||!o},{type:"button",icon:ch,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:u,disabled:s||!o},{type:"button",icon:fh,title:"Search (Ctrl+F)",className:"jse-search",onClick:g,disabled:!o},{type:"button",icon:Mk,title:Gv,className:"jse-contextmenu",onClick:d},{type:"separator"},{type:"button",icon:u0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:f,disabled:!l.canUndo},{type:"button",icon:c0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:h,disabled:!l.canRedo},{type:"space"}]),3072&n.$$.dirty&&t(0,i=p(r)||r)},[i,a,o,s,l,c,u,d,f,h,p,r]}class pW extends et{constructor(e){super(),Ze(this,e,hW,fW,yt,{containsValidArray:2,readOnly:3,showSearch:1,historyState:4,onSort:5,onTransform:6,onContextMenu:7,onUndo:8,onRedo:9,onRenderMenu:10})}}function mW(n){ct(n,"svelte-h57m0p",'.jse-inline-value.svelte-h57m0p{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px));border:none;padding:0 calc(0.5 * var(--jse-padding, 10px));background:transparent;color:inherit;cursor:inherit}.jse-inline-value.jse-highlight.svelte-h57m0p{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-inline-value.jse-highlight.jse-active.svelte-h57m0p{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}')}function gW(n){var e,t,r,i,o,s=Jo((e=n[2].stringify(n[1]))!==null&&e!==void 0?e:"",50)+"";return{c(){t=I("button"),r=Se(s),w(t,"type","button"),w(t,"class","jse-inline-value svelte-h57m0p"),he(t,"jse-selected",n[3]),he(t,"jse-highlight",n[4]),he(t,"jse-active",n[5])},m(a,l){K(a,t,l),O(t,r),i||(o=ve(t,"dblclick",n[7]),i=!0)},p(a,l){var c,[u]=l;6&u&&s!==(s=Jo((c=a[2].stringify(a[1]))!==null&&c!==void 0?c:"",50)+"")&&Xe(r,s),8&u&&he(t,"jse-selected",a[3]),16&u&&he(t,"jse-highlight",a[4]),32&u&&he(t,"jse-active",a[5])},i:ke,o:ke,d(a){a&&W(t),i=!1,o()}}}function vW(n,e,t){var{path:r}=e,{value:i}=e,{parser:o}=e,{isSelected:s}=e,{containsSearchResult:a}=e,{containsActiveSearchResult:l}=e,{onEdit:c}=e;return n.$$set=u=>{"path"in u&&t(0,r=u.path),"value"in u&&t(1,i=u.value),"parser"in u&&t(2,o=u.parser),"isSelected"in u&&t(3,s=u.isSelected),"containsSearchResult"in u&&t(4,a=u.containsSearchResult),"containsActiveSearchResult"in u&&t(5,l=u.containsActiveSearchResult),"onEdit"in u&&t(6,c=u.onEdit)},[r,i,o,s,a,l,c,()=>c(r)]}class yW extends et{constructor(e){super(),Ze(this,e,vW,gW,yt,{path:0,value:1,parser:2,isSelected:3,containsSearchResult:4,containsActiveSearchResult:5,onEdit:6},mW)}}function bW(n){ct(n,"svelte-2i3vdx",".jse-column-header.svelte-2i3vdx.svelte-2i3vdx{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-2i3vdx.svelte-2i3vdx:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-2i3vdx.svelte-2i3vdx:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-2i3vdx span.jse-column-sort-icon.svelte-2i3vdx{height:1em}")}function Lj(n){var e,t,r,i;return t=new Mt({props:{data:n[1]===yi.asc?pi:G1}}),{c(){e=I("span"),ue(t.$$.fragment),w(e,"class","jse-column-sort-icon svelte-2i3vdx"),w(e,"title",r="Currently sorted in ".concat(n[2]," order"))},m(o,s){K(o,e,s),le(t,e,null),i=!0},p(o,s){var a={};2&s&&(a.data=o[1]===yi.asc?pi:G1),t.$set(a),(!i||4&s&&r!==(r="Currently sorted in ".concat(o[2]," order")))&&w(e,"title",r)},i(o){i||($(t.$$.fragment,o),i=!0)},o(o){C(t.$$.fragment,o),i=!1},d(o){o&&W(e),ce(t)}}}function xW(n){var e,t,r,i,o,s,a,l,c=Jo(n[3],50)+"",u=n[1]!==void 0&&Lj(n);return{c(){e=I("button"),t=I("span"),r=Se(c),i=ne(),u&&u.c(),w(t,"class","jse-column-name"),w(e,"type","button"),w(e,"class","jse-column-header svelte-2i3vdx"),w(e,"title",o=n[0]?n[3]:n[3]+" (Click to sort the data by this column)"),he(e,"jse-readonly",n[0])},m(d,f){K(d,e,f),O(e,t),O(t,r),O(e,i),u&&u.m(e,null),s=!0,a||(l=ve(e,"click",n[4]),a=!0)},p(d,f){var[h]=f;(!s||8&h)&&c!==(c=Jo(d[3],50)+"")&&Xe(r,c),d[1]!==void 0?u?(u.p(d,h),2&h&&$(u,1)):((u=Lj(d)).c(),$(u,1),u.m(e,null)):u&&(be(),C(u,1,1,()=>{u=null}),xe()),(!s||9&h&&o!==(o=d[0]?d[3]:d[3]+" (Click to sort the data by this column)"))&&w(e,"title",o),(!s||1&h)&&he(e,"jse-readonly",d[0])},i(d){s||($(u),s=!0)},o(d){C(u),s=!1},d(d){d&&W(e),u&&u.d(),a=!1,l()}}}function wW(n,e,t){var r,i,o,{path:s}=e,{sortedColumn:a}=e,{readOnly:l}=e,{onSort:c}=e;return n.$$set=u=>{"path"in u&&t(5,s=u.path),"sortedColumn"in u&&t(6,a=u.sortedColumn),"readOnly"in u&&t(0,l=u.readOnly),"onSort"in u&&t(7,c=u.onSort)},n.$$.update=()=>{var u;32&n.$$.dirty&&t(3,r=Lt(s)?"values":oi(s)),96&n.$$.dirty&&t(1,i=a&&Ct(s,(u=a)===null||u===void 0?void 0:u.path)?a.sortDirection:void 0),2&n.$$.dirty&&t(2,o=i?zB[i]:void 0)},[l,i,o,r,function(){l||c({path:s,sortDirection:i===yi.asc?yi.desc:yi.asc})},s,a,c]}class jW extends et{constructor(e){super(),Ze(this,e,wW,xW,yt,{path:5,sortedColumn:6,readOnly:0,onSort:7},bW)}}function W6(n,e){return Od||(Ed=new WeakMap,Od=new ResizeObserver(t=>{for(var r of t){var i=Ed.get(r.target);i&&i(r.target)}})),Ed.set(n,e),Od.observe(n),{destroy:()=>{Ed.delete(n),Od.unobserve(n)}}}function $W(n){ct(n,"svelte-1q0ce0e",'.jse-table-mode-welcome.svelte-1q0ce0e.svelte-1q0ce0e{flex:1;display:flex;flex-direction:column;overflow:auto;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-1q0ce0e.svelte-1q0ce0e:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-before.svelte-1q0ce0e{flex:1}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays.svelte-1q0ce0e{display:flex;flex-direction:column;gap:var(--jse-padding, 10px);max-width:300px;margin:2em var(--jse-padding, 10px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays .jse-nested-arrays-info.svelte-1q0ce0e{color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays button.jse-nested-array-action.svelte-1q0ce0e{text-align:left;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays button.jse-nested-array-action.svelte-1q0ce0e:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays button.jse-nested-array-action.svelte-1q0ce0e:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays button.jse-nested-array-action .jse-nested-array-count.svelte-1q0ce0e{opacity:0.5;white-space:nowrap}.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-after.svelte-1q0ce0e{flex:2}')}function Bj(n,e,t){var r=n.slice();r[16]=e[t];var i=r[9](r[16]);return r[17]=i,r}function kW(n){var e,t;return{c(){e=Se(n[7]),t=Se(" cannot be opened in table mode.")},m(r,i){K(r,e,i),K(r,t,i)},p(r,i){128&i&&Xe(e,r[7])},d(r){r&&(W(e),W(t))}}}function CW(n){var e;return{c(){e=Se(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`)},m(t,r){K(t,e,r)},p:ke,d(t){t&&W(e)}}}function SW(n){var e;return{c(){e=Se("You can open the document in tree mode instead.")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function OW(n){var e,t,r;return{c(){e=Se("You can open the document in tree mode instead, or paste a JSON Array using "),(t=I("b")).textContent="Ctrl+V",r=Se(".")},m(i,o){K(i,e,o),K(i,t,o),K(i,r,o)},d(i){i&&(W(e),W(t),W(r))}}}function qj(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p=oi(n[16])+"",g=n[17]+"",v=n[17]!==1?"items":"item";function m(){return n[13](n[16])}return{c(){e=I("button"),t=Se(n[8]),r=Se(' "'),i=Se(p),o=Se(`"
        `),s=I("span"),a=Se("("),l=Se(g),c=ne(),u=Se(v),d=Se(")"),w(s,"class","jse-nested-array-count svelte-1q0ce0e"),w(e,"type","button"),w(e,"class","jse-nested-array-action svelte-1q0ce0e")},m(y,b){K(y,e,b),O(e,t),O(e,r),O(e,i),O(e,o),O(e,s),O(s,a),O(s,l),O(s,c),O(s,u),O(s,d),f||(h=ve(e,"click",m),f=!0)},p(y,b){n=y,256&b&&Xe(t,n[8]),16&b&&p!==(p=oi(n[16])+"")&&Xe(i,p),16&b&&g!==(g=n[17]+"")&&Xe(l,g),16&b&&v!==(v=n[17]!==1?"items":"item")&&Xe(u,v)},d(y){y&&W(e),f=!1,h()}}}function EW(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y;function b(Z,J){return Z[6]?CW:kW}var j=b(n),x=j(n);function S(Z,J){return Z[5]&&!Z[0]?OW:SW}for(var _=S(n),B=_(n),R=ut(n[4]),F=[],Q=0;Q<R.length;Q+=1)F[Q]=qj(Bj(n,R,Q));return{c(){e=I("div"),t=I("div"),r=ne(),i=I("div"),o=I("div"),s=Se(n[7]),a=ne(),l=I("div"),x.c(),c=ne(),B.c(),u=ne();for(var Z=0;Z<F.length;Z+=1)F[Z].c();d=ne(),f=I("button"),h=Se(n[8]),p=Se(" in tree mode"),g=ne(),v=I("div"),w(t,"class","jse-space jse-before svelte-1q0ce0e"),w(o,"class","jse-nested-arrays-title"),w(l,"class","jse-nested-arrays-info svelte-1q0ce0e"),w(f,"type","button"),w(f,"class","jse-nested-array-action svelte-1q0ce0e"),w(i,"class","jse-nested-arrays svelte-1q0ce0e"),w(v,"class","jse-space jse-after svelte-1q0ce0e"),w(e,"class","jse-table-mode-welcome svelte-1q0ce0e"),w(e,"role","none")},m(Z,J){K(Z,e,J),O(e,t),O(e,r),O(e,i),O(i,o),O(o,s),O(i,a),O(i,l),x.m(l,null),O(l,c),B.m(l,null),O(i,u);for(var U=0;U<F.length;U+=1)F[U]&&F[U].m(i,null);O(i,d),O(i,f),O(f,h),O(f,p),O(e,g),O(e,v),m||(y=[ve(f,"click",n[14]),ve(e,"click",n[15])],m=!0)},p(Z,J){var[U]=J;if(128&U&&Xe(s,Z[7]),j===(j=b(Z))&&x?x.p(Z,U):(x.d(1),(x=j(Z))&&(x.c(),x.m(l,c))),_!==(_=S(Z))&&(B.d(1),(B=_(Z))&&(B.c(),B.m(l,null))),786&U){var T;for(R=ut(Z[4]),T=0;T<R.length;T+=1){var re=Bj(Z,R,T);F[T]?F[T].p(re,U):(F[T]=qj(re),F[T].c(),F[T].m(i,d))}for(;T<F.length;T+=1)F[T].d(1);F.length=R.length}256&U&&Xe(h,Z[8])},i:ke,o:ke,d(Z){Z&&W(e),x.d(),B.d(),Ln(F,Z),m=!1,tn(y)}}}function AW(n,e,t){var r,i,o,s,a,{text:l}=e,{json:c}=e,{readOnly:u}=e,{parser:d}=e,{openJSONEditorModal:f}=e,{onChangeMode:h}=e,{onClick:p}=e;return n.$$set=g=>{"text"in g&&t(10,l=g.text),"json"in g&&t(11,c=g.json),"readOnly"in g&&t(0,u=g.readOnly),"parser"in g&&t(12,d=g.parser),"openJSONEditorModal"in g&&t(1,f=g.openJSONEditorModal),"onChangeMode"in g&&t(2,h=g.onChangeMode),"onClick"in g&&t(3,p=g.onClick)},n.$$.update=()=>{1&n.$$.dirty&&t(8,r=u?"View":"Edit"),2048&n.$$.dirty&&t(4,a=c?function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,m=[];return function y(b,j){An(b)&&j.length<v&&Object.keys(b).forEach(x=>{y(b[x],j.concat(x))}),vn(b)&&m.push(j)}(g,[]),m}(c).slice(0,99).filter(g=>g.length>0):[]),16&n.$$.dirty&&t(6,i=!Lt(a)),3072&n.$$.dirty&&t(5,o=c===void 0&&(l===""||l===void 0)),6240&n.$$.dirty&&t(7,s=i?"Object with nested arrays":o?"An empty document":An(c)?"An object":vn(c)?"An empty array":"A ".concat(Bv(c,d)))},[u,f,h,p,a,o,i,s,r,function(g){return De(c,g).length},l,c,d,g=>f(g),()=>h(Tn.tree),()=>p()]}class MW extends et{constructor(e){super(),Ze(this,e,AW,EW,yt,{text:10,json:11,readOnly:0,parser:12,openJSONEditorModal:1,onChangeMode:2,onClick:3},$W)}}function PW(n){ct(n,"svelte-fzj761",".jse-column-header.svelte-fzj761{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-fzj761:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-fzj761:not(.jse-column-header.jse-readonly){cursor:pointer}")}function _W(n){var e,t,r,i,o,s;return t=new Mt({props:{data:fA}}),{c(){e=I("button"),ue(t.$$.fragment),w(e,"type","button"),w(e,"class","jse-column-header svelte-fzj761"),w(e,"title",r="The Columns are created by sampling ".concat(n[1]," items out of ").concat(n[0],". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower.")},m(a,l){K(a,e,l),le(t,e,null),i=!0,o||(s=ve(e,"click",n[3]),o=!0)},p(a,l){var[c]=l;(!i||3&c&&r!==(r="The Columns are created by sampling ".concat(a[1]," items out of ").concat(a[0],". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower."))&&w(e,"title",r)},i(a){i||($(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&W(e),ce(t),o=!1,s()}}}function TW(n,e,t){var{count:r}=e,{maxSampleCount:i}=e,{onRefresh:o}=e;return n.$$set=s=>{"count"in s&&t(0,r=s.count),"maxSampleCount"in s&&t(1,i=s.maxSampleCount),"onRefresh"in s&&t(2,o=s.onRefresh)},[r,i,o,()=>o()]}class RW extends et{constructor(e){super(),Ze(this,e,TW,_W,yt,{count:0,maxSampleCount:1,onRefresh:2},PW)}}var{window:NW}=Iv;function DW(n){ct(n,"svelte-u14cgx",'.jse-table-mode.svelte-u14cgx.svelte-u14cgx{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px))}.jse-table-mode.no-main-menu.svelte-u14cgx.svelte-u14cgx{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-search-box-container.svelte-u14cgx{position:relative;height:0;top:calc(var(--jse-line-height, calc(1em + 4px)) + 2 * var(--jse-padding, 10px));margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-table-mode.svelte-u14cgx .jse-hidden-input-label.svelte-u14cgx{position:fixed;right:0;top:0;width:0;height:0}.jse-table-mode.svelte-u14cgx .jse-hidden-input-label .jse-hidden-input.svelte-u14cgx{width:0;height:0;padding:0;border:0;outline:none}.jse-table-mode.svelte-u14cgx .jse-contents.svelte-u14cgx{flex:1;align-items:flex-start;flex-direction:column;display:flex;overflow:auto;overflow-anchor:none;scrollbar-gutter:stable;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-contents.svelte-u14cgx:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main.svelte-u14cgx{border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-invisible-start-section td.svelte-u14cgx,.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-u14cgx{margin:0;padding:0}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-search-box-background.svelte-u14cgx{background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-u14cgx{padding-bottom:var(--jse-padding, 10px)}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row.svelte-u14cgx:hover{background-color:var(--jse-table-row-odd-background, rgba(0, 0, 0, 0.05))}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-u14cgx{padding:0 var(--jse-padding, 10px) 0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height, calc(1em + 4px))}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-u14cgx,.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-u14cgx{font-weight:normal;text-align:left;color:var(--jse-text-readonly, #8d8d8d);background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-u14cgx{padding:0;position:sticky;top:0}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header .jse-table-root-error.svelte-u14cgx{padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-u14cgx{padding:0 var(--jse-padding, 10px) 0 calc(0.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-value-outer.svelte-u14cgx{display:inline-block;cursor:var(--jse-contents-cursor, pointer)}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-value-outer.svelte-u14cgx:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-value-outer.jse-selected-value.svelte-u14cgx{background:var(--jse-selection-background-color, #d3d3d3)}.jse-table-mode.svelte-u14cgx .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-context-menu-anchor.svelte-u14cgx{display:inline-flex;position:relative;vertical-align:top}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading.svelte-u14cgx{align-items:unset}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading .jse-loading-space.svelte-u14cgx{flex:1}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading .jse-loading.svelte-u14cgx{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}')}function Fj(n,e,t){var r,i=n.slice();i[138]=e[t],i[144]=t;var o=i[31].startIndex+i[144];i[139]=o;var s=i[30].rows[i[139]];i[140]=s;var a=h1([String(i[139])],(r=i[140])===null||r===void 0?void 0:r.row);i[141]=a;var l=Ml(i[8],i[22],[String(i[139])]);return i[142]=l,i}function Vj(n,e,t){var r,i=n.slice();i[145]=e[t],i[151]=t;var o=[String(i[139])].concat(i[145]);i[146]=o;var s=De(i[138],i[145]);i[147]=s;var a=Ft(i[13])&&Yo(i[13].path,i[146]);i[148]=a;var l=(r=i[140])===null||r===void 0?void 0:r.columns[i[151]];i[149]=l;var c=h1(i[146],i[149]);return i[141]=c,i}function Uj(n,e,t){var r=n.slice();return r[145]=e[t],r}function Yp(n){var e,t=n.slice(),r=h1([],(e=t[30])===null||e===void 0?void 0:e.root);return t[141]=r,t}function Hj(n){var e,t,r;function i(s){n[84](s)}var o={containsValidArray:n[24],readOnly:n[0],historyState:n[28],onSort:n[52],onTransform:n[53],onUndo:n[54],onRedo:n[55],onContextMenu:n[44],onRenderMenu:n[5]};return n[9]!==void 0&&(o.showSearch=n[9]),e=new pW({props:o}),xt.push(()=>Lr(e,"showSearch",i)),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),r=!0},p(s,a){var l={};16777216&a[0]&&(l.containsValidArray=s[24]),1&a[0]&&(l.readOnly=s[0]),268435456&a[0]&&(l.historyState=s[28]),32&a[0]&&(l.onRenderMenu=s[5]),!t&&512&a[0]&&(t=!0,l.showSearch=s[9],zr(()=>t=!1)),e.$set(l)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),r=!1},d(s){ce(e,s)}}}function IW(n){var e;return{c(){(e=I("div")).innerHTML='<div class="jse-loading-space svelte-u14cgx"></div> <div class="jse-loading svelte-u14cgx">loading...</div>',w(e,"class","jse-contents jse-contents-loading svelte-u14cgx")},m(t,r){K(t,e,r)},p:ke,i:ke,o:ke,d(t){t&&W(e)}}}function zW(n){var e,t,r,i,o,s,a,l,c,u=[qW,BW,LW],d=[];function f(h,p){return h[24]?0:h[20]&&h[19]!==void 0&&h[19]!==""?1:2}return i=f(n),o=d[i]=u[i](n),{c(){e=I("label"),t=I("input"),r=ne(),o.c(),s=Bt(),w(t,"type","text"),t.readOnly=!0,w(t,"tabindex","-1"),w(t,"class","jse-hidden-input svelte-u14cgx"),w(e,"class","jse-hidden-input-label svelte-u14cgx")},m(h,p){K(h,e,p),O(e,t),n[85](t),K(h,r,p),d[i].m(h,p),K(h,s,p),a=!0,l||(c=ve(t,"paste",n[49]),l=!0)},p(h,p){var g=i;(i=f(h))===g?d[i].p(h,p):(be(),C(d[g],1,1,()=>{d[g]=null}),xe(),(o=d[i])?o.p(h,p):(o=d[i]=u[i](h)).c(),$(o,1),o.m(s.parentNode,s))},i(h){a||($(o),a=!0)},o(h){C(o),a=!1},d(h){h&&(W(e),W(r),W(s)),n[85](null),d[i].d(h),l=!1,c()}}}function LW(n){var e,t;return e=new MW({props:{text:n[19],json:n[8],readOnly:n[0],parser:n[2],openJSONEditorModal:n[51],onChangeMode:n[4],onClick:n[89]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};524288&i[0]&&(o.text=r[19]),256&i[0]&&(o.json=r[8]),1&i[0]&&(o.readOnly=r[0]),4&i[0]&&(o.parser=r[2]),16&i[0]&&(o.onChangeMode=r[4]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function BW(n){var e,t,r,i;return e=new Gi({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:Ps,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:n[47]}]}}),r=new V6({props:{text:n[19],json:n[8],indentation:n[3],parser:n[2]}}),{c(){ue(e.$$.fragment),t=ne(),ue(r.$$.fragment)},m(o,s){le(e,o,s),K(o,t,s),le(r,o,s),i=!0},p(o,s){var a={};1&s[0]&&(a.actions=o[0]?[]:[{icon:Ps,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:o[47]}]),e.$set(a);var l={};524288&s[0]&&(l.text=o[19]),256&s[0]&&(l.json=o[8]),8&s[0]&&(l.indentation=o[3]),4&s[0]&&(l.parser=o[2]),r.$set(l)},i(o){i||($(e.$$.fragment,o),$(r.$$.fragment,o),i=!0)},o(o){C(e.$$.fragment,o),C(r.$$.fragment,o),i=!1},d(o){o&&W(t),ce(e,o),ce(r,o)}}}function qW(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Q,Z=!Lt((e=n[30])===null||e===void 0?void 0:e.root);r=new N6({props:{json:n[8],documentState:n[12],parser:n[2],showSearch:n[9],showReplace:n[23],readOnly:n[0],columns:n[11],onSearch:n[34],onFocus:n[35],onPatch:n[38],onClose:n[36]}});for(var J=Z&&Wj(Yp(n)),U=ut(n[11]),T=[],re=0;re<U.length;re+=1)T[re]=Gj(Uj(n,U,re));for(var ie=P=>C(T[P],1,1,()=>{T[P]=null}),G=n[32]&&Jj(n),L=ut(n[31].visibleItems),M=[],E=0;E<L.length;E+=1)M[E]=n$(Fj(n,L,E));var ee=P=>C(M[P],1,1,()=>{M[P]=null}),H=n[21]&&r$(n),k=n[27]&&i$(n);return B=new u1({props:{validationErrors:n[14],selectError:n[50]}}),{c(){t=I("div"),ue(r.$$.fragment),i=ne(),o=I("div"),s=I("table"),a=I("tbody"),l=I("tr"),c=I("th"),J&&J.c(),u=ne();for(var P=0;P<T.length;P+=1)T[P].c();d=ne(),G&&G.c(),f=ne(),h=I("tr"),p=I("td"),v=ne();for(var D=0;D<M.length;D+=1)M[D].c();m=ne(),y=I("tr"),b=I("td"),x=ne(),H&&H.c(),S=ne(),k&&k.c(),_=ne(),ue(B.$$.fragment),w(t,"class","jse-search-box-container svelte-u14cgx"),w(c,"class","jse-table-cell jse-table-cell-header svelte-u14cgx"),w(l,"class","jse-table-row jse-table-row-header svelte-u14cgx"),w(p,"colspan",g=n[11].length),w(p,"class","svelte-u14cgx"),xr(p,"height",n[31].startHeight+"px"),w(h,"class","jse-table-invisible-start-section svelte-u14cgx"),he(h,"jse-search-box-background",n[9]),w(b,"colspan",j=n[11].length),w(b,"class","svelte-u14cgx"),xr(b,"height",n[31].endHeight+"px"),w(y,"class","jse-table-invisible-end-section"),w(s,"class","jse-table-main svelte-u14cgx"),w(o,"class","jse-contents svelte-u14cgx")},m(P,D){K(P,t,D),le(r,t,null),K(P,i,D),K(P,o,D),O(o,s),O(s,a),O(a,l),O(l,c),J&&J.m(c,null),O(l,u);for(var N=0;N<T.length;N+=1)T[N]&&T[N].m(l,null);O(l,d),G&&G.m(l,null),O(a,f),O(a,h),O(h,p),O(a,v);for(var se=0;se<M.length;se+=1)M[se]&&M[se].m(a,null);O(a,m),O(a,y),O(y,b),n[88](o),K(P,x,D),H&&H.m(P,D),K(P,S,D),k&&k.m(P,D),K(P,_,D),le(B,P,D),R=!0,F||(Q=[$r(W6.call(null,o,n[56])),ve(o,"scroll",n[40])],F=!0)},p(P,D){var N,se={};if(256&D[0]&&(se.json=P[8]),4096&D[0]&&(se.documentState=P[12]),4&D[0]&&(se.parser=P[2]),512&D[0]&&(se.showSearch=P[9]),8388608&D[0]&&(se.showReplace=P[23]),1&D[0]&&(se.readOnly=P[0]),2048&D[0]&&(se.columns=P[11]),r.$set(se),1073741824&D[0]&&(Z=!Lt((N=P[30])===null||N===void 0?void 0:N.root)),Z?J?(J.p(Yp(P),D),1073741824&D[0]&&$(J,1)):((J=Wj(Yp(P))).c(),$(J,1),J.m(c,null)):J&&(be(),C(J,1,1,()=>{J=null}),xe()),67110913&D[0]|64&D[1]){var $e;for(U=ut(P[11]),$e=0;$e<U.length;$e+=1){var Y=Uj(P,U,$e);T[$e]?(T[$e].p(Y,D),$(T[$e],1)):(T[$e]=Gj(Y),T[$e].c(),$(T[$e],1),T[$e].m(l,d))}for(be(),$e=U.length;$e<T.length;$e+=1)ie($e);xe()}if(P[32]?G?(G.p(P,D),2&D[1]&&$(G,1)):((G=Jj(P)).c(),$(G,1),G.m(l,null)):G&&(be(),C(G,1,1,()=>{G=null}),xe()),(!R||2048&D[0]&&g!==(g=P[11].length))&&w(p,"colspan",g),1&D[1]&&xr(p,"height",P[31].startHeight+"px"),(!R||512&D[0])&&he(h,"jse-search-box-background",P[9]),1614821637&D[0]|68159491&D[1]){var Pe;for(L=ut(P[31].visibleItems),Pe=0;Pe<L.length;Pe+=1){var Ve=Fj(P,L,Pe);M[Pe]?(M[Pe].p(Ve,D),$(M[Pe],1)):(M[Pe]=n$(Ve),M[Pe].c(),$(M[Pe],1),M[Pe].m(a,m))}for(be(),Pe=L.length;Pe<M.length;Pe+=1)ee(Pe);xe()}(!R||2048&D[0]&&j!==(j=P[11].length))&&w(b,"colspan",j),1&D[1]&&xr(b,"height",P[31].endHeight+"px"),P[21]?H?(H.p(P,D),2097152&D[0]&&$(H,1)):((H=r$(P)).c(),$(H,1),H.m(S.parentNode,S)):H&&(be(),C(H,1,1,()=>{H=null}),xe()),P[27]?k?(k.p(P,D),134217728&D[0]&&$(k,1)):((k=i$(P)).c(),$(k,1),k.m(_.parentNode,_)):k&&(be(),C(k,1,1,()=>{k=null}),xe());var wt={};16384&D[0]&&(wt.validationErrors=P[14]),B.$set(wt)},i(P){if(!R){$(r.$$.fragment,P),$(J);for(var D=0;D<U.length;D+=1)$(T[D]);$(G);for(var N=0;N<L.length;N+=1)$(M[N]);$(H),$(k),$(B.$$.fragment,P),R=!0}},o(P){C(r.$$.fragment,P),C(J),T=T.filter(Boolean);for(var D=0;D<T.length;D+=1)C(T[D]);C(G),M=M.filter(Boolean);for(var N=0;N<M.length;N+=1)C(M[N]);C(H),C(k),C(B.$$.fragment,P),R=!1},d(P){P&&(W(t),W(i),W(o),W(x),W(S),W(_)),ce(r),J&&J.d(),Ln(T,P),G&&G.d(),Ln(M,P),n[88](null),H&&H.d(P),k&&k.d(P),ce(B,P),F=!1,tn(Q)}}}function Wj(n){var e,t,r=n[141]&&Kj(n);return{c(){r&&r.c(),e=Bt()},m(i,o){r&&r.m(i,o),K(i,e,o),t=!0},p(i,o){i[141]?r?(r.p(i,o),1073741824&o[0]&&$(r,1)):((r=Kj(i)).c(),$(r,1),r.m(e.parentNode,e)):r&&(be(),C(r,1,1,()=>{r=null}),xe())},i(i){t||($(r),t=!0)},o(i){C(r),t=!1},d(i){i&&W(e),r&&r.d(i)}}}function Kj(n){var e,t,r;return t=new Wl({props:{validationError:n[141],onExpand:Ai}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-table-root-error svelte-u14cgx")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};1073741824&o[0]&&(s.validationError=i[141]),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Gj(n){var e,t,r;return t=new jW({props:{path:n[145],sortedColumn:n[26],readOnly:n[0],onSort:n[37]}}),{c(){e=I("th"),ue(t.$$.fragment),w(e,"class","jse-table-cell jse-table-cell-header svelte-u14cgx")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};2048&o[0]&&(s.path=i[145]),67108864&o[0]&&(s.sortedColumn=i[26]),1&o[0]&&(s.readOnly=i[0]),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Jj(n){var e,t,r;return t=new RW({props:{count:Array.isArray(n[8])?n[8].length:0,maxSampleCount:n[10],onRefresh:n[86]}}),{c(){e=I("th"),ue(t.$$.fragment),w(e,"class","jse-table-cell jse-table-cell-header svelte-u14cgx")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};256&o[0]&&(s.count=Array.isArray(i[8])?i[8].length:0),1024&o[0]&&(s.maxSampleCount=i[10]),1024&o[0]&&(s.onRefresh=i[86]),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Qj(n){var e,t;return e=new Wl({props:{validationError:n[141],onExpand:Ai}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1073741824&i[0]|1&i[1]&&(o.validationError=r[141]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Yj(n){var e,t,r,i,o,s,a,l=n[139]+"",c=n[141]&&Qj(n);function u(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return n[87](n[139],...f)}return{c(){e=I("th"),t=Se(l),r=ne(),c&&c.c(),w(e,"class","jse-table-cell jse-table-cell-gutter svelte-u14cgx")},m(d,f){K(d,e,f),O(e,t),O(e,r),c&&c.m(e,null),o=!0,s||(a=$r(i=W6.call(null,e,u)),s=!0)},p(d,f){n=d,(!o||1&f[1])&&l!==(l=n[139]+"")&&Xe(t,l),n[141]?c?(c.p(n,f),1073741824&f[0]|1&f[1]&&$(c,1)):((c=Qj(n)).c(),$(c,1),c.m(e,null)):c&&(be(),C(c,1,1,()=>{c=null}),xe()),i&&ii(i.update)&&1&f[1]&&i.update.call(null,u)},i(d){o||($(c),o=!0)},o(d){C(c),o=!1},d(d){d&&W(e),c&&c.d(),s=!1,a()}}}function FW(n){var e,t;return e=new _6({props:{path:n[146],value:n[147]!==void 0?n[147]:"",enforceString:jo(n[8],n[12],n[146]),selection:n[148]?n[13]:void 0,searchResultItems:n[154],context:n[29]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};2048&i[0]|1&i[1]&&(o.path=r[146]),2048&i[0]|1&i[1]&&(o.value=r[147]!==void 0?r[147]:""),6400&i[0]|1&i[1]&&(o.enforceString=jo(r[8],r[12],r[146])),10240&i[0]|1&i[1]&&(o.selection=r[148]?r[13]:void 0),4196608&i[0]|1&i[1]&&(o.searchResultItems=r[154]),536870912&i[0]&&(o.context=r[29]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function VW(n){var e,t;return e=new yW({props:{path:n[146],value:n[147],parser:n[2],isSelected:n[148],containsSearchResult:!Lt(n[152]),containsActiveSearchResult:n[153],onEdit:n[51]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};2048&i[0]|1&i[1]&&(o.path=r[146]),2048&i[0]|1&i[1]&&(o.value=r[147]),4&i[0]&&(o.parser=r[2]),10240&i[0]|1&i[1]&&(o.isSelected=r[148]),4196608&i[0]|1&i[1]&&(o.containsSearchResult=!Lt(r[152])),4196608&i[0]|1&i[1]&&(o.containsActiveSearchResult=r[153]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Xj(n){var e,t,r;return t=new Ws({props:{selected:!0,onContextMenu:n[42]}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-context-menu-anchor svelte-u14cgx")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p:ke,i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function Zj(n){var e,t;return e=new Wl({props:{validationError:n[141],onExpand:Ai}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1073743872&i[0]|1&i[1]&&(o.validationError=r[141]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function e$(n){var e,t,r,i,o,s,a,l,c,u=!n[0]&&n[148]&&!Un(n[13]),d=[VW,FW],f=[];function h(m,y){return 2048&y[0]|1&y[1]&&(r=null),r==null&&(r=!!Cn(m[147])),r?0:1}function p(m,y){return y===0?function(b){var j=b.slice(),x=Ig(Ml(j[138],j[142],j[145]));j[152]=x;var S=!!j[152]&&j[152].some(_=>_.active);return j[153]=S,j}(m):function(b){var j,x=b.slice(),S=(j=Ml(x[8],x[22],x[146]))===null||j===void 0?void 0:j.searchResults;return x[154]=S,x}(m)}i=h(n,[-1,-1,-1,-1,-1,-1]),o=f[i]=d[i](p(n,i));var g=u&&Xj(n),v=n[141]&&Zj(n);return{c(){e=I("td"),t=I("div"),o.c(),s=Bt(),g&&g.c(),a=ne(),v&&v.c(),w(t,"class","jse-value-outer svelte-u14cgx"),he(t,"jse-selected-value",n[148]),w(e,"class","jse-table-cell svelte-u14cgx"),w(e,"data-path",l=Vf(n[146]))},m(m,y){K(m,e,y),O(e,t),f[i].m(t,null),O(t,s),g&&g.m(t,null),O(e,a),v&&v.m(e,null),c=!0},p(m,y){var b=i;(i=h(m,y))===b?f[i].p(p(m,i),y):(be(),C(f[b],1,1,()=>{f[b]=null}),xe(),(o=f[i])?o.p(p(m,i),y):(o=f[i]=d[i](p(m,i))).c(),$(o,1),o.m(t,s)),10241&y[0]|1&y[1]&&(u=!m[0]&&m[148]&&!Un(m[13])),u?g?(g.p(m,y),10241&y[0]|1&y[1]&&$(g,1)):((g=Xj(m)).c(),$(g,1),g.m(t,null)):g&&(be(),C(g,1,1,()=>{g=null}),xe()),(!c||10240&y[0]|1&y[1])&&he(t,"jse-selected-value",m[148]),m[141]?v?(v.p(m,y),1073743872&y[0]|1&y[1]&&$(v,1)):((v=Zj(m)).c(),$(v,1),v.m(e,null)):v&&(be(),C(v,1,1,()=>{v=null}),xe()),(!c||2048&y[0]|1&y[1]&&l!==(l=Vf(m[146])))&&w(e,"data-path",l)},i(m){c||($(o),$(g),$(v),c=!0)},o(m){C(o),C(g),C(v),c=!1},d(m){m&&W(e),f[i].d(),g&&g.d(),v&&v.d()}}}function t$(n){var e;return{c(){w(e=I("td"),"class","jse-table-cell svelte-u14cgx")},m(t,r){K(t,e,r)},d(t){t&&W(e)}}}function n$(n){for(var e,t,r,i,o=n[139],s=Yj(n),a=ut(n[11]),l=[],c=0;c<a.length;c+=1)l[c]=e$(Vj(n,a,c));var u=f=>C(l[f],1,1,()=>{l[f]=null}),d=n[32]&&t$();return{c(){e=I("tr"),s.c(),t=ne();for(var f=0;f<l.length;f+=1)l[f].c();r=ne(),d&&d.c(),w(e,"class","jse-table-row svelte-u14cgx")},m(f,h){K(f,e,h),s.m(e,null),O(e,t);for(var p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);O(e,r),d&&d.m(e,null),i=!0},p(f,h){if(1&h[1]&&yt(o,o=f[139])?(be(),C(s,1,1,ke),xe(),(s=Yj(f)).c(),$(s,1),s.m(e,t)):s.p(f,h),1614821637&h[0]|1050625&h[1]){var p;for(a=ut(f[11]),p=0;p<a.length;p+=1){var g=Vj(f,a,p);l[p]?(l[p].p(g,h),$(l[p],1)):(l[p]=e$(g),l[p].c(),$(l[p],1),l[p].m(e,r))}for(be(),p=a.length;p<l.length;p+=1)u(p);xe()}f[32]?d||((d=t$()).c(),d.m(e,null)):d&&(d.d(1),d=null)},i(f){if(!i){$(s);for(var h=0;h<a.length;h+=1)$(l[h]);i=!0}},o(f){C(s),l=l.filter(Boolean);for(var h=0;h<l.length;h+=1)C(l[h]);i=!1},d(f){f&&W(e),s.d(f),Ln(l,f),d&&d.d()}}}function r$(n){var e,t;return e=new Gi({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(n[21].contents)?"array":"object"," as text"),actions:[{icon:uh,text:"Paste as JSON instead",title:"Paste the text as JSON instead of a single value",onMouseDown:n[45]},{text:"Leave as is",title:"Keep the pasted content as a single value",onClick:n[46]}]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};2097152&i[0]&&(o.message="You pasted a JSON ".concat(Array.isArray(r[21].contents)?"array":"object"," as text")),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function i$(n){var e,t;return e=new Gi({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:Nc,text:"Ok",title:"Accept the repaired document",onClick:n[7]},{icon:Ps,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:n[47]}],onClose:n[6]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};1&i[0]&&(o.actions=r[0]?[]:[{icon:Nc,text:"Ok",title:"Accept the repaired document",onClick:r[7]},{icon:Ps,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:r[47]}]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function o$(n){var e,t;return e=new M6({props:{onClose:n[91]}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};33554432&i[0]&&(o.onClose=r[91]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function s$(n){for(var e,t,r=[n[18],{onClose:n[92]}],i={},o=0;o<r.length;o+=1)i=Yn(i,r[o]);return e=new P6({props:i}),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),t=!0},p(s,a){var l=262144&a[0]?Ur(r,[262144&a[0]&&wo(s[18]),{onClose:s[92]}]):{};e.$set(l)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function UW(n){var e,t,r,i,o,s,a,l,c,u,d=n[1]&&Hj(n),f=[zW,IW],h=[];r=function(v){return v[33]?1:0}(n),i=h[r]=f[r](n);var p=n[25]&&o$(n),g=n[18]&&s$(n);return{c(){e=I("div"),d&&d.c(),t=ne(),i.c(),o=ne(),p&&p.c(),s=ne(),g&&g.c(),a=Bt(),w(e,"role","table"),w(e,"class","jse-table-mode svelte-u14cgx"),he(e,"no-main-menu",!n[1])},m(v,m){K(v,e,m),d&&d.m(e,null),O(e,t),h[r].m(e,null),n[90](e),K(v,o,m),p&&p.m(v,m),K(v,s,m),g&&g.m(v,m),K(v,a,m),l=!0,c||(u=[ve(NW,"mousedown",n[39]),ve(e,"mousedown",n[41]),ve(e,"keydown",n[48]),ve(e,"contextmenu",n[43])],c=!0)},p(v,m){v[1]?d?(d.p(v,m),2&m[0]&&$(d,1)):((d=Hj(v)).c(),$(d,1),d.m(e,t)):d&&(be(),C(d,1,1,()=>{d=null}),xe()),i.p(v,m),(!l||2&m[0])&&he(e,"no-main-menu",!v[1]),v[25]?p?(p.p(v,m),33554432&m[0]&&$(p,1)):((p=o$(v)).c(),$(p,1),p.m(s.parentNode,s)):p&&(be(),C(p,1,1,()=>{p=null}),xe()),v[18]?g?(g.p(v,m),262144&m[0]&&$(g,1)):((g=s$(v)).c(),$(g,1),g.m(a.parentNode,a)):g&&(be(),C(g,1,1,()=>{g=null}),xe())},i(v){l||($(d),$(i),$(p),$(g),l=!0)},o(v){C(d),C(i),C(p),C(g),l=!1},d(v){v&&(W(e),W(o),W(s),W(a)),d&&d.d(),h[r].d(),n[90](null),p&&p.d(v),g&&g.d(v),c=!1,tn(u)}}}var sc=18;function HW(n,e,t){var r,i,o,s=Zn("jsoneditor:TableMode"),{openAbsolutePopup:a,closeAbsolutePopup:l}=Hs("absolute-popup"),c=S6(),u=gl(),d=gl(),f=typeof window>"u";s("isSSR:",f);var h,p,g,v,m,y,{readOnly:b}=e,{externalContent:j}=e,{externalSelection:x}=e,{mainMenuBar:S}=e,{escapeControlCharacters:_}=e,{escapeUnicodeCharacters:B}=e,{flattenColumns:R}=e,{parser:F}=e,{parseMemoizeOne:Q}=e,{validator:Z}=e,{validationParser:J}=e,{indentation:U}=e,{onChange:T}=e,{onChangeMode:re}=e,{onSelect:ie}=e,{onRenderValue:G}=e,{onRenderMenu:L}=e,{onRenderContextMenu:M}=e,{onFocus:E}=e,{onBlur:ee}=e,{onSortModal:H}=e,{onTransformModal:k}=e,{onJSONEditorModal:P}=e,D=void 0;c1({onMount:Vr,onDestroy:ri,getWindow:()=>ku(p),hasFocus:()=>ye&&document.hasFocus()||Vv(p),onFocus:()=>{Gt=!0,E&&E()},onBlur:()=>{Gt=!1,ee&&ee()}});var N,se,$e,Y=void 0,Pe=!1,Ve=!1;function wt(){return(wt=st(function*(q){t(13,we=void 0),yield nn(q)})).apply(this,arguments)}var jt,at=1e4,Fe=[],ye=!1,Gt=!1,Me=!1,At={},Ce=600,Je=0;function ae(q){t(13,we=q)}function mt(q){we&&q!==void 0&&(hi(q,ua(we))&&hi(q,Ke(we))||(s("clearing selection: path does not exist anymore",we),t(13,we=void 0)))}var we,A,V=m!==void 0?Pg({json:m}):void 0,X=!1,oe,me=O6({onChange:q=>{t(28,Te=q)}}),Te=me.getState();function nt(q){if(q.json!==void 0||q.text!==void 0){var ge=m!==void 0&&q.json!==void 0;me.add({undo:{patch:ge?[{op:"replace",path:"",value:q.json}]:void 0,json:q.json,text:q.text,documentState:q.documentState,textIsRepaired:q.textIsRepaired,selection:lo(q.selection),sortedColumn:q.sortedColumn},redo:{patch:ge?[{op:"replace",path:"",value:m}]:void 0,json:m,text:y,documentState:V,textIsRepaired:X,selection:lo(we),sortedColumn:A}})}}var dt=[],cn=du(E6);function Bn(q,ge,We,tt){el(()=>{var Ye;try{Ye=cn(q,ge,We,tt)}catch(rt){Ye=[{path:[],message:"Failed to validate: "+rt.message,severity:zi.warning}]}Ct(Ye,dt)||(s("validationErrors changed:",Ye),t(14,dt=Ye))},Ye=>s("validationErrors updated in ".concat(Ye," ms")))}function Ht(){return s("validate"),Y?{parseError:Y,isRepairable:!1}:(Bn(m,Z,F,J),Lt(dt)?void 0:{validationErrors:dt})}function Qe(q,ge){if(s("patch",q,ge),m===void 0)throw new Error("Cannot apply patch: no JSON");var We=m,tt={json:void 0,text:y,documentState:V,selection:lo(we),sortedColumn:A,textIsRepaired:X},Ye=h6(m,q),rt=n6(m,V,q),rn=WU(A,q,Fe),bt=typeof ge=="function"?ge(rt.json,rt.documentState,we):void 0;return t(8,m=(bt==null?void 0:bt.json)!==void 0?bt.json:rt.json),t(12,V=(bt==null?void 0:bt.state)!==void 0?bt.state:rt.documentState),t(13,we=(bt==null?void 0:bt.selection)!==void 0?bt.selection:we),t(26,A=(bt==null?void 0:bt.sortedColumn)!==void 0?bt.sortedColumn:rn),t(19,y=void 0),t(27,X=!1),t(21,N=void 0),t(20,Y=void 0),me.add({undo:Ee({patch:Ye},tt),redo:{patch:q,json:void 0,text:void 0,documentState:V,selection:lo(we),sortedColumn:A,textIsRepaired:X}}),{json:m,previousJson:We,undo:Ye,redo:q}}function $t(q,ge){s("handlePatch",q,ge);var We={json:m,text:y},tt=Qe(q,ge);return Pn(We,tt),tt}function Pn(q,ge){(q.json!==void 0||(q==null?void 0:q.text)!==void 0)&&T&&(y!==void 0?T({text:y,json:void 0},q,{contentErrors:Ht(),patchResult:ge}):m!==void 0&&T({text:void 0,json:m},q,{contentErrors:Ht(),patchResult:ge}))}function Hr(q){s("pasted json as text",q),t(21,N=q)}function qn(q){var ge=parseInt(q[0],10),We=[String(ge+1),...q.slice(1)];return hi(m,We)?Et(We):Et(q)}function un(){s("focus"),v&&(v.focus(),v.select())}function ir(){we||t(13,we=function(){if(vn(m)&&!Lt(m)&&!Lt(Fe))return Et(["0",...Fe[0]])}())}function nn(q){var ge=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],We=Pe?Qd:0,tt=ij(q,Fe,At,sc),Ye=tt-Je+We+sc,rt=ft(q);if(s("scrollTo",{path:q,top:tt,scrollTop:Je,elem:rt}),!g)return Promise.resolve();var rn=g.getBoundingClientRect();if(rt&&!ge){var bt=rt.getBoundingClientRect();if(bt.bottom>rn.top&&bt.top<rn.bottom)return Promise.resolve()}var on=-Math.max(We+36,rn.height/4);return new Promise(rt?Rn=>{c(rt,{container:g,offset:on,duration:300,callback:()=>{fe(q),Rn()}})}:Rn=>{var ar;c(Ye,{container:g,offset:on,duration:300,callback:(ar=st(function*(){yield kn(),fe(q),Rn()}),function(){return ar.apply(this,arguments)})})})}function fe(q){var ge=ft(q);if(ge&&g){var We=g.getBoundingClientRect(),tt=ge.getBoundingClientRect();if(tt.right>We.right){var Ye=tt.right-We.right;t(16,g.scrollLeft+=Ye,g)}if(tt.left<We.left){var rt=We.left-tt.left;t(16,g.scrollLeft-=rt,g)}}}function Re(q){(function(ge){if(g){var{rowIndex:We}=fi(ge,Fe),tt=ij(ge,Fe,At,sc),Ye=tt+(At[We]||sc),rt=g.getBoundingClientRect(),rn=Je,bt=Je+rt.height-18;if(Ye>bt){var on=Ye-bt;t(16,g.scrollTop+=on,g)}if(tt<rn){var Rn=rn-tt;t(16,g.scrollTop-=Rn,g)}}})(q),fe(q)}function ft(q){var ge,We,tt=Fe.find(rt=>Yo(q.slice(1),rt)),Ye=tt?q.slice(0,1).concat(tt):q;return(ge=(We=g)===null||We===void 0?void 0:We.querySelector('td[data-path="'.concat(Vf(Ye),'"]')))!==null&&ge!==void 0?ge:void 0}function qt(q){var ge,{anchor:We,left:tt,top:Ye,width:rt,height:rn,offsetTop:bt,offsetLeft:on,showTip:Rn}=q,ar=function(ze){var{json:Be,documentState:Le,selection:gt,readOnly:pt,onEditValue:Pt,onEditRow:On,onToggleEnforceString:jn,onCut:Nn,onCopy:Dt,onPaste:Yi,onRemove:ai,onDuplicateRow:li,onInsertBeforeRow:$n,onInsertAfterRow:It,onRemoveRow:_n}=ze,Ci=Be!==void 0,_o=!!gt,Jh=Be!==void 0&&gt?De(Be,Ke(gt)):void 0,Si=Ci&&(Jt(gt)||zn(gt)||Ft(gt)),Ks=!pt&&Ci&&gt!==void 0&&Hf(gt),Qh=Ks&&!Cn(Jh),Yh=!pt&&Si,Xh=gt!==void 0&&jo(Be,Le,Ke(gt));return[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:()=>Pt(),icon:rl,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!Ks},width:"11em",items:[{type:"button",icon:rl,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:()=>Pt(),disabled:!Ks},{type:"button",icon:Xh?Ok:Ak,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>jn(),disabled:!Qh}]},{type:"dropdown-button",main:{type:"button",onClick:()=>Nn(!0),icon:nl,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!Yh},width:"10em",items:[{type:"button",icon:nl,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>Nn(!0),disabled:pt||!Si},{type:"button",icon:nl,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>Nn(!1),disabled:pt||!Si}]},{type:"dropdown-button",main:{type:"button",onClick:()=>Dt(!0),icon:ks,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!Si},width:"12em",items:[{type:"button",icon:ks,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>Dt(!1),disabled:!Si},{type:"button",icon:ks,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>Dt(!1),disabled:!Si}]},{type:"button",onClick:()=>Yi(),icon:Sk,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:pt||!_o},{type:"button",onClick:()=>ai(),icon:pm,text:"Remove",title:"Remove selected contents (Delete)",disabled:pt||!Si}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:()=>On(),icon:rl,text:"Edit row",title:"Edit the current row",disabled:pt||!_o||!Ci},{type:"button",onClick:()=>li(),icon:_k,text:"Duplicate row",title:"Duplicate the current row",disabled:pt||!_o||!Ci},{type:"button",onClick:()=>$n(),icon:Ga,text:"Insert before",title:"Insert a row before the current row",disabled:pt||!_o||!Ci},{type:"button",onClick:()=>It(),icon:Ga,text:"Insert after",title:"Insert a row after the current row",disabled:pt||!_o||!Ci},{type:"button",onClick:()=>_n(),icon:pm,text:"Remove row",title:"Remove current row",disabled:pt||!_o||!Ci}]}]}]}({json:m,documentState:V,selection:we,readOnly:b,onEditValue:en,onEditRow:Xt,onToggleEnforceString:Cr,onCut:Ji,onCopy:Zt,onPaste:Mo,onRemove:rs,onDuplicateRow:Wr,onInsertBeforeRow:is,onInsertAfterRow:Kr,onRemoveRow:Ma}),z=(ge=M(ar))!==null&&ge!==void 0?ge:ar;if(z!==!1){var de={left:tt,top:Ye,offsetTop:bt,offsetLeft:on,width:rt,height:rn,anchor:We,closeOnOuterClick:!0,onClose:()=>{ye=!1,un()}};ye=!0;var Oe=a(U6,{tip:Rn?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:z,onRequestClose(){l(Oe),un()}},de)}}function Wt(q){if(!Un(we))if(q&&(q.stopPropagation(),q.preventDefault()),q&&q.type==="contextmenu"&&q.target!==v)qt({left:q.clientX,top:q.clientY,width:Io,height:Do,showTip:!1});else{var ge,We=(ge=g)===null||ge===void 0?void 0:ge.querySelector(".jse-table-cell.jse-selected-value");if(We)qt({anchor:We,offsetTop:2,width:Io,height:Do,showTip:!1});else{var tt,Ye=(tt=g)===null||tt===void 0?void 0:tt.getBoundingClientRect();Ye&&qt({top:Ye.top+2,left:Ye.left+2,width:Io,height:Do,showTip:!1})}}}function en(){if(!b&&we){var q=Ke(we);Cn(De(m,q))?Gr(q):t(13,we=Et(q))}}function Xt(){!b&&we&&Gr(Ke(we).slice(0,1))}function Cr(){if(!b&&Ft(we)){var q=we.path,ge=it(q),We=De(m,q),tt=!jo(m,V,q),Ye=tt?String(We):Vl(String(We),F);s("handleToggleEnforceString",{enforceString:tt,value:We,updatedValue:Ye}),$t([{op:"replace",path:ge,value:Ye}],(rt,rn)=>({state:zh(m,rn,q,{type:"value",enforceString:tt})}))}}function or(){return(or=st(function*(){if(s("apply pasted json",N),N){var{onPasteAsJson:q}=N;q(),setTimeout(un)}})).apply(this,arguments)}function Mo(){t(25,Me=!0)}function Ji(q){return Po.apply(this,arguments)}function Po(){return(Po=st(function*(q){yield z6({json:m,selection:we,indentation:q?U:void 0,readOnly:b,parser:F,onPatch:$t})})).apply(this,arguments)}function Zt(){return sr.apply(this,arguments)}function sr(){return sr=st(function*(){var q=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];m!==void 0&&(yield L6({json:m,selection:we,indentation:q?U:void 0,parser:F}))}),sr.apply(this,arguments)}function rs(){q6({json:m,text:y,selection:we,keepSelection:!0,readOnly:b,onChange:T,onPatch:$t})}function Wr(){KU({json:m,selection:we,columns:Fe,readOnly:b,onPatch:$t})}function is(){GU({json:m,selection:we,columns:Fe,readOnly:b,onPatch:$t})}function Kr(){JU({json:m,selection:we,columns:Fe,readOnly:b,onPatch:$t})}function Ma(){QU({json:m,selection:we,columns:Fe,readOnly:b,onPatch:$t})}function si(){return(si=st(function*(q){yield F6({char:q,selectInside:!1,json:m,selection:we,readOnly:b,parser:F,onPatch:$t,onReplaceJson:Kl,onSelect:ae})})).apply(this,arguments)}function Kl(q,ge){var We={json:m,text:y},tt={json:m,documentState:V,selection:we,sortedColumn:A,text:y,textIsRepaired:X},Ye=Zr(q,V),rt=typeof ge=="function"?ge(q,Ye,we):void 0;t(8,m=(rt==null?void 0:rt.json)!==void 0?rt.json:q),t(12,V=(rt==null?void 0:rt.state)!==void 0?rt.state:Ye),t(13,we=(rt==null?void 0:rt.selection)!==void 0?rt.selection:we),t(26,A=void 0),t(19,y=void 0),t(27,X=!1),t(20,Y=void 0),mt(m),nt(tt),Pn(We,void 0)}function Qi(q,ge){s("handleChangeText");var We={json:m,text:y},tt={json:m,documentState:V,selection:we,sortedColumn:A,text:y,textIsRepaired:X};try{t(8,m=Q(q)),t(12,V=Zr(m,V)),t(19,y=void 0),t(27,X=!1),t(20,Y=void 0)}catch(rt){try{t(8,m=Q(mo(q))),t(12,V=Zr(m,V)),t(19,y=q),t(27,X=!0),t(20,Y=void 0)}catch{t(8,m=void 0),t(12,V=void 0),t(19,y=q),t(27,X=!1),t(20,Y=y!==""?Ol(y,rt.message||String(rt)):void 0)}}if(typeof ge=="function"){var Ye=ge(m,V,we);t(8,m=(Ye==null?void 0:Ye.json)!==void 0?Ye.json:m),t(12,V=(Ye==null?void 0:Ye.state)!==void 0?Ye.state:V),t(13,we=(Ye==null?void 0:Ye.selection)!==void 0?Ye.selection:we)}mt(m),nt(tt),Pn(We,void 0)}function os(q){if(m!==void 0){var{id:ge,onTransform:We,onClose:tt}=q,Ye=q.rootPath||[];ye=!0,k({id:ge||d,json:m,rootPath:Ye||[],onTransform:rt=>{We?We({operations:rt,json:m,transformedJson:Ni(m,rt)}):(s("onTransform",Ye,rt),$t(rt))},onClose:()=>{ye=!1,setTimeout(un),tt&&tt()}})}}function Gr(q){s("openJSONEditorModal",{path:q}),ye=!0,P({content:{json:De(m,q)},path:q,onPatch:$t,onClose:()=>{ye=!1,setTimeout(un)}})}function te(q,ge){t(18,D={text:q,onParse:We=>Dh(We,tt=>$u(tt,F)),onRepair:F3,onApply:ge,onClose:un})}function _e(q){s("openFind",{findAndReplace:q}),t(9,Pe=!1),t(23,Ve=!1),kn().then(()=>{t(9,Pe=!0),t(23,Ve=q)})}function Ge(){if(!b&&me.getState().canUndo){var q=me.undo();if(q){var ge={json:m,text:y};t(8,m=q.undo.patch?Ni(m,q.undo.patch):q.undo.json),t(12,V=q.undo.documentState),t(13,we=q.undo.selection),t(26,A=q.undo.sortedColumn),t(19,y=q.undo.text),t(27,X=q.undo.textIsRepaired),t(20,Y=void 0),s("undo",{item:q,json:m}),Pn(ge,q.undo.patch&&q.redo.patch?{json:m,previousJson:ge.json,redo:q.undo.patch,undo:q.redo.patch}:void 0),un(),we&&nn(Ke(we),!1)}}}function ht(){if(!b&&me.getState().canRedo){var q=me.redo();if(q){var ge={json:m,text:y};t(8,m=q.redo.patch?Ni(m,q.redo.patch):q.redo.json),t(12,V=q.redo.documentState),t(13,we=q.redo.selection),t(26,A=q.redo.sortedColumn),t(19,y=q.redo.text),t(27,X=q.redo.textIsRepaired),t(20,Y=void 0),s("redo",{item:q,json:m}),Pn(ge,q.undo.patch&&q.redo.patch?{json:m,previousJson:ge.json,redo:q.redo.patch,undo:q.undo.patch}:void 0),un(),we&&nn(Ke(we),!1)}}}function Kt(q,ge){t(81,At[ge]=q.getBoundingClientRect().height,At)}return n.$$set=q=>{"readOnly"in q&&t(0,b=q.readOnly),"externalContent"in q&&t(58,j=q.externalContent),"externalSelection"in q&&t(59,x=q.externalSelection),"mainMenuBar"in q&&t(1,S=q.mainMenuBar),"escapeControlCharacters"in q&&t(60,_=q.escapeControlCharacters),"escapeUnicodeCharacters"in q&&t(61,B=q.escapeUnicodeCharacters),"flattenColumns"in q&&t(62,R=q.flattenColumns),"parser"in q&&t(2,F=q.parser),"parseMemoizeOne"in q&&t(63,Q=q.parseMemoizeOne),"validator"in q&&t(64,Z=q.validator),"validationParser"in q&&t(65,J=q.validationParser),"indentation"in q&&t(3,U=q.indentation),"onChange"in q&&t(66,T=q.onChange),"onChangeMode"in q&&t(4,re=q.onChangeMode),"onSelect"in q&&t(67,ie=q.onSelect),"onRenderValue"in q&&t(68,G=q.onRenderValue),"onRenderMenu"in q&&t(5,L=q.onRenderMenu),"onRenderContextMenu"in q&&t(69,M=q.onRenderContextMenu),"onFocus"in q&&t(70,E=q.onFocus),"onBlur"in q&&t(71,ee=q.onBlur),"onSortModal"in q&&t(72,H=q.onSortModal),"onTransformModal"in q&&t(73,k=q.onTransformModal),"onJSONEditorModal"in q&&t(74,P=q.onJSONEditorModal)},n.$$.update=()=>{var q;1610612736&n.$$.dirty[1]&&t(80,h=qv({escapeControlCharacters:_,escapeUnicodeCharacters:B})),512&n.$$.dirty[0]&&function(ge){if(g){var We=ge?Qd:-100;g.scrollTo({top:t(16,g.scrollTop+=We,g),left:g.scrollLeft})}}(Pe),134217728&n.$$.dirty[1]&&function(ge){var We=m,tt=El(ge)?ge.text!==y:!Ct(We,ge.json);if(s("update external content",{isChanged:tt}),tt){var Ye={json:m,documentState:V,selection:we,sortedColumn:A,text:y,textIsRepaired:X};if(El(ge))try{t(8,m=Q(ge.text)),t(12,V=Zr(m,V)),t(19,y=ge.text),t(27,X=!1),t(20,Y=void 0)}catch(rt){try{t(8,m=Q(mo(ge.text))),t(12,V=Zr(m,V)),t(19,y=ge.text),t(27,X=!0),t(20,Y=void 0)}catch{t(8,m=void 0),t(12,V=void 0),t(19,y=ge.text),t(27,X=!1),t(20,Y=y!==""?Ol(y,rt.message||String(rt)):void 0)}}else t(8,m=ge.json),t(12,V=Zr(m,V)),t(19,y=void 0),t(27,X=!1),t(20,Y=void 0);mt(m),t(26,A=void 0),nt(Ye)}}(j),268435456&n.$$.dirty[1]&&function(ge){Ct(we,ge)||(s("applyExternalSelection",{selection:we,externalSelection:ge}),i1(ge)&&t(13,we=ge))}(x),3328&n.$$.dirty[0]|1&n.$$.dirty[2]&&t(11,Fe=vn(m)?function(ge,We){var tt=new Set(We.map(it)),Ye=new Set(ge.map(it));for(var rt of tt)Ye.has(rt)||tt.delete(rt);for(var rn of Ye)tt.has(rn)||tt.add(rn);return[...tt].map(bi)}(FU(m,R,at),Fe):[]),2304&n.$$.dirty[0]&&t(24,jt=!(!m||Lt(Fe))),1280&n.$$.dirty[0]&&t(32,r=Array.isArray(m)&&m.length>at),768&n.$$.dirty[0]|3670016&n.$$.dirty[2]&&t(31,i=VU(Je,Ce,m,At,sc,Pe?Qd:0)),256&n.$$.dirty[0]&&g&&g.scrollTo({top:g.scrollTop,left:g.scrollLeft}),8192&n.$$.dirty[0]&&(Ct(q=we,x)||(s("onSelect",q),ie(q))),4357&n.$$.dirty[0]|262208&n.$$.dirty[2]&&t(29,oe={mode:Tn.table,readOnly:b,parser:F,normalization:h,getJson:()=>m,getDocumentState:()=>V,findElement:ft,findNextInside:qn,focus:un,onPatch:(ge,We)=>$t(function(tt,Ye){return tt.flatMap(rt=>{if(n0(rt)){var rn=bi(rt.path);if(rn.length>0){for(var bt=[rt],on=_t(rn);on.length>0&&!hi(Ye,on);)bt.unshift({op:"add",path:it(on),value:{}}),on=_t(on);return bt}}return rt})}(ge,m),We),onSelect:ae,onFind:_e,onPasteJson:Hr,onRenderValue:G}),260&n.$$.dirty[0]|12&n.$$.dirty[2]&&Bn(m,Z,F,J),18432&n.$$.dirty[0]&&t(30,o=UU(dt,Fe))},[b,S,F,U,re,L,un,function(){if(X&&m!==void 0){var q={json:m,text:y},ge={json:m,documentState:V,selection:we,sortedColumn:A,text:y,textIsRepaired:X};t(19,y=void 0),t(27,X=!1),mt(m),nt(ge),Pn(q,void 0)}return{json:m,text:y}},m,Pe,at,Fe,V,we,dt,p,g,v,D,y,Y,N,$e,Ve,jt,Me,A,X,Te,oe,o,i,r,f,function(q){t(22,$e=(se=q)?p6(m,se.items):void 0)},function(q){return wt.apply(this,arguments)},function(){t(9,Pe=!1),t(23,Ve=!1),un()},function(q){if(!b){s("onSortByHeader",q);var ge=q.sortDirection===yi.desc?-1:1;$t(T6(m,[],q.path,ge),(We,tt)=>({state:tt,sortedColumn:q}))}},$t,function(q){var ge=!Ul(q.target,We=>We===p);ge&&Un(we)&&(s("click outside the editor, exit edit mode"),t(13,we=lo(we)),Gt&&v&&(v.focus(),v.blur()),s("blur (outside editor)"),v&&v.blur())},function(q){t(83,Je=q.target.scrollTop)},function(q){if(q.buttons===1||q.buttons===2){var ge=q.target;ge.isContentEditable||un();var We=Y3(ge);if(We){if(Un(we)&&iu(m,we,We))return;t(13,we=Et(We)),q.preventDefault()}}},qt,Wt,function(q){qt({anchor:Q3(q.target,"BUTTON"),offsetTop:0,width:Io,height:Do,showTip:!0})},function(){return or.apply(this,arguments)},function(){s("clear pasted json"),t(21,N=void 0),un()},function(){re(Tn.text)},function(q){var ge=Go(q);if(s("keydown",{combo:ge,key:q.key}),ge==="Ctrl+X"&&(q.preventDefault(),Ji(!0)),ge==="Ctrl+Shift+X"&&(q.preventDefault(),Ji(!1)),ge==="Ctrl+C"&&(q.preventDefault(),Zt(!0)),ge==="Ctrl+Shift+C"&&(q.preventDefault(),Zt(!1)),ge==="Ctrl+D"&&q.preventDefault(),ge!=="Delete"&&ge!=="Backspace"||(q.preventDefault(),rs()),ge==="Insert"&&q.preventDefault(),ge==="Ctrl+A"&&q.preventDefault(),ge==="Ctrl+Q"&&Wt(q),ge==="ArrowLeft"&&(q.preventDefault(),ir(),we)){var We=function(on,Rn){var{rowIndex:ar,columnIndex:z}=fi(Ke(Rn),on);return z>0?Et(la({rowIndex:ar,columnIndex:z-1},on)):Rn}(Fe,we);t(13,we=We),Re(Ke(We))}if(ge==="ArrowRight"&&(q.preventDefault(),ir(),we)){var tt=function(on,Rn){var{rowIndex:ar,columnIndex:z}=fi(Ke(Rn),on);return z<on.length-1?Et(la({rowIndex:ar,columnIndex:z+1},on)):Rn}(Fe,we);t(13,we=tt),Re(Ke(tt))}if(ge==="ArrowUp"&&(q.preventDefault(),ir(),we)){var Ye=function(on,Rn){var{rowIndex:ar,columnIndex:z}=fi(Ke(Rn),on);return ar>0?Et(la({rowIndex:ar-1,columnIndex:z},on)):Rn}(Fe,we);t(13,we=Ye),Re(Ke(Ye))}if(ge==="ArrowDown"&&(q.preventDefault(),ir(),we)){var rt=function(on,Rn,ar){var{rowIndex:z,columnIndex:de}=fi(Ke(ar),Rn);return z<on.length-1?Et(la({rowIndex:z+1,columnIndex:de},Rn)):ar}(m,Fe,we);t(13,we=rt),Re(Ke(rt))}if(ge==="Enter"&&we&&Ft(we)){q.preventDefault();var rn=we.path;Cn(De(m,rn))?Gr(rn):b||t(13,we=Ee(Ee({},we),{},{edit:!0}))}if(ge.replace(/^Shift\+/,"").length===1&&we)return q.preventDefault(),void function(on){si.apply(this,arguments)}(q.key);if(ge==="Ctrl+Enter"&&Ft(we)){var bt=De(m,we.path);Nh(bt)&&window.open(String(bt),"_blank")}ge==="Escape"&&we&&(q.preventDefault(),t(13,we=void 0)),ge==="Ctrl+F"&&(q.preventDefault(),_e(!1)),ge==="Ctrl+H"&&(q.preventDefault(),_e(!0)),ge==="Ctrl+Z"&&(q.preventDefault(),Ge()),ge==="Ctrl+Shift+Z"&&(q.preventDefault(),ht())},function(q){var ge;q.preventDefault();var We=(ge=q.clipboardData)===null||ge===void 0?void 0:ge.getData("text/plain");We!==void 0&&B6({clipboardText:We,json:m,selection:we,readOnly:b,parser:F,onPatch:$t,onChangeText:Qi,openRepairModal:te})},function(q){s("select validation error",q),t(13,we=Et(q.path)),nn(q.path)},Gr,function(){(function(q){b||m===void 0||(ye=!0,H({id:u,json:m,rootPath:q,onSort:ge=>{var{operations:We,itemPath:tt,direction:Ye}=ge;s("onSort",We,q,tt,Ye),$t(We,(rt,rn)=>({state:rn,sortedColumn:{path:tt,sortDirection:Ye===-1?yi.desc:yi.asc}}))},onClose:()=>{ye=!1,setTimeout(un)}}))})([])},function(){os({rootPath:[]})},Ge,ht,function(q){t(82,Ce=q.getBoundingClientRect().height)},Kt,j,x,_,B,R,Q,Z,J,T,ie,G,M,E,ee,H,k,P,Ht,Qe,nn,ft,os,h,At,Ce,Je,function(q){t(9,Pe=q)},function(q){xt[q?"unshift":"push"](()=>{t(17,v=q)})},()=>t(10,at=1/0),(q,ge)=>Kt(ge,q),function(q){xt[q?"unshift":"push"](()=>{t(16,g=q)})},()=>{un()},function(q){xt[q?"unshift":"push"](()=>{t(15,p=q)})},()=>t(25,Me=!1),()=>{var q;(q=D)===null||q===void 0||q.onClose(),t(18,D=void 0)}]}class WW extends et{constructor(e){super(),Ze(this,e,HW,UW,yt,{readOnly:0,externalContent:58,externalSelection:59,mainMenuBar:1,escapeControlCharacters:60,escapeUnicodeCharacters:61,flattenColumns:62,parser:2,parseMemoizeOne:63,validator:64,validationParser:65,indentation:3,onChange:66,onChangeMode:4,onSelect:67,onRenderValue:68,onRenderMenu:5,onRenderContextMenu:69,onFocus:70,onBlur:71,onSortModal:72,onTransformModal:73,onJSONEditorModal:74,validate:75,patch:76,focus:6,acceptAutoRepair:7,scrollTo:77,findElement:78,openTransformModal:79},DW,[-1,-1,-1,-1,-1,-1])}get validate(){return this.$$.ctx[75]}get patch(){return this.$$.ctx[76]}get focus(){return this.$$.ctx[6]}get acceptAutoRepair(){return this.$$.ctx[7]}get scrollTo(){return this.$$.ctx[77]}get findElement(){return this.$$.ctx[78]}get openTransformModal(){return this.$$.ctx[79]}}function KW(n){var e,t,r={externalContent:n[0],externalSelection:n[1],readOnly:n[2],indentation:n[3],mainMenuBar:n[6],navigationBar:n[7],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],parser:n[13],parseMemoizeOne:n[14],validator:n[15],validationParser:n[16],pathParser:n[17],onError:n[23],onChange:n[18],onChangeMode:n[19],onSelect:n[20],onRenderValue:n[21],onClassName:n[22],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onRenderContextMenu:n[33],onSortModal:n[26],onTransformModal:n[27],onJSONEditorModal:n[28]};return e=new g1({props:r}),n[50](e),{c(){ue(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,o){var s={};1&o[0]&&(s.externalContent=i[0]),2&o[0]&&(s.externalSelection=i[1]),4&o[0]&&(s.readOnly=i[2]),8&o[0]&&(s.indentation=i[3]),64&o[0]&&(s.mainMenuBar=i[6]),128&o[0]&&(s.navigationBar=i[7]),1024&o[0]&&(s.escapeControlCharacters=i[10]),2048&o[0]&&(s.escapeUnicodeCharacters=i[11]),8192&o[0]&&(s.parser=i[13]),16384&o[0]&&(s.parseMemoizeOne=i[14]),32768&o[0]&&(s.validator=i[15]),65536&o[0]&&(s.validationParser=i[16]),131072&o[0]&&(s.pathParser=i[17]),8388608&o[0]&&(s.onError=i[23]),262144&o[0]&&(s.onChange=i[18]),524288&o[0]&&(s.onChangeMode=i[19]),1048576&o[0]&&(s.onSelect=i[20]),2097152&o[0]&&(s.onRenderValue=i[21]),4194304&o[0]&&(s.onClassName=i[22]),16777216&o[0]&&(s.onFocus=i[24]),33554432&o[0]&&(s.onBlur=i[25]),2&o[1]&&(s.onRenderMenu=i[32]),4&o[1]&&(s.onRenderContextMenu=i[33]),67108864&o[0]&&(s.onSortModal=i[26]),134217728&o[0]&&(s.onTransformModal=i[27]),268435456&o[0]&&(s.onJSONEditorModal=i[28]),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){n[50](null),ce(e,i)}}}function GW(n){var e,t,r={externalContent:n[0],externalSelection:n[1],readOnly:n[2],mainMenuBar:n[6],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],flattenColumns:n[12],parser:n[13],parseMemoizeOne:n[14],validator:n[15],validationParser:n[16],indentation:n[3],onChange:n[18],onChangeMode:n[19],onSelect:n[20],onRenderValue:n[21],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onRenderContextMenu:n[33],onSortModal:n[26],onTransformModal:n[27],onJSONEditorModal:n[28]};return e=new WW({props:r}),n[49](e),{c(){ue(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,o){var s={};1&o[0]&&(s.externalContent=i[0]),2&o[0]&&(s.externalSelection=i[1]),4&o[0]&&(s.readOnly=i[2]),64&o[0]&&(s.mainMenuBar=i[6]),1024&o[0]&&(s.escapeControlCharacters=i[10]),2048&o[0]&&(s.escapeUnicodeCharacters=i[11]),4096&o[0]&&(s.flattenColumns=i[12]),8192&o[0]&&(s.parser=i[13]),16384&o[0]&&(s.parseMemoizeOne=i[14]),32768&o[0]&&(s.validator=i[15]),65536&o[0]&&(s.validationParser=i[16]),8&o[0]&&(s.indentation=i[3]),262144&o[0]&&(s.onChange=i[18]),524288&o[0]&&(s.onChangeMode=i[19]),1048576&o[0]&&(s.onSelect=i[20]),2097152&o[0]&&(s.onRenderValue=i[21]),16777216&o[0]&&(s.onFocus=i[24]),33554432&o[0]&&(s.onBlur=i[25]),2&o[1]&&(s.onRenderMenu=i[32]),4&o[1]&&(s.onRenderContextMenu=i[33]),67108864&o[0]&&(s.onSortModal=i[26]),134217728&o[0]&&(s.onTransformModal=i[27]),268435456&o[0]&&(s.onJSONEditorModal=i[28]),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){n[49](null),ce(e,i)}}}function JW(n){var e,t,r={externalContent:n[0],externalSelection:n[1],readOnly:n[2],indentation:n[3],tabSize:n[4],mainMenuBar:n[6],statusBar:n[8],askToFormat:n[9],escapeUnicodeCharacters:n[11],parser:n[13],validator:n[15],validationParser:n[16],onChange:n[18],onSelect:n[20],onChangeMode:n[19],onError:n[23],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onSortModal:n[26],onTransformModal:n[27]};return e=new dW({props:r}),n[48](e),{c(){ue(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,o){var s={};1&o[0]&&(s.externalContent=i[0]),2&o[0]&&(s.externalSelection=i[1]),4&o[0]&&(s.readOnly=i[2]),8&o[0]&&(s.indentation=i[3]),16&o[0]&&(s.tabSize=i[4]),64&o[0]&&(s.mainMenuBar=i[6]),256&o[0]&&(s.statusBar=i[8]),512&o[0]&&(s.askToFormat=i[9]),2048&o[0]&&(s.escapeUnicodeCharacters=i[11]),8192&o[0]&&(s.parser=i[13]),32768&o[0]&&(s.validator=i[15]),65536&o[0]&&(s.validationParser=i[16]),262144&o[0]&&(s.onChange=i[18]),1048576&o[0]&&(s.onSelect=i[20]),524288&o[0]&&(s.onChangeMode=i[19]),8388608&o[0]&&(s.onError=i[23]),16777216&o[0]&&(s.onFocus=i[24]),33554432&o[0]&&(s.onBlur=i[25]),2&o[1]&&(s.onRenderMenu=i[32]),67108864&o[0]&&(s.onSortModal=i[26]),134217728&o[0]&&(s.onTransformModal=i[27]),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){n[48](null),ce(e,i)}}}function QW(n){var e,t,r,i,o,s=[JW,GW,KW],a=[];function l(c,u){return 32&u[0]&&(e=null),e==null&&(e=!(c[5]!==Tn.text&&String(c[5])!=="code")),e?0:c[5]===Tn.table?1:2}return t=l(n,[-1,-1]),r=a[t]=s[t](n),{c(){r.c(),i=Bt()},m(c,u){a[t].m(c,u),K(c,i,u),o=!0},p(c,u){var d=t;(t=l(c,u))===d?a[t].p(c,u):(be(),C(a[d],1,1,()=>{a[d]=null}),xe(),(r=a[t])?r.p(c,u):(r=a[t]=s[t](c)).c(),$(r,1),r.m(i.parentNode,i))},i(c){o||($(r),o=!0)},o(c){C(r),o=!1},d(c){c&&W(i),a[t].d(c)}}}function YW(n,e,t){var r,i,o,s,a,l,{content:c}=e,{selection:u}=e,{readOnly:d}=e,{indentation:f}=e,{tabSize:h}=e,{mode:p}=e,{mainMenuBar:g}=e,{navigationBar:v}=e,{statusBar:m}=e,{askToFormat:y}=e,{escapeControlCharacters:b}=e,{escapeUnicodeCharacters:j}=e,{flattenColumns:x}=e,{parser:S}=e,{parseMemoizeOne:_}=e,{validator:B}=e,{validationParser:R}=e,{pathParser:F}=e,{insideModal:Q}=e,{onChange:Z}=e,{onChangeMode:J}=e,{onSelect:U}=e,{onRenderValue:T}=e,{onClassName:re}=e,{onRenderMenu:ie}=e,{onRenderContextMenu:G}=e,{onError:L}=e,{onFocus:M}=e,{onBlur:E}=e,{onSortModal:ee}=e,{onTransformModal:H}=e,{onJSONEditorModal:k}=e,P={type:"separator"};function D(){return(D=st(function*(){o&&(yield o.refresh())})).apply(this,arguments)}return n.$$set=N=>{"content"in N&&t(0,c=N.content),"selection"in N&&t(1,u=N.selection),"readOnly"in N&&t(2,d=N.readOnly),"indentation"in N&&t(3,f=N.indentation),"tabSize"in N&&t(4,h=N.tabSize),"mode"in N&&t(5,p=N.mode),"mainMenuBar"in N&&t(6,g=N.mainMenuBar),"navigationBar"in N&&t(7,v=N.navigationBar),"statusBar"in N&&t(8,m=N.statusBar),"askToFormat"in N&&t(9,y=N.askToFormat),"escapeControlCharacters"in N&&t(10,b=N.escapeControlCharacters),"escapeUnicodeCharacters"in N&&t(11,j=N.escapeUnicodeCharacters),"flattenColumns"in N&&t(12,x=N.flattenColumns),"parser"in N&&t(13,S=N.parser),"parseMemoizeOne"in N&&t(14,_=N.parseMemoizeOne),"validator"in N&&t(15,B=N.validator),"validationParser"in N&&t(16,R=N.validationParser),"pathParser"in N&&t(17,F=N.pathParser),"insideModal"in N&&t(34,Q=N.insideModal),"onChange"in N&&t(18,Z=N.onChange),"onChangeMode"in N&&t(19,J=N.onChangeMode),"onSelect"in N&&t(20,U=N.onSelect),"onRenderValue"in N&&t(21,T=N.onRenderValue),"onClassName"in N&&t(22,re=N.onClassName),"onRenderMenu"in N&&t(35,ie=N.onRenderMenu),"onRenderContextMenu"in N&&t(36,G=N.onRenderContextMenu),"onError"in N&&t(23,L=N.onError),"onFocus"in N&&t(24,M=N.onFocus),"onBlur"in N&&t(25,E=N.onBlur),"onSortModal"in N&&t(26,ee=N.onSortModal),"onTransformModal"in N&&t(27,H=N.onTransformModal),"onJSONEditorModal"in N&&t(28,k=N.onJSONEditorModal)},n.$$.update=()=>{524320&n.$$.dirty[0]&&t(47,s=[{type:"button",text:"text",title:"Switch to text mode (current mode: ".concat(p,")"),className:"jse-group-button jse-first"+(p===Tn.text?" jse-selected":""),onClick:()=>J(Tn.text)},{type:"button",text:"tree",title:"Switch to tree mode (current mode: ".concat(p,")"),className:"jse-group-button "+(p===Tn.tree?" jse-selected":""),onClick:()=>J(Tn.tree)},{type:"button",text:"table",title:"Switch to table mode (current mode: ".concat(p,")"),className:"jse-group-button jse-last"+(p===Tn.table?" jse-selected":""),onClick:()=>J(Tn.table)}]),36&n.$$.dirty[0]|65560&n.$$.dirty[1]&&t(32,a=N=>{var se=Z3(N[0])?s.concat(N):s.concat(P,N),$e=sm(se);return ie(se,{mode:p,modal:Q,readOnly:d})||$e}),38&n.$$.dirty[0]|40&n.$$.dirty[1]&&t(33,l=N=>{var se,$e=sm(N);return(se=G(N,{mode:p,modal:Q,readOnly:d,selection:u}))!==null&&se!==void 0?se:!d&&$e})},[c,u,d,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Z,J,U,T,re,L,M,E,ee,H,k,r,i,o,a,l,Q,ie,G,function(N){if(r)return r.patch(N);if(i)return i.patch(N);if(o)return o.patch(N);throw new Error('Method patch is not available in mode "'.concat(p,'"'))},function(N,se){if(r)return r.expand(N,se);throw new Error('Method expand is not available in mode "'.concat(p,'"'))},function(N,se){if(r)return r.collapse(N,se);throw new Error('Method collapse is not available in mode "'.concat(p,'"'))},function(N){if(o)o.openTransformModal(N);else if(r)r.openTransformModal(N);else{if(!i)throw new Error('Method transform is not available in mode "'.concat(p,'"'));i.openTransformModal(N)}},function(){if(o)return o.validate();if(r)return r.validate();if(i)return i.validate();throw new Error('Method validate is not available in mode "'.concat(p,'"'))},function(){return r?r.acceptAutoRepair():c},function(N){if(r)return r.scrollTo(N);if(i)return i.scrollTo(N);throw new Error('Method scrollTo is not available in mode "'.concat(p,'"'))},function(N){if(r)return r.findElement(N);if(i)return i.findElement(N);throw new Error('Method findElement is not available in mode "'.concat(p,'"'))},function(){o?o.focus():r?r.focus():i&&i.focus()},function(){return D.apply(this,arguments)},s,function(N){xt[N?"unshift":"push"](()=>{t(31,o=N)})},function(N){xt[N?"unshift":"push"](()=>{t(30,i=N)})},function(N){xt[N?"unshift":"push"](()=>{t(29,r=N)})}]}class K6 extends et{constructor(e){super(),Ze(this,e,YW,QW,Hn,{content:0,selection:1,readOnly:2,indentation:3,tabSize:4,mode:5,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,parseMemoizeOne:14,validator:15,validationParser:16,pathParser:17,insideModal:34,onChange:18,onChangeMode:19,onSelect:20,onRenderValue:21,onClassName:22,onRenderMenu:35,onRenderContextMenu:36,onError:23,onFocus:24,onBlur:25,onSortModal:26,onTransformModal:27,onJSONEditorModal:28,patch:37,expand:38,collapse:39,transform:40,validate:41,acceptAutoRepair:42,scrollTo:43,findElement:44,focus:45,refresh:46},null,[-1,-1])}get patch(){return this.$$.ctx[37]}get expand(){return this.$$.ctx[38]}get collapse(){return this.$$.ctx[39]}get transform(){return this.$$.ctx[40]}get validate(){return this.$$.ctx[41]}get acceptAutoRepair(){return this.$$.ctx[42]}get scrollTo(){return this.$$.ctx[43]}get findElement(){return this.$$.ctx[44]}get focus(){return this.$$.ctx[45]}get refresh(){return this.$$.ctx[46]}}function XW(n){ct(n,"svelte-1gqs8yw",'.jse-modal-wrapper.svelte-1gqs8yw.svelte-1gqs8yw{flex:1;display:flex;min-width:0;min-height:0;flex-direction:column}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents.svelte-1gqs8yw{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-actions.svelte-1gqs8yw{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-actions button.jse-primary.svelte-1gqs8yw{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-actions button.jse-primary.svelte-1gqs8yw:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-actions button.jse-primary.svelte-1gqs8yw:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-label.svelte-1gqs8yw{font-weight:bold;display:block;box-sizing:border-box}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-label .jse-label-inner.svelte-1gqs8yw{margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(0.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-label .jse-label-inner button.svelte-1gqs8yw{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal-wrapper.svelte-1gqs8yw .jse-modal-contents .jse-modal-inline-editor.svelte-1gqs8yw{flex:1;min-height:150px;min-width:0;max-width:100%;display:flex;--jse-theme-color:var(--jse-modal-editor-theme-color, #707070);--jse-theme-color-highlight:var(--jse-modal-editor-theme-color-highlight, #646464)}.jse-modal-wrapper.svelte-1gqs8yw .jse-actions.svelte-1gqs8yw{gap:var(--jse-padding, 10px);align-items:center}.jse-modal-wrapper.svelte-1gqs8yw .jse-actions .jse-error.svelte-1gqs8yw{flex:1;color:var(--jse-error-color, #ee5341)}.jse-modal-wrapper.svelte-1gqs8yw .jse-actions button.jse-secondary.svelte-1gqs8yw{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-secondary-background, #d3d3d3);color:var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-wrapper.svelte-1gqs8yw .jse-actions button.jse-secondary.svelte-1gqs8yw:hover{background:var(--jse-button-secondary-background-highlight, #e1e1e1)}.jse-modal-wrapper.svelte-1gqs8yw .jse-actions button.jse-secondary.svelte-1gqs8yw:disabled{background:var(--jse-button-secondary-background-disabled, #9d9d9d)}.jse-modal-wrapper.svelte-1gqs8yw input.svelte-1gqs8yw{border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal-wrapper.svelte-1gqs8yw input.svelte-1gqs8yw:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal-wrapper.svelte-1gqs8yw input.svelte-1gqs8yw:read-only{background:var(--jse-input-background-readonly, transparent)}')}function a$(n){var e,t;return{c(){e=I("div"),t=Se(n[23]),w(e,"class","jse-error svelte-1gqs8yw")},m(r,i){K(r,e,i),O(e,t)},p(r,i){8388608&i[0]&&Xe(t,r[23])},d(r){r&&W(e)}}}function l$(n){var e,t,r,i,o,s;return t=new Mt({props:{data:KE}}),{c(){e=I("button"),ue(t.$$.fragment),r=Se(" Back"),w(e,"type","button"),w(e,"class","jse-secondary svelte-1gqs8yw")},m(a,l){K(a,e,l),le(t,e,null),O(e,r),i=!0,o||(s=ve(e,"click",n[28]),o=!0)},p:ke,i(a){i||($(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&W(e),ce(t),o=!1,s()}}}function ZW(n){var e,t,r;return{c(){(e=I("button")).textContent="Close",w(e,"type","button"),w(e,"class","jse-primary svelte-1gqs8yw")},m(i,o){K(i,e,o),t||(r=ve(e,"click",n[28]),t=!0)},p:ke,d(i){i&&W(e),t=!1,r()}}}function eK(n){var e,t,r;return{c(){(e=I("button")).textContent="Apply",w(e,"type","button"),w(e,"class","jse-primary svelte-1gqs8yw")},m(i,o){K(i,e,o),t||(r=[ve(e,"click",n[27]),$r(iK.call(null,e))],t=!0)},p:ke,d(i){i&&W(e),t=!1,tn(r)}}}function tK(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m;function y(F){n[39](F)}var b={title:"Edit nested content "+(n[20].length>1?" (".concat(n[20].length,")"):""),fullScreenButton:!0,onClose:n[28]};n[22]!==void 0&&(b.fullscreen=n[22]),e=new Fh({props:b}),xt.push(()=>Lr(e,"fullscreen",y));var j={mode:n[24].mode,content:n[24].content,selection:n[24].selection,readOnly:n[0],indentation:n[1],tabSize:n[2],statusBar:n[5],askToFormat:n[6],mainMenuBar:n[3],navigationBar:n[4],escapeControlCharacters:n[7],escapeUnicodeCharacters:n[8],flattenColumns:n[9],parser:n[10],parseMemoizeOne:n[25],validator:n[11],validationParser:n[12],pathParser:n[13],insideModal:!0,onError:n[32],onChange:n[29],onChangeMode:n[31],onSelect:n[30],onRenderValue:n[14],onClassName:n[15],onFocus:Ai,onBlur:Ai,onRenderMenu:n[16],onRenderContextMenu:n[17],onSortModal:n[18],onTransformModal:n[19],onJSONEditorModal:n[33]};f=new K6({props:j}),n[40](f);var x=n[23]&&a$(n),S=n[20].length>1&&l$(n);function _(F,Q){return F[0]?ZW:eK}var B=_(n),R=B(n);return{c(){ue(e.$$.fragment),r=ne(),i=I("div"),(o=I("div")).innerHTML='<div class="jse-label-inner svelte-1gqs8yw">Path</div>',s=ne(),a=I("input"),l=ne(),(c=I("div")).innerHTML='<div class="jse-label-inner svelte-1gqs8yw">Contents</div>',u=ne(),d=I("div"),ue(f.$$.fragment),h=ne(),p=I("div"),x&&x.c(),g=ne(),S&&S.c(),v=ne(),R.c(),w(o,"class","jse-label svelte-1gqs8yw"),w(a,"class","jse-path svelte-1gqs8yw"),w(a,"type","text"),a.readOnly=!0,w(a,"title","Selected path"),a.value=n[26],w(c,"class","jse-label svelte-1gqs8yw"),w(d,"class","jse-modal-inline-editor svelte-1gqs8yw"),w(p,"class","jse-actions svelte-1gqs8yw"),w(i,"class","jse-modal-contents svelte-1gqs8yw")},m(F,Q){le(e,F,Q),K(F,r,Q),K(F,i,Q),O(i,o),O(i,s),O(i,a),O(i,l),O(i,c),O(i,u),O(i,d),le(f,d,null),O(i,h),O(i,p),x&&x.m(p,null),O(p,g),S&&S.m(p,null),O(p,v),R.m(p,null),m=!0},p(F,Q){var Z={};1048576&Q[0]&&(Z.title="Edit nested content "+(F[20].length>1?" (".concat(F[20].length,")"):"")),!t&&4194304&Q[0]&&(t=!0,Z.fullscreen=F[22],zr(()=>t=!1)),e.$set(Z),(!m||67108864&Q[0]&&a.value!==F[26])&&(a.value=F[26]);var J={};16777216&Q[0]&&(J.mode=F[24].mode),16777216&Q[0]&&(J.content=F[24].content),16777216&Q[0]&&(J.selection=F[24].selection),1&Q[0]&&(J.readOnly=F[0]),2&Q[0]&&(J.indentation=F[1]),4&Q[0]&&(J.tabSize=F[2]),32&Q[0]&&(J.statusBar=F[5]),64&Q[0]&&(J.askToFormat=F[6]),8&Q[0]&&(J.mainMenuBar=F[3]),16&Q[0]&&(J.navigationBar=F[4]),128&Q[0]&&(J.escapeControlCharacters=F[7]),256&Q[0]&&(J.escapeUnicodeCharacters=F[8]),512&Q[0]&&(J.flattenColumns=F[9]),1024&Q[0]&&(J.parser=F[10]),33554432&Q[0]&&(J.parseMemoizeOne=F[25]),2048&Q[0]&&(J.validator=F[11]),4096&Q[0]&&(J.validationParser=F[12]),8192&Q[0]&&(J.pathParser=F[13]),16384&Q[0]&&(J.onRenderValue=F[14]),32768&Q[0]&&(J.onClassName=F[15]),65536&Q[0]&&(J.onRenderMenu=F[16]),131072&Q[0]&&(J.onRenderContextMenu=F[17]),262144&Q[0]&&(J.onSortModal=F[18]),524288&Q[0]&&(J.onTransformModal=F[19]),f.$set(J),F[23]?x?x.p(F,Q):((x=a$(F)).c(),x.m(p,g)):x&&(x.d(1),x=null),F[20].length>1?S?(S.p(F,Q),1048576&Q[0]&&$(S,1)):((S=l$(F)).c(),$(S,1),S.m(p,v)):S&&(be(),C(S,1,1,()=>{S=null}),xe()),B===(B=_(F))&&R?R.p(F,Q):(R.d(1),(R=B(F))&&(R.c(),R.m(p,null)))},i(F){m||($(e.$$.fragment,F),$(f.$$.fragment,F),$(S),m=!0)},o(F){C(e.$$.fragment,F),C(f.$$.fragment,F),C(S),m=!1},d(F){F&&(W(r),W(i)),ce(e,F),n[40](null),ce(f),x&&x.d(),S&&S.d(),R.d()}}}function nK(n){var e,t,r;return t=new Wv({props:{$$slots:{default:[tK]},$$scope:{ctx:n}}}),{c(){e=I("div"),ue(t.$$.fragment),w(e,"class","jse-modal-wrapper svelte-1gqs8yw")},m(i,o){K(i,e,o),le(t,e,null),r=!0},p(i,o){var s={};134217727&o[0]|32768&o[1]&&(s.$$scope={dirty:o,ctx:i}),t.$set(s)},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&W(e),ce(t)}}}function rK(n){var e,t;return e=new Au({props:{onClose:n[28],className:"jse-jsoneditor-modal",fullscreen:n[22],$$slots:{default:[nK]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};4194304&i[0]&&(o.fullscreen=r[22]),134217727&i[0]|32768&i[1]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function iK(n){n.focus()}function oK(n,e,t){var r,i,o,s,a,l,c=Zn("jsoneditor:JSONEditorModal"),{content:u}=e,{path:d}=e,{onPatch:f}=e,{readOnly:h}=e,{indentation:p}=e,{tabSize:g}=e,{mainMenuBar:v}=e,{navigationBar:m}=e,{statusBar:y}=e,{askToFormat:b}=e,{escapeControlCharacters:j}=e,{escapeUnicodeCharacters:x}=e,{flattenColumns:S}=e,{parser:_}=e,{validator:B}=e,{validationParser:R}=e,{pathParser:F}=e,{onRenderValue:Q}=e,{onClassName:Z}=e,{onRenderMenu:J}=e,{onRenderContextMenu:U}=e,{onSortModal:T}=e,{onTransformModal:re}=e,{onClose:ie}=e,G={mode:E(u),content:u,selection:void 0,relativePath:d},L=[G],M=void 0;function E(k){return Zc(k)&&vn(k.json)?Tn.table:Tn.tree}function ee(){var k,P=(k=kt(L))===null||k===void 0?void 0:k.selection;i1(P)&&a.scrollTo(Ke(P))}function H(k){var P=k(kt(L));t(20,L=[..._t(L),P])}return Vr(()=>{var k;(k=a)===null||k===void 0||k.focus()}),n.$$set=k=>{"content"in k&&t(34,u=k.content),"path"in k&&t(35,d=k.path),"onPatch"in k&&t(36,f=k.onPatch),"readOnly"in k&&t(0,h=k.readOnly),"indentation"in k&&t(1,p=k.indentation),"tabSize"in k&&t(2,g=k.tabSize),"mainMenuBar"in k&&t(3,v=k.mainMenuBar),"navigationBar"in k&&t(4,m=k.navigationBar),"statusBar"in k&&t(5,y=k.statusBar),"askToFormat"in k&&t(6,b=k.askToFormat),"escapeControlCharacters"in k&&t(7,j=k.escapeControlCharacters),"escapeUnicodeCharacters"in k&&t(8,x=k.escapeUnicodeCharacters),"flattenColumns"in k&&t(9,S=k.flattenColumns),"parser"in k&&t(10,_=k.parser),"validator"in k&&t(11,B=k.validator),"validationParser"in k&&t(12,R=k.validationParser),"pathParser"in k&&t(13,F=k.pathParser),"onRenderValue"in k&&t(14,Q=k.onRenderValue),"onClassName"in k&&t(15,Z=k.onClassName),"onRenderMenu"in k&&t(16,J=k.onRenderMenu),"onRenderContextMenu"in k&&t(17,U=k.onRenderContextMenu),"onSortModal"in k&&t(18,T=k.onSortModal),"onTransformModal"in k&&t(19,re=k.onTransformModal),"onClose"in k&&t(37,ie=k.onClose)},n.$$.update=()=>{1048576&n.$$.dirty[0]&&t(24,r=kt(L)||G),1048576&n.$$.dirty[0]&&t(38,i=L.flatMap(k=>k.relativePath)),128&n.$$.dirty[1]&&t(26,o=Lt(i)?"(document root)":oi(i)),1024&n.$$.dirty[0]&&t(25,s=du(_.parse))},[h,p,g,v,m,y,b,j,x,S,_,B,R,F,Q,Z,J,U,T,re,L,a,l,M,r,s,o,function(){if(c("handleApply"),!h)try{t(23,M=void 0);var k=r.relativePath,P=r.content,D=[{op:"replace",path:it(k),value:Ox(P,_).json}];if(L.length>1){var N=Ox(L[L.length-2].content,_).json,se={json:Ni(N,D)},$e=Ee(Ee({},L[L.length-2]||G),{},{content:se});t(20,L=[...L.slice(0,L.length-2),$e]),kn().then(ee)}else f(D),ie()}catch(Y){t(23,M=String(Y))}},function(){c("handleClose"),l?t(22,l=!1):L.length>1?(t(20,L=_t(L)),kn().then(()=>{var k;(k=a)===null||k===void 0||k.focus(),ee()}),t(23,M=void 0)):ie()},function(k){c("handleChange",k),H(P=>Ee(Ee({},P),{},{content:k}))},function(k){c("handleChangeSelection",k),H(P=>Ee(Ee({},P),{},{selection:k}))},function(k){c("handleChangeMode",k),H(P=>Ee(Ee({},P),{},{mode:k}))},function(k){t(23,M=k.toString()),console.error(k)},function(k){var{content:P,path:D}=k;c("handleJSONEditorModal",{content:P,path:D});var N={mode:E(P),content:P,selection:void 0,relativePath:D};t(20,L=[...L,N]),kn().then(()=>{var se;return(se=a)===null||se===void 0?void 0:se.focus()})},u,d,f,ie,i,function(k){t(22,l=k)},function(k){xt[k?"unshift":"push"](()=>{t(21,a=k)})}]}class sK extends et{constructor(e){super(),Ze(this,e,oK,rK,yt,{content:34,path:35,onPatch:36,readOnly:0,indentation:1,tabSize:2,mainMenuBar:3,navigationBar:4,statusBar:5,askToFormat:6,escapeControlCharacters:7,escapeUnicodeCharacters:8,flattenColumns:9,parser:10,validator:11,validationParser:12,pathParser:13,onRenderValue:14,onClassName:15,onRenderMenu:16,onRenderContextMenu:17,onSortModal:18,onTransformModal:19,onClose:37},XW,[-1,-1])}}var za={};function aK(n){ct(n,"svelte-i2yd9i",'.jse-modal-contents.svelte-i2yd9i.svelte-i2yd9i{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-contents.svelte-i2yd9i .jse-actions.svelte-i2yd9i{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-contents.svelte-i2yd9i .jse-actions button.jse-primary.svelte-i2yd9i{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-contents.svelte-i2yd9i .jse-actions button.jse-primary.svelte-i2yd9i:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-contents.svelte-i2yd9i .jse-actions button.jse-primary.svelte-i2yd9i:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-modal-contents.svelte-i2yd9i table.svelte-i2yd9i{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal-contents.svelte-i2yd9i table th.svelte-i2yd9i,.jse-modal-contents.svelte-i2yd9i table td.svelte-i2yd9i{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding, 10px)}.jse-modal-contents.svelte-i2yd9i table th input.jse-path.svelte-i2yd9i,.jse-modal-contents.svelte-i2yd9i table td input.jse-path.svelte-i2yd9i{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal-contents.svelte-i2yd9i table th input.jse-path.svelte-i2yd9i:read-only,.jse-modal-contents.svelte-i2yd9i table td input.jse-path.svelte-i2yd9i:read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal-contents.svelte-i2yd9i table th.svelte-i2yd9i .svelte-select input,.jse-modal-contents.svelte-i2yd9i table td.svelte-i2yd9i .svelte-select input{box-sizing:border-box}.jse-modal-contents.svelte-i2yd9i .jse-space.svelte-i2yd9i{height:200px}.jse-modal-contents.svelte-i2yd9i .jse-space .jse-error.svelte-i2yd9i{color:var(--jse-error-color, #ee5341)}')}function c$(n){var e,t,r,i,o,s,a;function l(u){n[15](u)}var c={showChevron:!0,items:n[6]};return n[2]!==void 0&&(c.value=n[2]),o=new ia({props:c}),xt.push(()=>Lr(o,"value",l)),{c(){e=I("tr"),(t=I("th")).textContent="Property",r=ne(),i=I("td"),ue(o.$$.fragment),w(t,"class","svelte-i2yd9i"),w(i,"class","svelte-i2yd9i")},m(u,d){K(u,e,d),O(e,t),O(e,r),O(e,i),le(o,i,null),a=!0},p(u,d){var f={};64&d&&(f.items=u[6]),!s&&4&d&&(s=!0,f.value=u[2],zr(()=>s=!1)),o.$set(f)},i(u){a||($(o.$$.fragment,u),a=!0)},o(u){C(o.$$.fragment,u),a=!1},d(u){u&&W(e),ce(o)}}}function u$(n){var e,t;return{c(){e=I("div"),t=Se(n[5]),w(e,"class","jse-error svelte-i2yd9i")},m(r,i){K(r,e,i),O(e,t)},p(r,i){32&i&&Xe(t,r[5])},d(r){r&&W(e)}}}function lK(n){var e,t,r,i,o,s,a,l,c,u,d,f,h,p,g,v,m,y,b,j,x,S,_,B,R,F,Q,Z,J,U,T,re;t=new Fh({props:{title:n[4]?"Sort array items":"Sort object keys",onClose:n[1]}});var ie=n[4]&&(n[6]&&((e=n[6])===null||e===void 0?void 0:e.length)>1||n[2]===void 0)&&c$(n);function G(E){n[16](E)}var L={showChevron:!0,clearable:!1,items:n[7]};n[3]!==void 0&&(L.value=n[3]),x=new ia({props:L}),xt.push(()=>Lr(x,"value",G));var M=n[5]&&u$(n);return{c(){var E;ue(t.$$.fragment),r=ne(),i=I("div"),o=I("table"),(s=I("colgroup")).innerHTML='<col width="25%"/> <col width="75%"/>',a=ne(),l=I("tbody"),c=I("tr"),(u=I("th")).textContent="Path",d=ne(),f=I("td"),h=I("input"),g=ne(),ie&&ie.c(),v=ne(),m=I("tr"),(y=I("th")).textContent="Direction",b=ne(),j=I("td"),ue(x.$$.fragment),_=ne(),B=I("div"),M&&M.c(),R=ne(),F=I("div"),Q=I("button"),Z=Se("Sort"),w(u,"class","svelte-i2yd9i"),w(h,"class","jse-path svelte-i2yd9i"),w(h,"type","text"),h.readOnly=!0,w(h,"title","Selected path"),h.value=p=n[0]&&!Lt(n[0])?oi(n[0]):"(document root)",w(f,"class","svelte-i2yd9i"),w(y,"class","svelte-i2yd9i"),w(j,"class","svelte-i2yd9i"),w(o,"class","svelte-i2yd9i"),w(B,"class","jse-space svelte-i2yd9i"),w(Q,"type","button"),w(Q,"class","jse-primary svelte-i2yd9i"),Q.disabled=J=!!(n[4]&&n[6]&&((E=n[6])===null||E===void 0?void 0:E.length)>1)&&!n[2],w(F,"class","jse-actions svelte-i2yd9i"),w(i,"class","jse-modal-contents svelte-i2yd9i")},m(E,ee){le(t,E,ee),K(E,r,ee),K(E,i,ee),O(i,o),O(o,s),O(o,a),O(o,l),O(l,c),O(c,u),O(c,d),O(c,f),O(f,h),O(l,g),ie&&ie.m(l,null),O(l,v),O(l,m),O(m,y),O(m,b),O(m,j),le(x,j,null),O(i,_),O(i,B),M&&M.m(B,null),O(i,R),O(i,F),O(F,Q),O(Q,Z),U=!0,T||(re=[ve(Q,"click",n[8]),$r(uK.call(null,Q))],T=!0)},p(E,ee){var H,k,P={};16&ee&&(P.title=E[4]?"Sort array items":"Sort object keys"),2&ee&&(P.onClose=E[1]),t.$set(P),(!U||1&ee&&p!==(p=E[0]&&!Lt(E[0])?oi(E[0]):"(document root)")&&h.value!==p)&&(h.value=p),E[4]&&(E[6]&&((H=E[6])===null||H===void 0?void 0:H.length)>1||E[2]===void 0)?ie?(ie.p(E,ee),84&ee&&$(ie,1)):((ie=c$(E)).c(),$(ie,1),ie.m(l,v)):ie&&(be(),C(ie,1,1,()=>{ie=null}),xe());var D={};!S&&8&ee&&(S=!0,D.value=E[3],zr(()=>S=!1)),x.$set(D),E[5]?M?M.p(E,ee):((M=u$(E)).c(),M.m(B,null)):M&&(M.d(1),M=null),(!U||84&ee&&J!==(J=!!(E[4]&&E[6]&&((k=E[6])===null||k===void 0?void 0:k.length)>1)&&!E[2]))&&(Q.disabled=J)},i(E){U||($(t.$$.fragment,E),$(ie),$(x.$$.fragment,E),U=!0)},o(E){C(t.$$.fragment,E),C(ie),C(x.$$.fragment,E),U=!1},d(E){E&&(W(r),W(i)),ce(t,E),ie&&ie.d(),ce(x),M&&M.d(),T=!1,tn(re)}}}function cK(n){var e,t;return e=new Au({props:{onClose:n[1],className:"jse-sort-modal",$$slots:{default:[lK]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var[o]=i,s={};2&o&&(s.onClose=r[1]),2097279&o&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function uK(n){n.focus()}function dK(n,e,t){var r,i,o,s,a,l,c=Zn("jsoneditor:SortModal"),{id:u}=e,{json:d}=e,{rootPath:f}=e,{onSort:h}=e,{onClose:p}=e,g={value:1,label:"ascending"},v=[g,{value:-1,label:"descending"}],m="".concat(u,":").concat(it(f)),y=(r=za[m])===null||r===void 0?void 0:r.selectedProperty,b=((i=za[m])===null||i===void 0?void 0:i.selectedDirection)||g,j=void 0;return n.$$set=x=>{"id"in x&&t(9,u=x.id),"json"in x&&t(10,d=x.json),"rootPath"in x&&t(0,f=x.rootPath),"onSort"in x&&t(11,h=x.onSort),"onClose"in x&&t(1,p=x.onClose)},n.$$.update=()=>{1025&n.$$.dirty&&t(14,o=De(d,f)),16384&n.$$.dirty&&t(4,s=Array.isArray(o)),16400&n.$$.dirty&&t(13,a=s?Cg(o):void 0),8192&n.$$.dirty&&t(6,l=a?a.map(yc):void 0),4108&n.$$.dirty&&(t(12,za[m]={selectedProperty:y,selectedDirection:b},za),c("store state in memory",m,za[m]))},[f,p,y,b,s,j,l,v,function(){try{var x,S,_;t(5,j=void 0);var B=((x=y)===null||x===void 0?void 0:x.value)||((S=l)===null||S===void 0||(S=S[0])===null||S===void 0?void 0:S.value)||[],R=(_=b)===null||_===void 0?void 0:_.value,F=T6(d,f,B,R);h!==void 0&&f!==void 0&&h({operations:F,rootPath:f,itemPath:B,direction:R}),p()}catch(Q){t(5,j=String(Q))}},u,d,h,za,a,o,function(x){t(2,y=x)},function(x){t(3,b=x)}]}class fK extends et{constructor(e){super(),Ze(this,e,dK,cK,yt,{id:9,json:10,rootPath:0,onSort:11,onClose:1},aK)}}function hK(n){ct(n,"svelte-57bmz4",'.jse-main.svelte-57bmz4{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;position:relative;display:flex;flex-direction:row}.jse-main.svelte-57bmz4:not(.jse-focus){--jse-selection-background-color:var(--jse-selection-background-inactive-color, #e8e8e8);--jse-context-menu-pointer-background:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}')}function d$(n){var e,t,r={mode:n[2],content:n[0],selection:n[1],readOnly:n[3],indentation:n[4],tabSize:n[5],statusBar:n[8],askToFormat:n[9],mainMenuBar:n[6],navigationBar:n[7],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],flattenColumns:n[12],parser:n[13],parseMemoizeOne:n[28],validator:n[14],validationParser:n[15],pathParser:n[16],insideModal:!1,onError:n[21],onChange:n[29],onChangeMode:n[33],onSelect:n[30],onRenderValue:n[17],onClassName:n[18],onFocus:n[31],onBlur:n[32],onRenderMenu:n[19],onRenderContextMenu:n[20],onSortModal:n[35],onTransformModal:n[34],onJSONEditorModal:n[36]};return e=new K6({props:r}),n[62](e),{c(){ue(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,o){var s={};4&o[0]&&(s.mode=i[2]),1&o[0]&&(s.content=i[0]),2&o[0]&&(s.selection=i[1]),8&o[0]&&(s.readOnly=i[3]),16&o[0]&&(s.indentation=i[4]),32&o[0]&&(s.tabSize=i[5]),256&o[0]&&(s.statusBar=i[8]),512&o[0]&&(s.askToFormat=i[9]),64&o[0]&&(s.mainMenuBar=i[6]),128&o[0]&&(s.navigationBar=i[7]),1024&o[0]&&(s.escapeControlCharacters=i[10]),2048&o[0]&&(s.escapeUnicodeCharacters=i[11]),4096&o[0]&&(s.flattenColumns=i[12]),8192&o[0]&&(s.parser=i[13]),268435456&o[0]&&(s.parseMemoizeOne=i[28]),16384&o[0]&&(s.validator=i[14]),32768&o[0]&&(s.validationParser=i[15]),65536&o[0]&&(s.pathParser=i[16]),2097152&o[0]&&(s.onError=i[21]),131072&o[0]&&(s.onRenderValue=i[17]),262144&o[0]&&(s.onClassName=i[18]),524288&o[0]&&(s.onRenderMenu=i[19]),1048576&o[0]&&(s.onRenderContextMenu=i[20]),e.$set(s)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){n[62](null),ce(e,i)}}}function f$(n){for(var e,t,r=[n[26],{onClose:n[63]}],i={},o=0;o<r.length;o+=1)i=Yn(i,r[o]);return e=new fK({props:i}),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),t=!0},p(s,a){var l=67108864&a[0]?Ur(r,[67108864&a[0]&&wo(s[26]),{onClose:s[63]}]):{};e.$set(l)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function h$(n){for(var e,t,r=[n[27],{onClose:n[64]}],i={},o=0;o<r.length;o+=1)i=Yn(i,r[o]);return e=new QH({props:i}),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),t=!0},p(s,a){var l=134217728&a[0]?Ur(r,[134217728&a[0]&&wo(s[27]),{onClose:s[64]}]):{};e.$set(l)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function p$(n){for(var e,t,r=[n[25],{onClose:n[65]}],i={},o=0;o<r.length;o+=1)i=Yn(i,r[o]);return e=new sK({props:i}),{c(){ue(e.$$.fragment)},m(s,a){le(e,s,a),t=!0},p(s,a){var l=33554432&a[0]?Ur(r,[33554432&a[0]&&wo(s[25]),{onClose:s[65]}]):{};e.$set(l)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function pK(n){var e,t,r,i,o,s,a=n[22],l=d$(n),c=n[26]&&f$(n),u=n[27]&&h$(n),d=n[25]&&p$(n);return{c(){e=I("div"),l.c(),t=ne(),c&&c.c(),r=ne(),u&&u.c(),i=ne(),d&&d.c(),o=Bt(),w(e,"class","jse-main svelte-57bmz4"),he(e,"jse-focus",n[23])},m(f,h){K(f,e,h),l.m(e,null),K(f,t,h),c&&c.m(f,h),K(f,r,h),u&&u.m(f,h),K(f,i,h),d&&d.m(f,h),K(f,o,h),s=!0},p(f,h){4194304&h[0]&&yt(a,a=f[22])?(be(),C(l,1,1,ke),xe(),(l=d$(f)).c(),$(l,1),l.m(e,null)):l.p(f,h),(!s||8388608&h[0])&&he(e,"jse-focus",f[23]),f[26]?c?(c.p(f,h),67108864&h[0]&&$(c,1)):((c=f$(f)).c(),$(c,1),c.m(r.parentNode,r)):c&&(be(),C(c,1,1,()=>{c=null}),xe()),f[27]?u?(u.p(f,h),134217728&h[0]&&$(u,1)):((u=h$(f)).c(),$(u,1),u.m(i.parentNode,i)):u&&(be(),C(u,1,1,()=>{u=null}),xe()),f[25]?d?(d.p(f,h),33554432&h[0]&&$(d,1)):((d=p$(f)).c(),$(d,1),d.m(o.parentNode,o)):d&&(be(),C(d,1,1,()=>{d=null}),xe())},i(f){s||($(l),$(c),$(u),$(d),s=!0)},o(f){C(l),C(c),C(u),C(d),s=!1},d(f){f&&(W(e),W(t),W(r),W(i),W(o)),l.d(f),c&&c.d(f),u&&u.d(f),d&&d.d(f)}}}function mK(n){var e,t;return e=new Wv({props:{$$slots:{default:[pK]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(r,i){le(e,r,i),t=!0},p(r,i){var o={};536870911&i[0]|64&i[2]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function gK(n,e,t){var r,i,o,s,a=Zn("jsoneditor:JSONEditor"),{content:l={text:""}}=e,{selection:c}=e,{readOnly:u=!1}=e,{indentation:d=2}=e,{tabSize:f=4}=e,{mode:h=Tn.tree}=e,{mainMenuBar:p=!0}=e,{navigationBar:g=!0}=e,{statusBar:v=!0}=e,{askToFormat:m=!0}=e,{escapeControlCharacters:y=!1}=e,{escapeUnicodeCharacters:b=!1}=e,{flattenColumns:j=!0}=e,{parser:x=JSON}=e,{validator:S}=e,{validationParser:_=JSON}=e,{pathParser:B={parse:wq,stringify:oi}}=e,{queryLanguages:R=[cB]}=e,{queryLanguageId:F=R[0].id}=e,{onChangeQueryLanguage:Q=Ai}=e,{onChange:Z}=e,{onSelect:J}=e,{onRenderValue:U=xq}=e,{onClassName:T=()=>{}}=e,{onRenderMenu:re=Ai}=e,{onRenderContextMenu:ie=Ai}=e,{onChangeMode:G=Ai}=e,{onError:L=ae=>{console.error(ae),alert(ae.toString())}}=e,{onFocus:M=Ai}=e,{onBlur:E=Ai}=e,ee=Pc(),H=!1,k=void 0,P=x;function D(){return(D=st(function*(ae){a("set");var mt=Lp(ae);if(mt)throw new Error(mt);t(22,ee=Pc()),t(0,l=ae)})).apply(this,arguments)}function N(){return(N=st(function*(ae){a("update");var mt=Lp(ae);if(mt)throw new Error(mt);t(0,l=ae),yield kn()})).apply(this,arguments)}function se(){return(se=st(function*(ae){if(El(l))try{t(0,l={json:x.parse(l.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}var mt=i.patch(ae);return yield kn(),mt})).apply(this,arguments)}function $e(){return($e=st(function*(ae){t(1,c=ae),yield kn()})).apply(this,arguments)}function Y(){return(Y=st(function*(ae,mt){i.expand(ae,mt),yield kn()})).apply(this,arguments)}function Pe(){return Pe=st(function*(ae){var mt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i.collapse(ae,mt),yield kn()}),Pe.apply(this,arguments)}function Ve(){return Ve=st(function*(){var ae=i.acceptAutoRepair();return yield kn(),ae}),Ve.apply(this,arguments)}function wt(){return(wt=st(function*(ae){yield i.scrollTo(ae)})).apply(this,arguments)}function jt(){return at.apply(this,arguments)}function at(){return(at=st(function*(){i.focus(),yield kn()})).apply(this,arguments)}function Fe(){return(Fe=st(function*(){yield i.refresh()})).apply(this,arguments)}function ye(){return(ye=st(function*(ae){this.$set(ae),yield kn()})).apply(this,arguments)}function Gt(){return(Gt=st(function*(){this.$destroy(),yield kn()})).apply(this,arguments)}function Me(){return(Me=st(function*(ae){h!==ae&&(t(2,h=ae),yield kn(),yield jt(),G(ae))})).apply(this,arguments)}function At(ae){a("handleChangeQueryLanguage",ae),t(37,F=ae),Q(ae)}function Ce(ae){var{id:mt,json:we,rootPath:A,onTransform:V,onClose:X}=ae;u||t(27,s={id:mt,json:we,rootPath:A,indentation:d,escapeControlCharacters:y,escapeUnicodeCharacters:b,parser:x,parseMemoizeOne:r,validationParser:_,pathParser:B,queryLanguages:R,queryLanguageId:F,onChangeQueryLanguage:At,onRenderValue:U,onRenderMenu:oe=>re(oe,{mode:h,modal:!0,readOnly:u}),onRenderContextMenu:oe=>ie(oe,{mode:h,modal:!0,readOnly:u,selection:c}),onClassName:T,onTransform:V,onClose:X})}function Je(ae){u||t(26,o=ae)}return n.$$set=ae=>{"content"in ae&&t(0,l=ae.content),"selection"in ae&&t(1,c=ae.selection),"readOnly"in ae&&t(3,u=ae.readOnly),"indentation"in ae&&t(4,d=ae.indentation),"tabSize"in ae&&t(5,f=ae.tabSize),"mode"in ae&&t(2,h=ae.mode),"mainMenuBar"in ae&&t(6,p=ae.mainMenuBar),"navigationBar"in ae&&t(7,g=ae.navigationBar),"statusBar"in ae&&t(8,v=ae.statusBar),"askToFormat"in ae&&t(9,m=ae.askToFormat),"escapeControlCharacters"in ae&&t(10,y=ae.escapeControlCharacters),"escapeUnicodeCharacters"in ae&&t(11,b=ae.escapeUnicodeCharacters),"flattenColumns"in ae&&t(12,j=ae.flattenColumns),"parser"in ae&&t(13,x=ae.parser),"validator"in ae&&t(14,S=ae.validator),"validationParser"in ae&&t(15,_=ae.validationParser),"pathParser"in ae&&t(16,B=ae.pathParser),"queryLanguages"in ae&&t(38,R=ae.queryLanguages),"queryLanguageId"in ae&&t(37,F=ae.queryLanguageId),"onChangeQueryLanguage"in ae&&t(39,Q=ae.onChangeQueryLanguage),"onChange"in ae&&t(40,Z=ae.onChange),"onSelect"in ae&&t(41,J=ae.onSelect),"onRenderValue"in ae&&t(17,U=ae.onRenderValue),"onClassName"in ae&&t(18,T=ae.onClassName),"onRenderMenu"in ae&&t(19,re=ae.onRenderMenu),"onRenderContextMenu"in ae&&t(20,ie=ae.onRenderContextMenu),"onChangeMode"in ae&&t(42,G=ae.onChangeMode),"onError"in ae&&t(21,L=ae.onError),"onFocus"in ae&&t(43,M=ae.onFocus),"onBlur"in ae&&t(44,E=ae.onBlur)},n.$$.update=()=>{if(8193&n.$$.dirty[0]|1073741824&n.$$.dirty[1]&&!WL(x,P)){if(a("parser changed, recreate editor"),Zc(l)){var ae=P.stringify(l.json);t(0,l={json:ae!==void 0?x.parse(ae):void 0})}t(61,P=x),t(22,ee=Pc())}if(1&n.$$.dirty[0]){var mt=Lp(l);mt&&console.error("Error: "+mt)}2&n.$$.dirty[0]&&c===null&&console.warn("selection is invalid: it is null but should be undefined"),8192&n.$$.dirty[0]&&t(28,r=du(x.parse)),4&n.$$.dirty[0]&&a("mode changed to",h)},[l,c,h,u,d,f,p,g,v,m,y,b,j,x,S,_,B,U,T,re,ie,L,ee,H,i,k,o,s,r,function(ae,mt,we){t(0,l=ae),Z&&Z(ae,mt,we)},function(ae){t(1,c=ae),J&&J(sm(ae))},function(){t(23,H=!0),M&&M()},function(){t(23,H=!1),E&&E()},function(ae){return Me.apply(this,arguments)},Ce,Je,function(ae){var{content:mt,path:we,onPatch:A,onClose:V}=ae;a("onJSONEditorModal",{content:mt,path:we}),t(25,k={content:mt,path:we,onPatch:A,readOnly:u,indentation:d,tabSize:f,mainMenuBar:p,navigationBar:g,statusBar:v,askToFormat:m,escapeControlCharacters:y,escapeUnicodeCharacters:b,flattenColumns:j,parser:x,validator:void 0,validationParser:_,pathParser:B,onRenderValue:U,onClassName:T,onRenderMenu:re,onRenderContextMenu:ie,onSortModal:Je,onTransformModal:Ce,onClose:V})},F,R,Q,Z,J,G,M,E,function(){return l},function(ae){return D.apply(this,arguments)},function(ae){return N.apply(this,arguments)},function(ae){return se.apply(this,arguments)},function(ae){return $e.apply(this,arguments)},function(ae,mt){return Y.apply(this,arguments)},function(ae){return Pe.apply(this,arguments)},function(ae){i.transform(ae)},function(){return i.validate()},function(){return Ve.apply(this,arguments)},function(ae){return wt.apply(this,arguments)},function(ae){return i.findElement(ae)},jt,function(){return Fe.apply(this,arguments)},function(ae){return ye.apply(this,arguments)},function(){return Gt.apply(this,arguments)},P,function(ae){xt[ae?"unshift":"push"](()=>{t(24,i=ae)})},()=>{var ae;(ae=o)===null||ae===void 0||ae.onClose(),t(26,o=void 0)},()=>{var ae;(ae=s)===null||ae===void 0||ae.onClose(),t(27,s=void 0)},()=>{var ae;(ae=k)===null||ae===void 0||ae.onClose(),t(25,k=void 0)}]}var vK=class extends et{constructor(n){super(),Ze(this,n,gK,mK,yt,{content:0,selection:1,readOnly:3,indentation:4,tabSize:5,mode:2,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,validator:14,validationParser:15,pathParser:16,queryLanguages:38,queryLanguageId:37,onChangeQueryLanguage:39,onChange:40,onSelect:41,onRenderValue:17,onClassName:18,onRenderMenu:19,onRenderContextMenu:20,onChangeMode:42,onError:21,onFocus:43,onBlur:44,get:45,set:46,update:47,patch:48,select:49,expand:50,collapse:51,transform:52,validate:53,acceptAutoRepair:54,scrollTo:55,findElement:56,focus:57,refresh:58,updateProps:59,destroy:60},hK,[-1,-1,-1])}get get(){return this.$$.ctx[45]}get set(){return this.$$.ctx[46]}get update(){return this.$$.ctx[47]}get patch(){return this.$$.ctx[48]}get select(){return this.$$.ctx[49]}get expand(){return this.$$.ctx[50]}get collapse(){return this.$$.ctx[51]}get transform(){return this.$$.ctx[52]}get validate(){return this.$$.ctx[53]}get acceptAutoRepair(){return this.$$.ctx[54]}get scrollTo(){return this.$$.ctx[55]}get findElement(){return this.$$.ctx[56]}get focus(){return this.$$.ctx[57]}get refresh(){return this.$$.ctx[58]}get updateProps(){return this.$$.ctx[59]}get destroy(){return this.$$.ctx[60]}};function yK(n){var{target:e,props:t}=n;return new vK({target:e,props:t})}const bK=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,xK=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,wK=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jK(n,e){if(n==="__proto__"||n==="constructor"&&e&&typeof e=="object"&&"prototype"in e){$K(n);return}return e}function $K(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function Yd(n,e={}){if(typeof n!="string")return n;const t=n.trim();if(n[0]==='"'&&n.endsWith('"')&&!n.includes("\\"))return t.slice(1,-1);if(t.length<=9){const r=t.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!wK.test(n)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(bK.test(n)||xK.test(n)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,jK)}return JSON.parse(n)}catch(r){if(e.strict)throw r;return n}}function kK(n,e={}){return Yd(n,{...e,strict:!0})}var CK=typeof global=="object"&&global&&global.Object===Object&&global,SK=typeof self=="object"&&self&&self.Object===Object&&self,G6=CK||SK||Function("return this")(),th=G6.Symbol,J6=Object.prototype,OK=J6.hasOwnProperty,EK=J6.toString,ac=th?th.toStringTag:void 0;function AK(n){var e=OK.call(n,ac),t=n[ac];try{n[ac]=void 0;var r=!0}catch{}var i=EK.call(n);return r&&(e?n[ac]=t:delete n[ac]),i}var MK=Object.prototype,PK=MK.toString;function _K(n){return PK.call(n)}var TK="[object Null]",RK="[object Undefined]",m$=th?th.toStringTag:void 0;function NK(n){return n==null?n===void 0?RK:TK:m$&&m$ in Object(n)?AK(n):_K(n)}function DK(n){return n!=null&&typeof n=="object"}var IK="[object Symbol]";function zK(n){return typeof n=="symbol"||DK(n)&&NK(n)==IK}var LK=/\s/;function BK(n){for(var e=n.length;e--&&LK.test(n.charAt(e)););return e}var qK=/^\s+/;function FK(n){return n&&n.slice(0,BK(n)+1).replace(qK,"")}function Gg(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var g$=NaN,VK=/^[-+]0x[0-9a-f]+$/i,UK=/^0b[01]+$/i,HK=/^0o[0-7]+$/i,WK=parseInt;function v$(n){if(typeof n=="number")return n;if(zK(n))return g$;if(Gg(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Gg(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=FK(n);var t=UK.test(n);return t||HK.test(n)?WK(n.slice(2),t?2:8):VK.test(n)?g$:+n}var Xp=function(){return G6.Date.now()},KK="Expected a function",GK=Math.max,JK=Math.min;function QK(n,e,t){var r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(KK);e=v$(e)||0,Gg(t)&&(u=!!t.leading,d="maxWait"in t,o=d?GK(v$(t.maxWait)||0,e):o,f="trailing"in t?!!t.trailing:f);function h(S){var _=r,B=i;return r=i=void 0,c=S,s=n.apply(B,_),s}function p(S){return c=S,a=setTimeout(m,e),u?h(S):s}function g(S){var _=S-l,B=S-c,R=e-_;return d?JK(R,o-B):R}function v(S){var _=S-l,B=S-c;return l===void 0||_>=e||_<0||d&&B>=o}function m(){var S=Xp();if(v(S))return y(S);a=setTimeout(m,g(S))}function y(S){return a=void 0,f&&r?h(S):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function j(){return a===void 0?s:y(Xp())}function x(){var S=Xp(),_=v(S);if(r=arguments,i=this,l=S,_){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(m,e),h(l)}return a===void 0&&(a=setTimeout(m,e)),s}return x.cancel=b,x.flush=j,x}var Q6=typeof global=="object"&&global&&global.Object===Object&&global,YK=typeof self=="object"&&self&&self.Object===Object&&self,Eo=Q6||YK||Function("return this")(),ko=Eo.Symbol,Y6=Object.prototype,XK=Y6.hasOwnProperty,ZK=Y6.toString,lc=ko?ko.toStringTag:void 0;function eG(n){var e=XK.call(n,lc),t=n[lc];try{n[lc]=void 0;var r=!0}catch{}var i=ZK.call(n);return r&&(e?n[lc]=t:delete n[lc]),i}var tG=Object.prototype,nG=tG.toString;function rG(n){return nG.call(n)}var iG="[object Null]",oG="[object Undefined]",y$=ko?ko.toStringTag:void 0;function Oa(n){return n==null?n===void 0?oG:iG:y$&&y$ in Object(n)?eG(n):rG(n)}function Co(n){return n!=null&&typeof n=="object"}var sG="[object Symbol]";function y1(n){return typeof n=="symbol"||Co(n)&&Oa(n)==sG}function aG(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var ji=Array.isArray,lG=1/0,b$=ko?ko.prototype:void 0,x$=b$?b$.toString:void 0;function X6(n){if(typeof n=="string")return n;if(ji(n))return aG(n,X6)+"";if(y1(n))return x$?x$.call(n):"";var e=n+"";return e=="0"&&1/n==-lG?"-0":e}function Ao(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function b1(n){return n}var cG="[object AsyncFunction]",uG="[object Function]",dG="[object GeneratorFunction]",fG="[object Proxy]";function x1(n){if(!Ao(n))return!1;var e=Oa(n);return e==uG||e==dG||e==cG||e==fG}var Zp=Eo["__core-js_shared__"],w$=function(){var n=/[^.]+$/.exec(Zp&&Zp.keys&&Zp.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function hG(n){return!!w$&&w$ in n}var pG=Function.prototype,mG=pG.toString;function Ea(n){if(n!=null){try{return mG.call(n)}catch{}try{return n+""}catch{}}return""}var gG=/[\\^$.*+?()[\]{}|]/g,vG=/^\[object .+?Constructor\]$/,yG=Function.prototype,bG=Object.prototype,xG=yG.toString,wG=bG.hasOwnProperty,jG=RegExp("^"+xG.call(wG).replace(gG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $G(n){if(!Ao(n)||hG(n))return!1;var e=x1(n)?jG:vG;return e.test(Ea(n))}function kG(n,e){return n==null?void 0:n[e]}function Aa(n,e){var t=kG(n,e);return $G(t)?t:void 0}var Jg=Aa(Eo,"WeakMap"),j$=Object.create,CG=function(){function n(){}return function(e){if(!Ao(e))return{};if(j$)return j$(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function SG(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function OG(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var EG=800,AG=16,MG=Date.now;function PG(n){var e=0,t=0;return function(){var r=MG(),i=AG-(r-t);if(t=r,i>0){if(++e>=EG)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function _G(n){return function(){return n}}var nh=function(){try{var n=Aa(Object,"defineProperty");return n({},"",{}),n}catch{}}(),TG=nh?function(n,e){return nh(n,"toString",{configurable:!0,enumerable:!1,value:_G(e),writable:!0})}:b1,RG=PG(TG);function NG(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var DG=9007199254740991,IG=/^(?:0|[1-9]\d*)$/;function w1(n,e){var t=typeof n;return e=e??DG,!!e&&(t=="number"||t!="symbol"&&IG.test(n))&&n>-1&&n%1==0&&n<e}function Uh(n,e,t){e=="__proto__"&&nh?nh(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Mu(n,e){return n===e||n!==n&&e!==e}var zG=Object.prototype,LG=zG.hasOwnProperty;function Z6(n,e,t){var r=n[e];(!(LG.call(n,e)&&Mu(r,t))||t===void 0&&!(e in n))&&Uh(n,e,t)}function e8(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?Uh(t,a,l):Z6(t,a,l)}return t}var $$=Math.max;function BG(n,e,t){return e=$$(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=$$(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),SG(n,this,a)}}function qG(n,e){return RG(BG(n,e,b1),n+"")}var FG=9007199254740991;function j1(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=FG}function Hh(n){return n!=null&&j1(n.length)&&!x1(n)}function VG(n,e,t){if(!Ao(t))return!1;var r=typeof e;return(r=="number"?Hh(t)&&w1(e,t.length):r=="string"&&e in t)?Mu(t[e],n):!1}function t8(n){return qG(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&VG(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var UG=Object.prototype;function $1(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||UG;return n===t}function HG(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var WG="[object Arguments]";function k$(n){return Co(n)&&Oa(n)==WG}var n8=Object.prototype,KG=n8.hasOwnProperty,GG=n8.propertyIsEnumerable,rh=k$(function(){return arguments}())?k$:function(n){return Co(n)&&KG.call(n,"callee")&&!GG.call(n,"callee")};function JG(){return!1}var r8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,C$=r8&&typeof module=="object"&&module&&!module.nodeType&&module,QG=C$&&C$.exports===r8,S$=QG?Eo.Buffer:void 0,YG=S$?S$.isBuffer:void 0,lu=YG||JG,XG="[object Arguments]",ZG="[object Array]",eJ="[object Boolean]",tJ="[object Date]",nJ="[object Error]",rJ="[object Function]",iJ="[object Map]",oJ="[object Number]",sJ="[object Object]",aJ="[object RegExp]",lJ="[object Set]",cJ="[object String]",uJ="[object WeakMap]",dJ="[object ArrayBuffer]",fJ="[object DataView]",hJ="[object Float32Array]",pJ="[object Float64Array]",mJ="[object Int8Array]",gJ="[object Int16Array]",vJ="[object Int32Array]",yJ="[object Uint8Array]",bJ="[object Uint8ClampedArray]",xJ="[object Uint16Array]",wJ="[object Uint32Array]",hn={};hn[hJ]=hn[pJ]=hn[mJ]=hn[gJ]=hn[vJ]=hn[yJ]=hn[bJ]=hn[xJ]=hn[wJ]=!0;hn[XG]=hn[ZG]=hn[dJ]=hn[eJ]=hn[fJ]=hn[tJ]=hn[nJ]=hn[rJ]=hn[iJ]=hn[oJ]=hn[sJ]=hn[aJ]=hn[lJ]=hn[cJ]=hn[uJ]=!1;function jJ(n){return Co(n)&&j1(n.length)&&!!hn[Oa(n)]}function k1(n){return function(e){return n(e)}}var i8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_c=i8&&typeof module=="object"&&module&&!module.nodeType&&module,$J=_c&&_c.exports===i8,em=$J&&Q6.process,Dl=function(){try{var n=_c&&_c.require&&_c.require("util").types;return n||em&&em.binding&&em.binding("util")}catch{}}(),O$=Dl&&Dl.isTypedArray,C1=O$?k1(O$):jJ,kJ=Object.prototype,CJ=kJ.hasOwnProperty;function o8(n,e){var t=ji(n),r=!t&&rh(n),i=!t&&!r&&lu(n),o=!t&&!r&&!i&&C1(n),s=t||r||i||o,a=s?HG(n.length,String):[],l=a.length;for(var c in n)(e||CJ.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||w1(c,l)))&&a.push(c);return a}function s8(n,e){return function(t){return n(e(t))}}var SJ=s8(Object.keys,Object),OJ=Object.prototype,EJ=OJ.hasOwnProperty;function AJ(n){if(!$1(n))return SJ(n);var e=[];for(var t in Object(n))EJ.call(n,t)&&t!="constructor"&&e.push(t);return e}function S1(n){return Hh(n)?o8(n):AJ(n)}function MJ(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var PJ=Object.prototype,_J=PJ.hasOwnProperty;function TJ(n){if(!Ao(n))return MJ(n);var e=$1(n),t=[];for(var r in n)r=="constructor"&&(e||!_J.call(n,r))||t.push(r);return t}function O1(n){return Hh(n)?o8(n,!0):TJ(n)}var RJ=t8(function(n,e,t,r){e8(e,O1(e),n,r)}),NJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DJ=/^\w*$/;function E1(n,e){if(ji(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||y1(n)?!0:DJ.test(n)||!NJ.test(n)||e!=null&&n in Object(e)}var cu=Aa(Object,"create");function IJ(){this.__data__=cu?cu(null):{},this.size=0}function zJ(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var LJ="__lodash_hash_undefined__",BJ=Object.prototype,qJ=BJ.hasOwnProperty;function FJ(n){var e=this.__data__;if(cu){var t=e[n];return t===LJ?void 0:t}return qJ.call(e,n)?e[n]:void 0}var VJ=Object.prototype,UJ=VJ.hasOwnProperty;function HJ(n){var e=this.__data__;return cu?e[n]!==void 0:UJ.call(e,n)}var WJ="__lodash_hash_undefined__";function KJ(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=cu&&e===void 0?WJ:e,this}function $a(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}$a.prototype.clear=IJ;$a.prototype.delete=zJ;$a.prototype.get=FJ;$a.prototype.has=HJ;$a.prototype.set=KJ;function GJ(){this.__data__=[],this.size=0}function Wh(n,e){for(var t=n.length;t--;)if(Mu(n[t][0],e))return t;return-1}var JJ=Array.prototype,QJ=JJ.splice;function YJ(n){var e=this.__data__,t=Wh(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():QJ.call(e,t,1),--this.size,!0}function XJ(n){var e=this.__data__,t=Wh(e,n);return t<0?void 0:e[t][1]}function ZJ(n){return Wh(this.__data__,n)>-1}function eQ(n,e){var t=this.__data__,r=Wh(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ts(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ts.prototype.clear=GJ;ts.prototype.delete=YJ;ts.prototype.get=XJ;ts.prototype.has=ZJ;ts.prototype.set=eQ;var uu=Aa(Eo,"Map");function tQ(){this.size=0,this.__data__={hash:new $a,map:new(uu||ts),string:new $a}}function nQ(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Kh(n,e){var t=n.__data__;return nQ(e)?t[typeof e=="string"?"string":"hash"]:t.map}function rQ(n){var e=Kh(this,n).delete(n);return this.size-=e?1:0,e}function iQ(n){return Kh(this,n).get(n)}function oQ(n){return Kh(this,n).has(n)}function sQ(n,e){var t=Kh(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function ns(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ns.prototype.clear=tQ;ns.prototype.delete=rQ;ns.prototype.get=iQ;ns.prototype.has=oQ;ns.prototype.set=sQ;var aQ="Expected a function";function A1(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(aQ);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(A1.Cache||ns),t}A1.Cache=ns;var lQ=500;function cQ(n){var e=A1(n,function(r){return t.size===lQ&&t.clear(),r}),t=e.cache;return e}var uQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dQ=/\\(\\)?/g,fQ=cQ(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(uQ,function(t,r,i,o){e.push(i?o.replace(dQ,"$1"):r||t)}),e});function hQ(n){return n==null?"":X6(n)}function a8(n,e){return ji(n)?n:E1(n,e)?[n]:fQ(hQ(n))}var pQ=1/0;function Gh(n){if(typeof n=="string"||y1(n))return n;var e=n+"";return e=="0"&&1/n==-pQ?"-0":e}function l8(n,e){e=a8(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Gh(e[t++])];return t&&t==r?n:void 0}function mQ(n,e,t){var r=n==null?void 0:l8(n,e);return r===void 0?t:r}function gQ(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var c8=s8(Object.getPrototypeOf,Object),vQ="[object Object]",yQ=Function.prototype,bQ=Object.prototype,u8=yQ.toString,xQ=bQ.hasOwnProperty,wQ=u8.call(Object);function jQ(n){if(!Co(n)||Oa(n)!=vQ)return!1;var e=c8(n);if(e===null)return!0;var t=xQ.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&u8.call(t)==wQ}function $Q(){this.__data__=new ts,this.size=0}function kQ(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function CQ(n){return this.__data__.get(n)}function SQ(n){return this.__data__.has(n)}var OQ=200;function EQ(n,e){var t=this.__data__;if(t instanceof ts){var r=t.__data__;if(!uu||r.length<OQ-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new ns(r)}return t.set(n,e),this.size=t.size,this}function Fi(n){var e=this.__data__=new ts(n);this.size=e.size}Fi.prototype.clear=$Q;Fi.prototype.delete=kQ;Fi.prototype.get=CQ;Fi.prototype.has=SQ;Fi.prototype.set=EQ;var d8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E$=d8&&typeof module=="object"&&module&&!module.nodeType&&module,AQ=E$&&E$.exports===d8,A$=AQ?Eo.Buffer:void 0,M$=A$?A$.allocUnsafe:void 0;function f8(n,e){if(e)return n.slice();var t=n.length,r=M$?M$(t):new n.constructor(t);return n.copy(r),r}function MQ(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}function PQ(){return[]}var _Q=Object.prototype,TQ=_Q.propertyIsEnumerable,P$=Object.getOwnPropertySymbols,RQ=P$?function(n){return n==null?[]:(n=Object(n),MQ(P$(n),function(e){return TQ.call(n,e)}))}:PQ;function NQ(n,e,t){var r=e(n);return ji(n)?r:gQ(r,t(n))}function Qg(n){return NQ(n,S1,RQ)}var Yg=Aa(Eo,"DataView"),Xg=Aa(Eo,"Promise"),Zg=Aa(Eo,"Set"),_$="[object Map]",DQ="[object Object]",T$="[object Promise]",R$="[object Set]",N$="[object WeakMap]",D$="[object DataView]",IQ=Ea(Yg),zQ=Ea(uu),LQ=Ea(Xg),BQ=Ea(Zg),qQ=Ea(Jg),Mi=Oa;(Yg&&Mi(new Yg(new ArrayBuffer(1)))!=D$||uu&&Mi(new uu)!=_$||Xg&&Mi(Xg.resolve())!=T$||Zg&&Mi(new Zg)!=R$||Jg&&Mi(new Jg)!=N$)&&(Mi=function(n){var e=Oa(n),t=e==DQ?n.constructor:void 0,r=t?Ea(t):"";if(r)switch(r){case IQ:return D$;case zQ:return _$;case LQ:return T$;case BQ:return R$;case qQ:return N$}return e});var FQ=Object.prototype,VQ=FQ.hasOwnProperty;function UQ(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&VQ.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var ih=Eo.Uint8Array;function M1(n){var e=new n.constructor(n.byteLength);return new ih(e).set(new ih(n)),e}function HQ(n,e){var t=M1(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var WQ=/\w*$/;function KQ(n){var e=new n.constructor(n.source,WQ.exec(n));return e.lastIndex=n.lastIndex,e}var I$=ko?ko.prototype:void 0,z$=I$?I$.valueOf:void 0;function GQ(n){return z$?Object(z$.call(n)):{}}function h8(n,e){var t=e?M1(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var JQ="[object Boolean]",QQ="[object Date]",YQ="[object Map]",XQ="[object Number]",ZQ="[object RegExp]",eY="[object Set]",tY="[object String]",nY="[object Symbol]",rY="[object ArrayBuffer]",iY="[object DataView]",oY="[object Float32Array]",sY="[object Float64Array]",aY="[object Int8Array]",lY="[object Int16Array]",cY="[object Int32Array]",uY="[object Uint8Array]",dY="[object Uint8ClampedArray]",fY="[object Uint16Array]",hY="[object Uint32Array]";function pY(n,e,t){var r=n.constructor;switch(e){case rY:return M1(n);case JQ:case QQ:return new r(+n);case iY:return HQ(n);case oY:case sY:case aY:case lY:case cY:case uY:case dY:case fY:case hY:return h8(n,t);case YQ:return new r;case XQ:case tY:return new r(n);case ZQ:return KQ(n);case eY:return new r;case nY:return GQ(n)}}function p8(n){return typeof n.constructor=="function"&&!$1(n)?CG(c8(n)):{}}var mY="[object Map]";function gY(n){return Co(n)&&Mi(n)==mY}var L$=Dl&&Dl.isMap,vY=L$?k1(L$):gY,yY="[object Set]";function bY(n){return Co(n)&&Mi(n)==yY}var B$=Dl&&Dl.isSet,xY=B$?k1(B$):bY,wY=1,m8="[object Arguments]",jY="[object Array]",$Y="[object Boolean]",kY="[object Date]",CY="[object Error]",g8="[object Function]",SY="[object GeneratorFunction]",OY="[object Map]",EY="[object Number]",v8="[object Object]",AY="[object RegExp]",MY="[object Set]",PY="[object String]",_Y="[object Symbol]",TY="[object WeakMap]",RY="[object ArrayBuffer]",NY="[object DataView]",DY="[object Float32Array]",IY="[object Float64Array]",zY="[object Int8Array]",LY="[object Int16Array]",BY="[object Int32Array]",qY="[object Uint8Array]",FY="[object Uint8ClampedArray]",VY="[object Uint16Array]",UY="[object Uint32Array]",dn={};dn[m8]=dn[jY]=dn[RY]=dn[NY]=dn[$Y]=dn[kY]=dn[DY]=dn[IY]=dn[zY]=dn[LY]=dn[BY]=dn[OY]=dn[EY]=dn[v8]=dn[AY]=dn[MY]=dn[PY]=dn[_Y]=dn[qY]=dn[FY]=dn[VY]=dn[UY]=!0;dn[CY]=dn[g8]=dn[TY]=!1;function Xd(n,e,t,r,i,o){var s,a=e&wY;if(s!==void 0)return s;if(!Ao(n))return n;var l=ji(n);if(l)s=UQ(n);else{var c=Mi(n),u=c==g8||c==SY;if(lu(n))return f8(n,a);if(c==v8||c==m8||u&&!i)s=u?{}:p8(n);else{if(!dn[c])return i?n:{};s=pY(n,c,a)}}o||(o=new Fi);var d=o.get(n);if(d)return d;o.set(n,s),xY(n)?n.forEach(function(p){s.add(Xd(p,e,t,p,n,o))}):vY(n)&&n.forEach(function(p,g){s.set(g,Xd(p,e,t,g,n,o))});var f=Qg,h=l?void 0:f(n);return NG(h||n,function(p,g){h&&(g=p,p=n[g]),Z6(s,g,Xd(p,e,t,g,n,o))}),s}var HY=1,WY=4;function KY(n){return Xd(n,HY|WY)}var GY="__lodash_hash_undefined__";function JY(n){return this.__data__.set(n,GY),this}function QY(n){return this.__data__.has(n)}function oh(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ns;++e<t;)this.add(n[e])}oh.prototype.add=oh.prototype.push=JY;oh.prototype.has=QY;function YY(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function XY(n,e){return n.has(e)}var ZY=1,eX=2;function y8(n,e,t,r,i,o){var s=t&ZY,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(n),u=o.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&eX?new oh:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var p=n[d],g=e[d];if(r)var v=s?r(g,p,d,e,n,o):r(p,g,d,n,e,o);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!YY(e,function(m,y){if(!XY(h,y)&&(p===m||i(p,m,t,r,o)))return h.push(y)})){f=!1;break}}else if(!(p===g||i(p,g,t,r,o))){f=!1;break}}return o.delete(n),o.delete(e),f}function tX(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function nX(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var rX=1,iX=2,oX="[object Boolean]",sX="[object Date]",aX="[object Error]",lX="[object Map]",cX="[object Number]",uX="[object RegExp]",dX="[object Set]",fX="[object String]",hX="[object Symbol]",pX="[object ArrayBuffer]",mX="[object DataView]",q$=ko?ko.prototype:void 0,tm=q$?q$.valueOf:void 0;function gX(n,e,t,r,i,o,s){switch(t){case mX:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case pX:return!(n.byteLength!=e.byteLength||!o(new ih(n),new ih(e)));case oX:case sX:case cX:return Mu(+n,+e);case aX:return n.name==e.name&&n.message==e.message;case uX:case fX:return n==e+"";case lX:var a=tX;case dX:var l=r&rX;if(a||(a=nX),n.size!=e.size&&!l)return!1;var c=s.get(n);if(c)return c==e;r|=iX,s.set(n,e);var u=y8(a(n),a(e),r,i,o,s);return s.delete(n),u;case hX:if(tm)return tm.call(n)==tm.call(e)}return!1}var vX=1,yX=Object.prototype,bX=yX.hasOwnProperty;function xX(n,e,t,r,i,o){var s=t&vX,a=Qg(n),l=a.length,c=Qg(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:bX.call(e,f)))return!1}var h=o.get(n),p=o.get(e);if(h&&p)return h==e&&p==n;var g=!0;o.set(n,e),o.set(e,n);for(var v=s;++d<l;){f=a[d];var m=n[f],y=e[f];if(r)var b=s?r(y,m,f,e,n,o):r(m,y,f,n,e,o);if(!(b===void 0?m===y||i(m,y,t,r,o):b)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var j=n.constructor,x=e.constructor;j!=x&&"constructor"in n&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof x=="function"&&x instanceof x)&&(g=!1)}return o.delete(n),o.delete(e),g}var wX=1,F$="[object Arguments]",V$="[object Array]",Ad="[object Object]",jX=Object.prototype,U$=jX.hasOwnProperty;function $X(n,e,t,r,i,o){var s=ji(n),a=ji(e),l=s?V$:Mi(n),c=a?V$:Mi(e);l=l==F$?Ad:l,c=c==F$?Ad:c;var u=l==Ad,d=c==Ad,f=l==c;if(f&&lu(n)){if(!lu(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Fi),s||C1(n)?y8(n,e,t,r,i,o):gX(n,e,l,t,r,i,o);if(!(t&wX)){var h=u&&U$.call(n,"__wrapped__"),p=d&&U$.call(e,"__wrapped__");if(h||p){var g=h?n.value():n,v=p?e.value():e;return o||(o=new Fi),i(g,v,t,r,o)}}return f?(o||(o=new Fi),xX(n,e,t,r,i,o)):!1}function P1(n,e,t,r,i){return n===e?!0:n==null||e==null||!Co(n)&&!Co(e)?n!==n&&e!==e:$X(n,e,t,r,P1,i)}var kX=1,CX=2;function SX(n,e,t,r){var i=t.length,o=i;if(n==null)return!o;for(n=Object(n);i--;){var s=t[i];if(s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=t[i];var a=s[0],l=n[a],c=s[1];if(s[2]){if(l===void 0&&!(a in n))return!1}else{var u=new Fi,d;if(!(d===void 0?P1(c,l,kX|CX,r,u):d))return!1}}return!0}function b8(n){return n===n&&!Ao(n)}function OX(n){for(var e=S1(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,b8(i)]}return e}function x8(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function EX(n){var e=OX(n);return e.length==1&&e[0][2]?x8(e[0][0],e[0][1]):function(t){return t===n||SX(t,n,e)}}function AX(n,e){return n!=null&&e in Object(n)}function MX(n,e,t){e=a8(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Gh(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&j1(i)&&w1(s,i)&&(ji(n)||rh(n)))}function PX(n,e){return n!=null&&MX(n,e,AX)}var _X=1,TX=2;function RX(n,e){return E1(n)&&b8(e)?x8(Gh(n),e):function(t){var r=mQ(t,n);return r===void 0&&r===e?PX(t,n):P1(e,r,_X|TX)}}function NX(n){return function(e){return e==null?void 0:e[n]}}function DX(n){return function(e){return l8(e,n)}}function IX(n){return E1(n)?NX(Gh(n)):DX(n)}function zX(n){return typeof n=="function"?n:n==null?b1:typeof n=="object"?ji(n)?RX(n[0],n[1]):EX(n):IX(n)}function LX(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(t(o[l],l,o)===!1)break}return e}}var w8=LX();function BX(n,e){return n&&w8(n,e,S1)}function e0(n,e,t){(t!==void 0&&!Mu(n[e],t)||t===void 0&&!(e in n))&&Uh(n,e,t)}function qX(n){return Co(n)&&Hh(n)}function t0(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function FX(n){return e8(n,O1(n))}function VX(n,e,t,r,i,o,s){var a=t0(n,t),l=t0(e,t),c=s.get(l);if(c){e0(n,t,c);return}var u=o?o(a,l,t+"",n,e,s):void 0,d=u===void 0;if(d){var f=ji(l),h=!f&&lu(l),p=!f&&!h&&C1(l);u=l,f||h||p?ji(a)?u=a:qX(a)?u=OG(a):h?(d=!1,u=f8(l,!0)):p?(d=!1,u=h8(l,!0)):u=[]:jQ(l)||rh(l)?(u=a,rh(a)?u=FX(a):(!Ao(a)||x1(a))&&(u=p8(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),e0(n,t,u)}function j8(n,e,t,r,i){n!==e&&w8(e,function(o,s){if(i||(i=new Fi),Ao(o))VX(n,e,s,t,j8,r,i);else{var a=r?r(t0(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),e0(n,s,a)}},O1)}var UX=t8(function(n,e,t,r){j8(n,e,t,r)});function HX(n,e){var t={};return e=zX(e),BX(n,function(r,i,o){Uh(t,e(r,i,o),r)}),t}const WX=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),KX=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),GX=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),JX=/[^\p{L}\d]+/giu,H$="$1\0$2",W$="";function $8(n){let e=n.trim();e=e.replace(WX,H$).replace(KX,H$),e=e.replace(JX,"\0");let t=0,r=e.length;for(;e.charAt(t)==="\0";)t++;if(t===r)return[];for(;e.charAt(r-1)==="\0";)r--;return e.slice(t,r).split(/\0/g)}function QX(n){const e=$8(n);for(let t=0;t<e.length;t++){const r=e[t],i=GX.exec(r);if(i){const o=i.index+(i[1]??i[2]).length;e.splice(t,1,r.slice(0,o),r.slice(o))}}return e}function YX(n,e){const[t,r,i]=tZ(n,e),o=XX(void 0),s=ZX(void 0),a=eZ(o,s);return t+r.map((l,c)=>c===0?o(l):a(l,c)).join("")+i}function XX(n){return e=>e.toLocaleLowerCase(n)}function ZX(n){return e=>e.toLocaleUpperCase(n)}function eZ(n,e){return(t,r)=>{const i=t[0];return(r>0&&i>="0"&&i<="9"?"_"+i:e(i))+n(t.slice(1))}}function tZ(n,e={}){const t=e.split??(e.separateNumbers?QX:$8),r=e.prefixCharacters??W$,i=e.suffixCharacters??W$;let o=0,s=n.length;for(;o<n.length;){const a=n.charAt(o);if(!r.includes(a))break;o++}for(;s>o;){const a=s-1,l=n.charAt(a);if(!i.includes(l))break;s=a}return[n.slice(0,o),t(n.slice(o,s)),n.slice(s)]}const Tc=n=>/.+-.+/.test(n)?YX(n):n,nZ=n=>Object.prototype.toString.call(n).slice(8,-1)==="Object";function rZ(n,e){const t=Object.create(null),r=n.split(",");for(let i=0;i<r.length;i++)t[r[i]]=!0;return i=>!!t[i]}const iZ=rZ("String,Number,Boolean,Function,Symbol,BigInt");function oZ(n){const e=n==null?void 0:n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function sZ(n,e){let t;const r=oZ(e);if(iZ(r)){const i=typeof n;t=i===r.toLowerCase(),!t&&i==="object"&&(t=n instanceof e)}else r==="Object"?t=Ao(n):r==="Array"?t=Array.isArray(n):r==="null"?t=n===null:t=n instanceof e;return{valid:t,expectedType:r}}function aZ({prop:n,type:e,validator:t}){if(![void 0,null].includes(n)&&e){let r=!1;const i=Array.isArray(e)?e:[e],o=[];for(let s=0;s<i.length&&!r;s++){const{valid:a,expectedType:l}=sZ(n,i[s]);o.push(l||""),r=a}if(!r)throw new TypeError(`Invalid prop: type check failed, expecting [${o.join(", ")}], receiving: ${n}`)}if(t&&!t(n))throw new Error(`Invalid prop: validator check failed, receiving: ${n}`)}function lZ(n,{mergeObject:e,mergeObjectCustomizer:t,mergeFunction:r}){const i=[];for(let s=n.length-1;s>=0;s--)i.push(n[s]);const o=t||(r?(s,a)=>typeof s=="function"&&typeof a=="function"?r==null?void 0:r(a,s):void 0:void 0);return e==="deep"?UX(...i,o):RJ(...i,o)}function cZ(n,{mergeFunction:e}){return n.reduce(e,()=>{})}function us(n,e={}){const{type:t,default:r,defaultIsDynamic:i=!1,required:o=!1,validator:s,camelizeObjectKeys:a=!1,mergeObjectApplyOnlyToDefault:l=!1,mergeFunctionApplyOnlyToDefault:c=!0}=e;let{mergeObject:u="deep",mergeObjectCustomizer:d,mergeFunction:f=!1}=e;const h=[];let p,g=!1,v=!1;const m=y=>{if(y!==void 0){aZ({type:t,prop:y,validator:s});const b=nZ(y),j=typeof y=="function";return g=b,v=j,b?(y=KY(y),a?HX(y,(x,S)=>Tc(S)):y):y}};for(const y of n)h.push(m(y));if(!i)h.push(m(r));else if(typeof r!="function")throw new TypeError(`Invalid option: options.default should be Function when options.defaultIsDynamic enabled, receiving: ${r}`);g||(u=!1,v||(f=!1));for(let y=0;y<h.length;y++){const b=h[y];if(b!==void 0){y===h.length-1?p=b:u?p=lZ(l?[b,r]:h,{mergeObject:u,mergeObjectCustomizer:d,mergeFunction:f}):f?p=cZ(c?[b,r]:h,{mergeFunction:f}):p=b;break}}if(o&&[void 0,null].includes(p))throw new Error("Missing required prop");return i?us(n,{...e,default:r(p),defaultIsDynamic:!1}):p}function K$(n){const e=Array.from(Tc(n));return e[0]=e[0].toUpperCase(),e.unshift("o","n"),e.join("")}function uZ(n,{props:e=[],camelizePropNames:t=!1}={}){const r={props:{},attrs:{},listeners:{},hooks:{},slots:{}};let i;if(Array.isArray(e))i=t?e.map(o=>Tc(o)):e;else if(t){i=[];for(const o in e)i.push(Tc(o))}else i=Object.keys(e);for(const o in n)if(o.startsWith("@")){const s=o.substring(1);if(s.startsWith("vue:"))r.hooks[K$(s.replace("vue:","vnode-"))]=n[o];else{if(s.startsWith("vnode"))throw new Error("@vnode-* hooks are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in Vue 3.4.");r.listeners[K$(s)]=n[o]}}else if(o.startsWith("#")){const s=o.substring(1);s&&(r.slots[s]=n[o])}else{const s=t?Tc(o):o;i.includes(s)?r.props[s]=n[o]:r.attrs[o]=n[o]}return r}const G$="JsonEditorVue",cs={},J$={},Zd="modelValue",Q$="update:modelValue",ef=["mainMenuBar","navigationBar","statusBar","askToFormat","readOnly","escapeControlCharacters","escapeUnicodeCharacters","flattenColumns"],Y$={[Zd]:{},mode:{type:String},debounce:{type:Number},stringified:{type:Boolean,default:void 0},...Object.fromEntries(ef.map(n=>[n,{type:Boolean,default:void 0}]))},dZ=U8({name:G$,install(n,e){const t=uZ(e||{},{props:Y$});Object.assign(cs,t.props),Object.assign(J$,t.attrs),n.component(G$,this)},props:Y$,emits:{[Q$](n){return!0},"update:mode":function(n){return!0}},setup(n,{attrs:e,emit:t,expose:r}){var i;const o=(i=H8())==null?void 0:i.proxy,s=Ti(),a=Ti(!1),l=Ti();W8(()=>{var m;l.value=us([n.mode,cs.mode],{type:String}),(m=s.value)==null||m.updateProps({mode:l.value||Tn.tree})});const c=m=>{t("update:mode",m)};cs.mode!==void 0&&n.mode===void 0&&c(cs.mode);const u=R1(()=>us([n.debounce,cs.debounce,300],{type:Number})),d=R1(()=>us([n.stringified,cs.stringified,!0],{type:Boolean}));let f=Yd;const h=m=>{a.value=!0,!d.value&&m.text&&(s.value&&!s.value.validate()&&(m.json=f(m.text)),m.text=void 0),t(Q$,m.text===void 0?m.json:m.text)},p=QK(h,u.value),g=m=>{l.value==="text"?p(m):h(m)},v=(m,y)=>(...b)=>{m(...b),y(...b)};return r==null||r({jsonEditor:s}),K8(()=>{var m;(m=s.value)==null||m.destroy()}),Z$(()=>{const m=us([n[Zd],cs[Zd]]),y=Object.fromEntries(Array.from(ef,j=>[j,us([n[j],cs[j]])]).filter(([,j])=>j!==void 0)),b=us([y,e,J$],{camelizeObjectKeys:!0,defaultIsDynamic:!0,default:j=>{var x;return f=((x=j.parser)==null?void 0:x.parse)||Yd,{onChange:g,onChangeMode:c,mode:l.value,parser:{parse:kK,stringify:JSON.stringify},...m!==void 0&&{content:{[typeof m=="string"&&l.value==="text"&&d.value?"text":"json"]:m}}}},mergeFunction:v,mergeObject:"shallow",type:Object});s.value=yK({target:o==null?void 0:o.$refs.jsonEditorRef,props:b}),ip(()=>n[Zd],j=>{if(a.value){a.value=!1;return}s.value&&s.value.set([void 0,""].includes(j)?{text:""}:{[typeof j=="string"&&l.value==="text"&&d.value?"text":"json"]:j})},{deep:!0}),ip(()=>Array.from(ef,j=>n[j]),j=>{var x;(x=s.value)==null||x.updateProps(Object.fromEntries(Array.from(j,(S,_)=>[ef[_],S]).filter(([,S])=>S!==void 0)))}),ip(()=>e,j=>{var x,S;const _={};(j.onChange||j["on-change"])&&(_.onChange=g),(j.onChangeMode||j["on-change-mode"])&&(_.onChangeMode=c),f=((x=j.parser)==null?void 0:x.parse)||Yd,(S=s.value)==null||S.updateProps(Object.getOwnPropertyNames(_).length>0?us([j,_],{camelizeObjectKeys:!0,mergeFunction:v,mergeObject:"shallow",type:Object}):j)},{deep:!0}),r||(r=j=>{for(const x in j)o[x]=rm(j[x])},r({jsonEditor:s}))}),()=>G8("div",{ref:"jsonEditorRef"})}}),fZ={style:{"margin-top":"30px"}},hZ={__name:"saveMappingInfo",emits:["afterSave"],setup(n,{expose:e,emit:t}){const r=Ti(!1),i=Ti(!1),o=Ti(0),s=t,a=Ti({describe:"",content:""}),l=h=>{o.value=h,r.value=!0,h?(i.value=!0,c(h)):(i.value=!1,a.value={})},c=async h=>{let p=await C5(h);a.value=p.data},u=async()=>{let h=await S5(a.value);om.success(h.message),a.value={},r.value=!1,s("afterSave")},d=async()=>{let h=await O5(o.value,a.value);om.success(h.message),a.value={},r.value=!1,s("afterSave")},f=()=>{r.value=!1};return e({open:l}),(h,p)=>{const g=rk,v=m5,m=g5,y=ok,b=v5;return Md(),ek("div",null,[cr(b,{title:i.value?"修改":"新增",modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=j=>r.value=j)},{footer:Or(()=>[tk("div",fZ,[cr(y,{onClick:f},{default:Or(()=>p[3]||(p[3]=[hs("取消")])),_:1}),i.value?(Md(),N1(y,{key:0,type:"primary",onClick:d},{default:Or(()=>p[4]||(p[4]=[hs("修改")])),_:1})):(Md(),N1(y,{key:1,type:"primary",onClick:u},{default:Or(()=>p[5]||(p[5]=[hs("新增")])),_:1}))])]),default:Or(()=>[cr(m,{"label-position":"left","label-width":"auto"},{default:Or(()=>[cr(v,{label:"描述:",style:{width:"100%"}},{default:Or(()=>[cr(g,{clearable:"",modelValue:a.value.describe,"onUpdate:modelValue":p[0]||(p[0]=j=>a.value.describe=j)},null,8,["modelValue"])]),_:1}),cr(v,null,{default:Or(()=>[cr(rm(dZ),{style:{width:"100%",height:"500px"},modelValue:a.value.content,"onUpdate:modelValue":p[1]||(p[1]=j=>a.value.content=j),mode:rm(Tn).text},null,8,["modelValue","mode"])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])])}}},pZ={style:{"margin-top":"20px"}},mZ={__name:"mappingManger",setup(n){const e=Ti(null),t=Ti([]),r=Ti(0),i=async()=>{let f=await E5(o.value);t.value=f.data.data,r.value=f.data.total};Z$(()=>{i()});const o=Ti({page:1,size:5,queryStr:""}),s=()=>{e.value.open(0)},a=f=>{e.value.open(f)},l=async f=>{x5.confirm("确定删除该配置吗？","提示",{type:"warning"}).then(async()=>{let h=await A5(f);om.success(h.message),await i()}).catch(()=>{console.log("取消删除")})},c=()=>{i()},u=f=>{o.value.size=f,i()},d=f=>{o.value.page=f,i()};return(f,h)=>{const p=rk,g=ok,v=w5,m=y5,y=b5;return Md(),ek("div",null,[tk("div",pZ,[cr(p,{style:{width:"250px"},modelValue:o.value.queryStr,"onUpdate:modelValue":h[0]||(h[0]=b=>o.value.queryStr=b),onKeyup:J8(i,["enter"]),clearable:"",onClear:i,placeholder:"可根据描述查询"},null,8,["modelValue"]),cr(g,{style:{"margin-left":"20px"},type:"primary",onClick:i},{default:Or(()=>h[3]||(h[3]=[hs("查询")])),_:1}),cr(g,{style:{"margin-left":"20px"},type:"danger",onClick:s},{default:Or(()=>h[4]||(h[4]=[hs("新增mapping")])),_:1})]),cr(m,{style:{"margin-top":"10px"},data:t.value},{default:Or(()=>[cr(v,{label:"描述"},{default:Or(b=>[hs(Q8(b.row.describe),1)]),_:1}),cr(v,{label:"操作"},{default:Or(b=>[cr(g,{type:"primary",onClick:j=>a(b.row.id)},{default:Or(()=>h[5]||(h[5]=[hs("修改")])),_:2},1032,["onClick"]),cr(g,{type:"danger",onClick:j=>l(b.row.id)},{default:Or(()=>h[6]||(h[6]=[hs("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),cr(y,{"current-page":o.value.page,"onUpdate:currentPage":h[1]||(h[1]=b=>o.value.page=b),"page-size":o.value.size,"onUpdate:pageSize":h[2]||(h[2]=b=>o.value.size=b),"page-sizes":[1,5,10],layout:"total, sizes, prev, pager, next, jumper",total:r.value,onSizeChange:u,onCurrentChange:d},null,8,["current-page","page-size","total"]),cr(hZ,{ref_key:"saveMappingInfoRef",ref:e,onAfterSave:c},null,512)])}}},NZ=k5(mZ,[["__scopeId","data-v-557572bc"]]);export{NZ as default};
